(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Xd={exports:{}},Rl={};var cv;function $A(){if(cv)return Rl;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var uv;function JA(){return uv||(uv=1,Xd.exports=$A()),Xd.exports}var E=JA(),$d={exports:{}},Ee={};var hv;function WA(){if(hv)return Ee;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function z(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function re(k,X,ne){this.props=k,this.context=X,this.refs=Z,this.updater=ne||F}re.prototype.isReactComponent={},re.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},re.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function le(){}le.prototype=re.prototype;function ae(k,X,ne){this.props=k,this.context=X,this.refs=Z,this.updater=ne||F}var be=ae.prototype=new le;be.constructor=ae,J(be,re.prototype),be.isPureReactComponent=!0;var Ve=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(k,X,ne){var se=ne.ref;return{$$typeof:s,type:k,key:X,ref:se!==void 0?se:null,props:ne}}function M(k,X){return I(k.type,X,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function L(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return X[ne]})}var C=/\/+/g;function it(k,X){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):X.toString(36)}function It(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ue,ue):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,X,ne,se,_e){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var Pe=!1;if(k===null)Pe=!0;else switch(Re){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(k.$$typeof){case s:case e:Pe=!0;break;case b:return Pe=k._init,K(Pe(k._payload),X,ne,se,_e)}}if(Pe)return _e=_e(k),Pe=se===""?"."+it(k,0):se,Ve(_e)?(ne="",Pe!=null&&(ne=Pe.replace(C,"$&/")+"/"),K(_e,X,ne,"",function(fr){return fr})):_e!=null&&(D(_e)&&(_e=M(_e,ne+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Pe)),X.push(_e)),1;Pe=0;var xt=se===""?".":se+":";if(Ve(k))for(var st=0;st<k.length;st++)se=k[st],Re=xt+it(se,st),Pe+=K(se,X,ne,Re,_e);else if(st=z(k),typeof st=="function")for(k=st.call(k),st=0;!(se=k.next()).done;)se=se.value,Re=xt+it(se,st++),Pe+=K(se,X,ne,Re,_e);else if(Re==="object"){if(typeof k.then=="function")return K(It(k),X,ne,se,_e);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function te(k,X,ne){if(k==null)return k;var se=[],_e=0;return K(k,se,"","",function(Re){return X.call(ne,Re,_e++)}),se}function de(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:te,forEach:function(k,X,ne){te(k,function(){X.apply(this,arguments)},ne)},count:function(k){var X=0;return te(k,function(){X++}),X},toArray:function(k){return te(k,function(X){return X})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ee.Activity=A,Ee.Children=Ge,Ee.Component=re,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=ae,Ee.StrictMode=r,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(k,X,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=J({},k.props),_e=k.key;if(X!=null)for(Re in X.key!==void 0&&(_e=""+X.key),X)!w.call(X,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&X.ref===void 0||(se[Re]=X[Re]);var Re=arguments.length-2;if(Re===1)se.children=ne;else if(1<Re){for(var Pe=Array(Re),xt=0;xt<Re;xt++)Pe[xt]=arguments[xt+2];se.children=Pe}return I(k.type,_e,se)},Ee.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ee.createElement=function(k,X,ne){var se,_e={},Re=null;if(X!=null)for(se in X.key!==void 0&&(Re=""+X.key),X)w.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=X[se]);var Pe=arguments.length-2;if(Pe===1)_e.children=ne;else if(1<Pe){for(var xt=Array(Pe),st=0;st<Pe;st++)xt[st]=arguments[st+2];_e.children=xt}if(k&&k.defaultProps)for(se in Pe=k.defaultProps,Pe)_e[se]===void 0&&(_e[se]=Pe[se]);return I(k,Re,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:m,render:k}},Ee.isValidElement=D,Ee.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:de}},Ee.memo=function(k,X){return{$$typeof:y,type:k,compare:X===void 0?null:X}},Ee.startTransition=function(k){var X=R.T,ne={};R.T=ne;try{var se=k(),_e=R.S;_e!==null&&_e(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ue,je)}catch(Re){je(Re)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),R.T=X}},Ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ee.use=function(k){return R.H.use(k)},Ee.useActionState=function(k,X,ne){return R.H.useActionState(k,X,ne)},Ee.useCallback=function(k,X){return R.H.useCallback(k,X)},Ee.useContext=function(k){return R.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,X){return R.H.useDeferredValue(k,X)},Ee.useEffect=function(k,X){return R.H.useEffect(k,X)},Ee.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Ee.useId=function(){return R.H.useId()},Ee.useImperativeHandle=function(k,X,ne){return R.H.useImperativeHandle(k,X,ne)},Ee.useInsertionEffect=function(k,X){return R.H.useInsertionEffect(k,X)},Ee.useLayoutEffect=function(k,X){return R.H.useLayoutEffect(k,X)},Ee.useMemo=function(k,X){return R.H.useMemo(k,X)},Ee.useOptimistic=function(k,X){return R.H.useOptimistic(k,X)},Ee.useReducer=function(k,X,ne){return R.H.useReducer(k,X,ne)},Ee.useRef=function(k){return R.H.useRef(k)},Ee.useState=function(k){return R.H.useState(k)},Ee.useSyncExternalStore=function(k,X,ne){return R.H.useSyncExternalStore(k,X,ne)},Ee.useTransition=function(){return R.H.useTransition()},Ee.version="19.2.0",Ee}var fv;function Gm(){return fv||(fv=1,$d.exports=WA()),$d.exports}var we=Gm(),Jd={exports:{}},Il={},Wd={exports:{}},Zd={};var dv;function ZA(){return dv||(dv=1,(function(s){function e(K,te){var de=K.length;K.push(te);e:for(;0<de;){var je=de-1>>>1,Ge=K[je];if(0<o(Ge,te))K[je]=te,K[de]=Ge,de=je;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],de=K.pop();if(de!==te){K[0]=de;e:for(var je=0,Ge=K.length,k=Ge>>>1;je<k;){var X=2*(je+1)-1,ne=K[X],se=X+1,_e=K[se];if(0>o(ne,de))se<Ge&&0>o(_e,ne)?(K[je]=_e,K[se]=de,je=se):(K[je]=ne,K[X]=de,je=X);else if(se<Ge&&0>o(_e,de))K[je]=_e,K[se]=de,je=se;else break e}}return te}function o(K,te){var de=K.sortIndex-te.sortIndex;return de!==0?de:K.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,A=null,x=3,z=!1,F=!1,J=!1,Z=!1,re=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function be(K){for(var te=n(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=K)r(y),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(y)}}function Ve(K){if(J=!1,be(K),!F)if(n(g)!==null)F=!0,ue||(ue=!0,L());else{var te=n(y);te!==null&&It(Ve,te.startTime-K)}}var ue=!1,R=-1,w=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<w)}function D(){if(Z=!1,ue){var K=s.unstable_now();I=K;var te=!0;try{e:{F=!1,J&&(J=!1,le(R),R=-1),z=!0;var de=x;try{t:{for(be(K),A=n(g);A!==null&&!(A.expirationTime>K&&M());){var je=A.callback;if(typeof je=="function"){A.callback=null,x=A.priorityLevel;var Ge=je(A.expirationTime<=K);if(K=s.unstable_now(),typeof Ge=="function"){A.callback=Ge,be(K),te=!0;break t}A===n(g)&&r(g),be(K)}else r(g);A=n(g)}if(A!==null)te=!0;else{var k=n(y);k!==null&&It(Ve,k.startTime-K),te=!1}}break e}finally{A=null,x=de,z=!1}te=void 0}}finally{te?L():ue=!1}}}var L;if(typeof ae=="function")L=function(){ae(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,it=C.port2;C.port1.onmessage=D,L=function(){it.postMessage(null)}}else L=function(){re(D,0)};function It(K,te){R=re(function(){K(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(K){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var de=x;x=te;try{return K()}finally{x=de}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=x;x=K;try{return te()}finally{x=de}},s.unstable_scheduleCallback=function(K,te,de){var je=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,K={id:b++,callback:te,priorityLevel:K,startTime:de,expirationTime:Ge,sortIndex:-1},de>je?(K.sortIndex=de,e(y,K),n(g)===null&&K===n(y)&&(J?(le(R),R=-1):J=!0,It(Ve,de-je))):(K.sortIndex=Ge,e(g,K),F||z||(F=!0,ue||(ue=!0,L()))),K},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(K){var te=x;return function(){var de=x;x=te;try{return K.apply(this,arguments)}finally{x=de}}}})(Zd)),Zd}var mv;function ew(){return mv||(mv=1,Wd.exports=ZA()),Wd.exports}var em={exports:{}},Qt={};var pv;function tw(){if(pv)return Qt;pv=1;var s=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,b)},Qt.flushSync=function(g){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=b,r.d.f()}},Qt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Qt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Qt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:z}):b==="script"&&r.d.X(g,{crossOrigin:A,integrity:x,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Qt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Qt.requestFormReset=function(g){r.d.r(g)},Qt.unstable_batchedUpdates=function(g,y){return g(y)},Qt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.0",Qt}var gv;function nw(){if(gv)return em.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),em.exports=tw(),em.exports}var yv;function iw(){if(yv)return Il;yv=1;var s=ew(),e=Gm(),n=nw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case re:return"Profiler";case Z:return"StrictMode";case Ve:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ae:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:it(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return it(t(i))}catch{}}return null}var It=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function k(t){return{current:t}}function X(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ne(t,i){Ge++,je[Ge]=t.current,t.current=i}var se=k(null),_e=k(null),Re=k(null),Pe=k(null);function xt(t,i){switch(ne(Re,i),ne(_e,t),ne(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=O_(i),t=M_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(se),ne(se,t)}function st(){X(se),X(_e),X(Re)}function fr(t){t.memoizedState!==null&&ne(Pe,t);var i=se.current,a=M_(i,t.type);i!==a&&(ne(_e,t),ne(se,a))}function aa(t){_e.current===t&&(X(se),X(_e)),Pe.current===t&&(X(Pe),bl._currentValue=de)}var oa,la;function ri(t){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+t+la}var bo=!1;function dr(t,i){if(!t||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){B=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),j=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return ri("Activity");default:return""}}function Ao(t){try{var i="",a=null;do i+=So(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,$h=s.unstable_shouldYield,fc=s.unstable_requestPaint,en=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,wo=s.unstable_ImmediatePriority,Ro=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Jh=s.unstable_LowPriority,dc=s.unstable_IdlePriority,mc=s.log,pc=s.unstable_setDisableYieldValue,qn=null,jt=null;function In(t){if(typeof mc=="function"&&pc(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(qn,t)}catch{}}var ht=Math.clz32?Math.clz32:yc,gc=Math.log,ca=Math.LN2;function yc(t){return t>>>=0,t===0?32:31-(gc(t)/ca|0)|0}var ai=256,pr=262144,yt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=oi(l):(_&=T,_!==0?h=oi(_):a||(a=T&~t,a!==0&&(h=oi(a))))):(T=l&~d,T!==0?h=oi(T):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ht(a),Q=1<<G;T[G]=0,N[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&yr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function yr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ht(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Io(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ht(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function xo(t,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(t.suspendedLanes|i))!==0?0:a}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function Gn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Kn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Kn,Vt="__reactProps$"+Kn,ui="__reactContainer$"+Kn,ua="__reactEvents$"+Kn,ef="__reactListeners$"+Kn,Ec="__reactHandles$"+Kn,Tc="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function ha(t){delete t[_t],delete t[Vt],delete t[ua],delete t[ef],delete t[Ec]}function fi(t){var i=t[_t];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[_t]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[_t])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[_t]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function di(t){var i=t[Tc];return i||(i=t[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[hi]=!0}var Co=new Set,No={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(No[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function bc(t){return gt.call(Mo,t)?!0:gt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function fa(t,i,a){if(bc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Et(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=ds(t)?"checked":"value";t._valueTracker=ko(t,i,""+t[i])}}function vr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ds(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function rn(t){return t.replace(Er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,_,Lt(i)):a!=null?Vo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Sc(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Vo(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ms(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ac(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(It(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Uo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,yi=null;function Tr(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vr(l)}break e;case"textarea":Ac(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ms(t,!!a.multiple,i,!1)}}}var ga=!1;function _s(t,i,a){if(ga)return t(i,a);ga=!0;try{var l=t(i);return l}finally{if(ga=!1,(ys!==null||yi!==null)&&(vu(),ys&&(i=ys,t=yi,yi=ys=null,Tr(i),t)))for(i=0;i<t.length;i++)Tr(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Nn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){br=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{br=!1}var _i=null,jo=null,Sr=null;function zo(){if(Sr)return Sr;var t,i=jo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Sr=h.slice(t,1<l?1-l:void 0)}function Ar(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Xn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Xn,this.isPropagationStopped=Xn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=zt(ji),vs=A({},ji,{view:0,detail:0}),Bo=zt(vs),Es,ya,Ei,_a=A({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Es=t.screenX-Ei.screenX,ya=t.screenY-Ei.screenY):ya=Es=0,Ei=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Ho=zt(_a),wr=A({},_a,{dataTransfer:0}),Ic=zt(wr),xc=A({},vs,{relatedTarget:0}),Rr=zt(xc),qo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=zt(qo),va=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nc=zt(va),Dc=A({},ji,{data:0}),Ti=zt(Dc),Oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=kc[t])?!!i[t]:!1}function Ts(){return Vc}var tn=A({},vs,{key:function(t){if(t.key){var i=Oc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lc=zt(tn),Pc=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=zt(Pc),u=A({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),p=zt(u),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(v),P=A({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=zt(P),ee=A({},ji,{newState:0,oldState:0}),Se=zt(ee),ft=[9,13,27,32],He=Nn&&"CompositionEvent"in window,rt=null;Nn&&"documentMode"in document&&(rt=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!rt,bi=Nn&&(!He||rt&&8<rt&&11>=rt),$n=" ",Jn=!1;function Ir(t,i){switch(t){case"keyup":return ft.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function ES(t,i){switch(t){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Jn=!0,$n);case"textInput":return t=i.data,t===$n&&Jn?null:t;default:return null}}function TS(t,i){if(Ta)return t==="compositionend"||!He&&Ir(t,i)?(t=zo(),Sr=jo=_i=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bS[t.type]:i==="textarea"}function Fp(t,i,a,l){ys?yi?yi.push(l):yi=[l]:ys=l,i=Ru(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Fo=null,Go=null;function SS(t){R_(t,0)}function Uc(t){var i=pn(t);if(vr(i))return t}function Gp(t,i){if(t==="change")return i}var Kp=!1;if(Nn){var tf;if(Nn){var nf="oninput"in document;if(!nf){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),nf=typeof Yp.oninput=="function"}tf=nf}else tf=!1;Kp=tf&&(!document.documentMode||9<document.documentMode)}function Qp(){Fo&&(Fo.detachEvent("onpropertychange",Xp),Go=Fo=null)}function Xp(t){if(t.propertyName==="value"&&Uc(Go)){var i=[];Fp(i,Go,t,Cn(t)),_s(SS,i)}}function AS(t,i,a){t==="focusin"?(Qp(),Fo=i,Go=a,Fo.attachEvent("onpropertychange",Xp)):t==="focusout"&&Qp()}function wS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Go)}function RS(t,i){if(t==="click")return Uc(i)}function IS(t,i){if(t==="input"||t==="change")return Uc(i)}function xS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:xS;function Ko(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,i){var a=$p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var CS=Nn&&"documentMode"in document&&11>=document.documentMode,ba=null,rf=null,Yo=null,af=!1;function eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ba==null||ba!==gi(l)||(l=ba,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=Ru(rf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function xr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},of={},tg={};Nn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Cr(t){if(of[t])return of[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return of[t]=i[a];return t}var ng=Cr("animationend"),ig=Cr("animationiteration"),sg=Cr("animationstart"),NS=Cr("transitionrun"),DS=Cr("transitionstart"),OS=Cr("transitioncancel"),rg=Cr("transitionend"),ag=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Wn(t,i){ag.set(t,i),mi(i,[t])}var jc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Aa=0,cf=0;function zc(){for(var t=Aa,i=cf=Aa=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Bc(t,i,a,l){On[Aa++]=t,On[Aa++]=i,On[Aa++]=a,On[Aa++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,i,a,l){return Bc(t,i,a,l),Hc(t)}function Nr(t,i){return Bc(t,null,null,i),Hc(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ht(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hc(t){if(50<pl)throw pl=0,vd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function MS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new MS(t,i,a,l)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=UA(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,i,h),t.elementType=I,t.lanes=d,t;case J:return Dr(a.children,h,d,i);case Z:_=8,h|=24;break;case re:return t=_n(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case Ve:return t=_n(13,a,i,h),t.elementType=Ve,t.lanes=d,t;case ue:return t=_n(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case le:_=9;break e;case be:_=11;break e;case R:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Dr(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function ff(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function cg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function df(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ug=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ao(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Ao(i)}}var Ra=[],Ia=0,Fc=null,Qo=0,kn=[],Vn=0,bs=null,Si=1,Ai="";function Hi(t,i){Ra[Ia++]=Qo,Ra[Ia++]=Fc,Fc=t,Qo=i}function hg(t,i,a){kn[Vn++]=Si,kn[Vn++]=Ai,kn[Vn++]=bs,bs=t;var l=Si;t=Ai;var h=32-ht(l)-1;l&=~(1<<h),a+=1;var d=32-ht(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-ht(i)+h|a<<h|l,Ai=d+t}else Si=1<<d|a<<h|l,Ai=t}function mf(t){t.return!==null&&(Hi(t,1),hg(t,1,0))}function pf(t){for(;t===Fc;)Fc=Ra[--Ia],Ra[Ia]=null,Qo=Ra[--Ia],Ra[Ia]=null;for(;t===bs;)bs=kn[--Vn],kn[Vn]=null,Ai=kn[--Vn],kn[Vn]=null,Si=kn[--Vn],kn[Vn]=null}function fg(t,i){kn[Vn++]=Si,kn[Vn++]=Ai,kn[Vn++]=bs,Si=i.id,Ai=i.overflow,bs=t}var Bt=null,et=null,Le=!1,Ss=null,Ln=!1,gf=Error(r(519));function As(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Mn(i,t)),gf}function dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[_t]=t,i[Vt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Ce(yl[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),Sc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),ps(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||N_(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||As(t,!0)}function mg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Bt=Bt.return}}function xa(t){if(t!==Bt)return!1;if(!Le)return mg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&et&&As(t),mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=j_(t)}else i===27?(i=et,Us(t.type)?(t=jd,jd=null,et=t):et=i):et=Bt?Un(t.stateNode.nextSibling):null;return!0}function Or(){et=Bt=null,Le=!1}function yf(){var t=Ss;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ss=null),t}function Xo(t){Ss===null?Ss=[t]:Ss.push(t)}var _f=k(null),Mr=null,qi=null;function ws(t,i,a){ne(_f,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=_f.current,X(_f)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ef(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Ef(i,t,a,l),i.flags|=262144}function Gc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Mr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return pg(Mr,t)}function Kc(t,i){return Mr===null&&kr(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VS=s.unstable_scheduleCallback,LS=s.unstable_NormalPriority,Tt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new kS,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&VS(LS,function(){t.controller.abort()})}var Jo=null,bf=0,Na=0,Da=null;function PS(t,i){if(Jo===null){var a=Jo=[];bf=0,Na=wd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,i.then(gg,gg),i}function gg(){if(--bf===0&&Jo!==null){Da!==null&&(Da.status="fulfilled");var t=Jo;Jo=null,Na=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=K.S;K.S=function(t,i){e_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(t,i),yg!==null&&yg(t,i)};var Vr=k(null);function Sf(){var t=Vr.current;return t!==null?t:Ze.pooledCache}function Yc(t,i){i===null?ne(Vr,Vr.current):ne(Vr,i.pool)}function _g(){var t=Sf();return t===null?null:{parent:Tt._currentValue,pool:t}}var Oa=Error(r(460)),Af=Error(r(474)),Qc=Error(r(542)),Xc={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw Pr=i,Oa}}function Lr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,Oa):a}}var Pr=null;function Tg(){if(Pr===null)throw Error(r(459));var t=Pr;return Pr=null,t}function bg(t){if(t===Oa||t===Qc)throw Error(r(483))}var Ma=null,Wo=0;function $c(t){var i=Wo;return Wo+=1,Ma===null&&(Ma=[]),Eg(Ma,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Jc(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sg(t){function i(V,O){if(t){var U=V.deletions;U===null?(V.deletions=[O],V.flags|=16):U.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Bi(V,O),V.index=0,V.sibling=null,V}function d(V,O,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<O?(V.flags|=67108866,O):U):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,U,Y){return O===null||O.tag!==6?(O=ff(U,V.mode,Y),O.return=V,O):(O=h(O,U),O.return=V,O)}function N(V,O,U,Y){var fe=U.type;return fe===J?G(V,O,U.props.children,Y,U.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Lr(fe)===O.type)?(O=h(O,U.props),Zo(O,U),O.return=V,O):(O=qc(U.type,U.key,U.props,null,V.mode,Y),Zo(O,U),O.return=V,O)}function j(V,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=df(U,V.mode,Y),O.return=V,O):(O=h(O,U.children||[]),O.return=V,O)}function G(V,O,U,Y,fe){return O===null||O.tag!==7?(O=Dr(U,V.mode,Y,fe),O.return=V,O):(O=h(O,U),O.return=V,O)}function Q(V,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ff(""+O,V.mode,U),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return U=qc(O.type,O.key,O.props,null,V.mode,U),Zo(U,O),U.return=V,U;case F:return O=df(O,V.mode,U),O.return=V,O;case w:return O=Lr(O),Q(V,O,U)}if(It(O)||L(O))return O=Dr(O,V.mode,U,null),O.return=V,O;if(typeof O.then=="function")return Q(V,$c(O),U);if(O.$$typeof===ae)return Q(V,Kc(V,O),U);Jc(V,O)}return null}function B(V,O,U,Y){var fe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:T(V,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===fe?N(V,O,U,Y):null;case F:return U.key===fe?j(V,O,U,Y):null;case w:return U=Lr(U),B(V,O,U,Y)}if(It(U)||L(U))return fe!==null?null:G(V,O,U,Y,null);if(typeof U.then=="function")return B(V,O,$c(U),Y);if(U.$$typeof===ae)return B(V,O,Kc(V,U),Y);Jc(V,U)}return null}function q(V,O,U,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,T(O,V,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return V=V.get(Y.key===null?U:Y.key)||null,N(O,V,Y,fe);case F:return V=V.get(Y.key===null?U:Y.key)||null,j(O,V,Y,fe);case w:return Y=Lr(Y),q(V,O,U,Y,fe)}if(It(Y)||L(Y))return V=V.get(U)||null,G(O,V,Y,fe,null);if(typeof Y.then=="function")return q(V,O,U,$c(Y),fe);if(Y.$$typeof===ae)return q(V,O,U,Kc(O,Y),fe);Jc(O,Y)}return null}function oe(V,O,U,Y){for(var fe=null,ze=null,ce=O,Ie=O=0,De=null;ce!==null&&Ie<U.length;Ie++){ce.index>Ie?(De=ce,ce=null):De=ce.sibling;var Be=B(V,ce,U[Ie],Y);if(Be===null){ce===null&&(ce=De);break}t&&ce&&Be.alternate===null&&i(V,ce),O=d(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,ce=De}if(Ie===U.length)return a(V,ce),Le&&Hi(V,Ie),fe;if(ce===null){for(;Ie<U.length;Ie++)ce=Q(V,U[Ie],Y),ce!==null&&(O=d(ce,O,Ie),ze===null?fe=ce:ze.sibling=ce,ze=ce);return Le&&Hi(V,Ie),fe}for(ce=l(ce);Ie<U.length;Ie++)De=q(ce,V,Ie,U[Ie],Y),De!==null&&(t&&De.alternate!==null&&ce.delete(De.key===null?Ie:De.key),O=d(De,O,Ie),ze===null?fe=De:ze.sibling=De,ze=De);return t&&ce.forEach(function(qs){return i(V,qs)}),Le&&Hi(V,Ie),fe}function pe(V,O,U,Y){if(U==null)throw Error(r(151));for(var fe=null,ze=null,ce=O,Ie=O=0,De=null,Be=U.next();ce!==null&&!Be.done;Ie++,Be=U.next()){ce.index>Ie?(De=ce,ce=null):De=ce.sibling;var qs=B(V,ce,Be.value,Y);if(qs===null){ce===null&&(ce=De);break}t&&ce&&qs.alternate===null&&i(V,ce),O=d(qs,O,Ie),ze===null?fe=qs:ze.sibling=qs,ze=qs,ce=De}if(Be.done)return a(V,ce),Le&&Hi(V,Ie),fe;if(ce===null){for(;!Be.done;Ie++,Be=U.next())Be=Q(V,Be.value,Y),Be!==null&&(O=d(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&Hi(V,Ie),fe}for(ce=l(ce);!Be.done;Ie++,Be=U.next())Be=q(ce,V,Ie,Be.value,Y),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Ie:Be.key),O=d(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(XA){return i(V,XA)}),Le&&Hi(V,Ie),fe}function We(V,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var fe=U.key;O!==null;){if(O.key===fe){if(fe=U.type,fe===J){if(O.tag===7){a(V,O.sibling),Y=h(O,U.props.children),Y.return=V,V=Y;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Lr(fe)===O.type){a(V,O.sibling),Y=h(O,U.props),Zo(Y,U),Y.return=V,V=Y;break e}a(V,O);break}else i(V,O);O=O.sibling}U.type===J?(Y=Dr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=qc(U.type,U.key,U.props,null,V.mode,Y),Zo(Y,U),Y.return=V,V=Y)}return _(V);case F:e:{for(fe=U.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(V,O.sibling),Y=h(O,U.children||[]),Y.return=V,V=Y;break e}else{a(V,O);break}else i(V,O);O=O.sibling}Y=df(U,V.mode,Y),Y.return=V,V=Y}return _(V);case w:return U=Lr(U),We(V,O,U,Y)}if(It(U))return oe(V,O,U,Y);if(L(U)){if(fe=L(U),typeof fe!="function")throw Error(r(150));return U=fe.call(U),pe(V,O,U,Y)}if(typeof U.then=="function")return We(V,O,$c(U),Y);if(U.$$typeof===ae)return We(V,O,Kc(V,U),Y);Jc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(V,O.sibling),Y=h(O,U),Y.return=V,V=Y):(a(V,O),Y=ff(U,V.mode,Y),Y.return=V,V=Y),_(V)):a(V,O)}return function(V,O,U,Y){try{Wo=0;var fe=We(V,O,U,Y);return Ma=null,fe}catch(ce){if(ce===Oa||ce===Qc)throw ce;var ze=_n(29,ce,null,V.mode);return ze.lanes=Y,ze.return=V,ze}finally{}}}var Ur=Sg(!0),Ag=Sg(!1),Rs=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hc(t),og(t,null,a),i}return Bc(t,l,i,a),Hc(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}function If(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var xf=!1;function tl(){if(xf){var t=Da;if(t!==null)throw t}}function nl(t,i,a,l){xf=!1;var h=t.updateQueue;Rs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=N))}if(d!==null){var Q=h.baseState;_=0,G=j=N=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Ne&B)===B:(l&B)===B){B!==0&&B===Na&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,pe=T;B=i;var We=a;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){Q=oe.call(We,Q,B);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,B=typeof oe=="function"?oe.call(We,Q,B):oe,B==null)break e;Q=A({},Q,B);break e;case 2:Rs=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=q,N=Q):G=G.next=q,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(N=Q),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ms|=_,t.lanes=_,t.memoizedState=Q}}function wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],i)}var ka=k(null),Wc=k(0);function Ig(t,i){t=Zi,ne(Wc,t),ne(ka,i),Zi=t|i.baseLanes}function Cf(){ne(Wc,Zi),ne(ka,ka.current)}function Nf(){Zi=Wc.current,X(ka),X(Wc)}var vn=k(null),Pn=null;function Cs(t){var i=t.alternate;ne(dt,dt.current&1),ne(vn,t),Pn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(Pn=t)}function Df(t){ne(dt,dt.current),ne(vn,t),Pn===null&&(Pn=t)}function xg(t){t.tag===22?(ne(dt,dt.current),ne(vn,t),Pn===null&&(Pn=t)):Ns()}function Ns(){ne(dt,dt.current),ne(vn,vn.current)}function En(t){X(vn),Pn===t&&(Pn=null),X(dt)}var dt=k(0);function Zc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Ae=null,$e=null,bt=null,eu=!1,Va=!1,jr=!1,tu=0,il=0,La=null,jS=0;function ct(){throw Error(r(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Mf(t,i,a,l,h,d){return Gi=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?hy:Qf,jr=!1,d=a(l,h),jr=!1,Va&&(d=Ng(i,a,l,h)),Cg(t),d}function Cg(t){K.H=al;var i=$e!==null&&$e.next!==null;if(Gi=0,bt=$e=Ae=null,eu=!1,il=0,La=null,i)throw Error(r(300));t===null||St||(t=t.dependencies,t!==null&&Gc(t)&&(St=!0))}function Ng(t,i,a,l){Ae=t;var h=0;do{if(Va&&(La=null),il=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=fy,d=i(a,l)}while(Va);return d}function zS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ae.flags|=1024),i}function kf(){var t=tu!==0;return tu=0,t}function Vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(eu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}eu=!1}Gi=0,bt=$e=Ae=null,Va=!1,il=tu=0,La=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ae.memoizedState=bt=t:bt=bt.next=t,bt}function mt(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=bt===null?Ae.memoizedState:bt.next;if(i!==null)bt=i,$e=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Ae.memoizedState=bt=t:bt=bt.next=t}return bt}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=il;return il+=1,La===null&&(La=[]),t=Eg(La,t,i),i=Ae,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?hy:Qf),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ae)return Ht(t)}throw Error(r(438,String(t)))}function Pf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nu(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function su(t){var i=mt();return Uf(i,$e,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,N=null,j=i,G=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Ne&Q)===Q:(Gi&Q)===Q){var B=j.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Na&&(G=!0);else if((Gi&B)===B){j=j.next,B===Na&&(G=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=Q,_=d):N=N.next=Q,Ae.lanes|=B,Ms|=B;Q=j.action,jr&&a(d,Q),d=j.hasEagerState?j.eagerState:a(d,Q)}else B={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=B,_=d):N=N.next=B,Ae.lanes|=Q,Ms|=Q;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=T,!yn(d,t.memoizedState)&&(St=!0,G&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=mt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(St=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(t,i,a){var l=Ae,h=mt(),d=Le;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,St=!0),h=h.queue,Hf(kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Mg.bind(null,l,h,a,i),null),Ze===null)throw Error(r(349));d||(Gi&127)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=nu(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mg(t,i,a,l){i.value=a,i.getSnapshot=l,Vg(i)&&Lg(t)}function kg(t,i,a){return a(function(){Vg(i)&&Lg(t)})}function Vg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Lg(t){var i=Nr(t,2);i!==null&&hn(i,t,2)}function zf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),jr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function Pg(t,i,a,l){return t.baseState=a,Uf(t,$e,typeof l=="function"?l:Ki)}function BS(t,i,a,l,h){if(ou(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),N=K.S;N!==null&&N(_,T),jg(t,i,T)}catch(j){Bf(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(j){Bf(t,i,j)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Bf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function qg(t,i){if(Le){var a=Ze.formState;if(a!==null){e:{var l=Ae;if(Le){if(et){t:{for(var h=et,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){et=Un(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ae,l),l.dispatch=a,l=zf(!1),d=Yf.bind(null,Ae,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=BS.bind(null,Ae,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=mt();return Gg(i,$e,t)}function Gg(t,i,a){if(i=Uf(t,i,Hg)[0],t=su(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(_){throw _===Oa?Qc:_}else l=i;i=mt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Pa(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function Kg(t){var i=mt(),a=$e;if(a!==null)return Gg(i,a,t);mt(),i=i.memoizedState,a=mt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Pa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=nu(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Yg(){return mt().memoizedState}function ru(t,i,a,l){var h=nn();Ae.flags|=t,h.memoizedState=Pa(1|i,{destroy:void 0},a,l===void 0?null:l)}function au(t,i,a,l){var h=mt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Of(l,$e.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(Ae.flags|=t,h.memoizedState=Pa(1|i,d,a,l))}function Qg(t,i){ru(8390656,8,t,i)}function Hf(t,i){au(2048,8,t,i)}function qS(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=nu(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Xg(t){var i=mt().memoizedState;return qS({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function $g(t,i){return au(4,2,t,i)}function Jg(t,i){return au(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,au(4,4,Wg.bind(null,i,t),a)}function qf(){}function ey(t,i){var a=mt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=mt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),jr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Ff(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Ae.lanes|=t,Ms|=t,a)}function ny(t,i,a,l){return yn(a,i)?a:ka.current!==null?(t=Ff(t,a,l),yn(t,i)||(St=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ne&261930)===0?(St=!0,t.memoizedState=a):(t=n_(),Ae.lanes|=t,Ms|=t,i)}function iy(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Yf(t,!1,i,a);try{var N=h(),j=K.S;if(j!==null&&j(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=US(N,l);rl(t,i,G,Sn(t))}else rl(t,i,l,Sn(t))}catch(Q){rl(t,i,{then:function(){},status:"rejected",reason:Q},Sn())}finally{te.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function FS(){}function Gf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=sy(t).queue;iy(t,h,i,de,a===null?FS:function(){return ry(t),a(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ry(t){var i=sy(t);i.next===null&&(i=t.alternate.memoizedState),rl(t,i.next.queue,{},Sn())}function Kf(){return Ht(bl)}function ay(){return mt().memoizedState}function oy(){return mt().memoizedState}function GS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Is(a);var l=xs(i,t,a);l!==null&&(hn(l,i,a),el(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function KS(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ou(t)?cy(i,a):(a=uf(t,i,a,l),a!==null&&(hn(a,t,l),uy(a,i,l)))}function ly(t,i,a){var l=Sn();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ou(t))cy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return Bc(t,i,h,0),Ze===null&&zc(),!1}catch{}finally{}if(a=uf(t,i,h,l),a!==null)return hn(a,t,l),uy(a,i,l),!0}return!1}function Yf(t,i,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(i)throw Error(r(479))}else i=uf(t,a,l,2),i!==null&&hn(i,t,2)}function ou(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function cy(t,i){Va=eu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function uy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}var al={readContext:Ht,use:iu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};al.useEffectEvent=ct;var hy={readContext:Ht,use:iu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ru(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ru(4194308,4,t,i)},useInsertionEffect:function(t,i){ru(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(jr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(jr){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KS.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=ly.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=nn();return Ff(a,t,i)},useTransition:function(){var t=zf(!1);return t=iy.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,h=nn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ze===null)throw Error(r(349));(Ne&127)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(kg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},Mg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Ze.identifierPrefix;if(Le){var a=Ai,l=Si;a=(l&~(1<<32-ht(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=tu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=jS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Kf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Pf,useCacheRefresh:function(){return nn().memoizedState=GS.bind(null,Ae)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:Ht,use:iu,useCallback:ey,useContext:Ht,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:su,useRef:Yg,useState:function(){return su(Ki)},useDebugValue:qf,useDeferredValue:function(t,i){var a=mt();return ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=su(Ki)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Kf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=mt();return Pg(a,$e,t,i)},useMemoCache:Pf,useCacheRefresh:oy};Qf.useEffectEvent=Xg;var fy={readContext:Ht,use:iu,useCallback:ey,useContext:Ht,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:jf,useRef:Yg,useState:function(){return jf(Ki)},useDebugValue:qf,useDeferredValue:function(t,i){var a=mt();return $e===null?Ff(a,t,i):ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=jf(Ki)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Kf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=mt();return $e!==null?Pg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:oy};fy.useEffectEvent=Xg;function Xf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Is(l);h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(hn(i,t,l),el(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Is(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(hn(i,t,l),el(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Is(a);l.tag=2,i!=null&&(l.callback=i),i=xs(t,l,a),i!==null&&(hn(i,t,a),el(i,t,a))}};function dy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function my(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&$f.enqueueReplaceState(i,i.state,null)}function zr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function py(t){jc(t)}function gy(t){console.error(t)}function yy(t){jc(t)}function lu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,i)},a}function vy(t){return t=Is(t),t.tag=3,t}function Ey(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){_y(i,a,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function YS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Eu():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Xc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(r(435,a.tag))}return bd(t,l,h),Eu(),!1}if(Le)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(t=Error(r(422),{cause:l}),Xo(Mn(t,a)))):(l!==gf&&(i=Error(r(423),{cause:l}),Xo(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=Jf(t.stateNode,l,h),If(t,h),ut!==4&&(ut=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),ml===null?ml=[d]:ml.push(d),ut!==4&&(ut=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),If(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(r(461)),St=!1;function qt(t,i,a,l){i.child=t===null?Ag(i,null,a,l):Ur(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return kr(i),l=Mf(t,i,a,_,d,h),T=kf(),t!==null&&!St?(Vf(t,i,h),Yi(t,i,h)):(Le&&T&&mf(i),i.flags|=1,qt(t,i,l,h),i.child)}function by(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=qc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(_,l)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(St=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(St=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return Zf(t,i,a,l,h)}function Ay(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return wy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yc(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):Cf(),xg(i);else return l=i.lanes=536870912,wy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yc(i,d.cachePool),Ig(i,d),Ns(),i.memoizedState=null):(t!==null&&Yc(i,null),Cf(),Ns());return qt(t,i,h,a),i.child}function ol(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wy(t,i,a,l,h){var d=Sf();return d=d===null?null:{parent:Tt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yc(i,null),Cf(),xg(i),t!==null&&Ca(t,i,l,!0),i.childLanes=h,null}function cu(t,i){return i=hu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ry(t,i,a){return Ur(i,t.child,null,a),t=cu(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function QS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=cu(i,l),i.lanes=536870912,ol(null,t);if(Df(i),(t=et)?(t=U_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Bt=i,et=null)):t=null,t===null)throw As(i);return i.lanes=536870912,null}return cu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(St||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,St||h){if(l=Ze,l!==null&&(_=xo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Nr(t,_),hn(l,t,_),Wf;Eu(),i=Ry(t,i,a)}else t=d.treeContext,et=Un(_.nextSibling),Bt=i,Le=!0,Ss=null,Ln=!1,t!==null&&fg(i,t),i=cu(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,l,h){return kr(i),a=Mf(t,i,a,l,void 0,h),l=kf(),t!==null&&!St?(Vf(t,i,h),Yi(t,i,h)):(Le&&l&&mf(i),i.flags|=1,qt(t,i,a,h),i.child)}function Iy(t,i,a,l,h,d){return kr(i),i.updateQueue=null,a=Ng(i,l,a,h),Cg(t),l=kf(),t!==null&&!St?(Vf(t,i,d),Yi(t,i,d)):(Le&&l&&mf(i),i.flags|=1,qt(t,i,a,d),i.child)}function xy(t,i,a,l,h){if(kr(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=zr(a,T);d.props=N;var j=d.context,G=a.contextType;_=wa,typeof G=="object"&&G!==null&&(_=Ht(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&my(i,d,l,_),Rs=!1;var B=i.memoizedState;d.state=B,nl(i,l,d,h),tl(),j=i.memoizedState,T||B!==j||Rs?(typeof Q=="function"&&(Xf(i,a,Q,l),j=i.memoizedState),(N=Rs||dy(i,a,N,l,B,j,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),_=i.memoizedProps,G=zr(a,_),d.props=G,Q=i.pendingProps,B=d.context,j=a.contextType,N=wa,typeof j=="object"&&j!==null&&(N=Ht(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==N)&&my(i,d,l,N),Rs=!1,B=i.memoizedState,d.state=B,nl(i,l,d,h),tl();var q=i.memoizedState;_!==Q||B!==q||Rs||t!==null&&t.dependencies!==null&&Gc(t.dependencies)?(typeof T=="function"&&(Xf(i,a,T,l),q=i.memoizedState),(G=Rs||dy(i,a,G,l,B,q,N)||t!==null&&t.dependencies!==null&&Gc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=N,l=G):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ur(i,t.child,null,h),i.child=Ur(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function Cy(t,i,a,l){return Or(),i.flags|=256,qt(t,i,a,l),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:_g()}}function nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function Ny(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Cs(i):Ns(),(t=et)?(t=U_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Bt=i,et=null)):t=null,t===null)throw As(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ns(),h=i.mode,T=hu({mode:"hidden",children:T},h),l=Dr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,ol(null,l)):(Cs(i),id(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Cs(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(Ns(),i.child=t.child,i.flags|=128,i=null):(Ns(),T=l.fallback,h=i.mode,l=hu({mode:"visible",children:l.children},h),T=Dr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ur(i,t.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,i=ol(null,l));else if(Cs(i),Ud(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(r(419)),l.stack="",l.digest=_,Xo({value:l,source:null,stack:null}),i=sd(t,i,a)}else if(St||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,St||_){if(_=Ze,_!==null&&(l=xo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Nr(t,l),hn(_,t,l),Wf;Pd(T)||Eu(),i=sd(t,i,a)}else Pd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,et=Un(T.nextSibling),Bt=i,Le=!0,Ss=null,Ln=!1,t!==null&&fg(i,t),i=id(i,l.children),i.flags|=4096);return i}return h?(Ns(),T=l.fallback,h=i.mode,N=t.child,j=N.sibling,l=Bi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?T=Bi(j,T):(T=Dr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ol(null,l),l=i.child,T=t.child.memoizedState,T===null?T=td(a):(h=T.cachePool,h!==null?(N=Tt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=_g(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=nd(t,_,a),i.memoizedState=ed,ol(t.child,l)):(Cs(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function id(t,i){return i=hu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hu(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function sd(t,i,a){return Ur(i,t.child,null,a),t=id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function rd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=dt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ne(dt,_),qt(t,i,l,a),l=Le?Qo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,i);else if(t.tag===19)Dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(i,!0,a,null,d,l);break;case"together":rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gc(t)))}function XS(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),ws(i,Tt,t.memoizedState.cache),Or();break;case 27:case 5:fr(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ny(t,i,a):(Cs(i),t=Yi(t,i,a),t!==null?t.sibling:null);Cs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(dt,dt.current),l)break;return null;case 22:return i.lanes=0,Ay(t,i,a,i.pendingProps);case 24:ws(i,Tt,t.memoizedState.cache)}return Yi(t,i,a)}function My(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)St=!0;else{if(!ad(t,a)&&(i.flags&128)===0)return St=!1,XS(t,i,a);St=(t.flags&131072)!==0}else St=!1,Le&&(i.flags&1048576)!==0&&hg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Lr(i.elementType),i.type=t,typeof t=="function")hf(t)?(l=zr(t,l),i.tag=1,i=xy(null,i,t,l,a)):(i.tag=0,i=Zf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=Ty(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=by(null,i,t,l,a);break e}}throw i=it(t)||t,Error(r(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),xy(t,i,l,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),nl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ws(i,Tt,l),l!==d.cache&&Ef(i,[Tt],a,!0),tl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Cy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(r(424)),i),Xo(h),i=Cy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=Un(t.firstChild),Bt=i,Le=!0,Ss=null,Ln=!0,a=Ag(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Or(),l===h){i=Yi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return uu(t,i),t===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Iu(Re.current).createElement(a),l[_t]=i,l[Vt]=t,Ft(l,a,t),vt(l),i.stateNode=l):i.memoizedState=F_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fr(i),t===null&&Le&&(l=i.stateNode=B_(i.type,i.pendingProps,Re.current),Bt=i,Ln=!0,h=et,Us(i.type)?(jd=h,et=Un(l.firstChild)):et=h),qt(t,i,i.pendingProps.children,a),uu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=et)&&(l=wA(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Bt=i,et=Un(l.firstChild),Ln=!1,h=!0):h=!1),h||As(i)),fr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(t,i,zS,null,null,a),bl._currentValue=h),uu(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=et)&&(a=RA(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Bt=i,et=null,t=!0):t=!1),t||As(i)),null;case 13:return Ny(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ur(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ws(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,kr(i),h=Ht(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return by(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return Oy(t,i,a);case 31:return QS(t,i,a);case 22:return Ay(t,i,a,i.pendingProps);case 24:return kr(i),l=Ht(Tt),t===null?(h=Sf(),h===null&&(h=Ze,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),ws(i,Tt,h)):((t.lanes&a)!==0&&(Rf(t,i),nl(i,null,null,a),tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,Tt,l)):(l=d.cache,ws(i,Tt,l),l!==h.cache&&Ef(i,[Tt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qi(t){t.flags|=4}function od(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw Pr=Xc,Af}else t.flags&=-16777217}function ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(i))if(a_())t.flags|=8192;else throw Pr=Xc,Af}function fu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_c():536870912,t.lanes|=i,Ba|=i)}function ll(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $S(t,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(Tt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),tt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(tt(i),ky(i,d)):(tt(i),od(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),tt(i),ky(i,d)):(tt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),tt(i),od(i,h,t,l,a)),null;case 27:if(aa(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return tt(i),null}t=se.current,xa(i)?dg(i):(t=B_(h,l,a),i.stateNode=t,Qi(i))}return tt(i),null;case 5:if(aa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return tt(i),null}if(d=se.current,xa(i))dg(i);else{var _=Iu(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[_t]=i,d[Vt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return tt(i),od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Re.current,xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_t]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(t.nodeValue,a)),t||As(i,!0)}else t=Iu(t).createTextNode(l),t[_t]=i,i.stateNode=t}return tt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=xa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_t]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_t]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),h=!1}else h=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),fu(i,i.updateQueue),tt(i),null);case 4:return st(),t===null&&Cd(i.stateNode.containerInfo),tt(i),null;case 10:return Fi(i.type),tt(i),null;case 19:if(X(dt),l=i.memoizedState,l===null)return tt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zc(t),d!==null){for(i.flags|=128,ll(l,!1),t=d.updateQueue,i.updateQueue=t,fu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lg(a,t),a=a.sibling;return ne(dt,dt.current&1|2),Le&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>yu&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,fu(i,t),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return tt(i),null}else 2*en()-l.renderingStartTime>yu&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=dt.current,ne(dt,h?a&1|2:a&1),Le&&Hi(i,l.treeForkCount),t):(tt(i),null);case 22:case 23:return En(i),Nf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),a=i.updateQueue,a!==null&&fu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(Tt),tt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function JS(t,i){switch(pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(Tt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Or()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Or()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(dt),null;case 4:return st(),null;case 10:return Fi(i.type),null;case 22:case 23:return En(i),Nf(),t!==null&&X(Vr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(Tt),null;case 25:return null;default:return null}}function Vy(t,i){switch(pf(i),i.tag){case 3:Fi(Tt),st();break;case 26:case 27:case 5:aa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:X(dt);break;case 10:Fi(i.type);break;case 22:case 23:En(i),Nf(),t!==null&&X(Vr);break;case 24:Fi(Tt)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Qe(i,i.return,T)}}function Ds(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,j=T;try{j()}catch(G){Qe(h,N,G)}}}l=l.next}while(l!==d)}}catch(G){Qe(i,i.return,G)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(l){Qe(t,t.return,l)}}}function Py(t,i,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function ld(t,i,a){try{var l=t.stateNode;vA(l,t.type,a,i),l[Vt]=i}catch(h){Qe(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Us(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ud(t,i,a),t=t.sibling;t!==null;)ud(t,i,a),t=t.sibling}function du(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(du(t,i,a),t=t.sibling;t!==null;)du(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[_t]=t,i[Vt]=a}catch(d){Qe(t,t.return,d)}}var Xi=!1,At=!1,hd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function WS(t,i){if(t=t.containerInfo,Od=ku,t=Zp(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,j=0,G=0,Q=t,B=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(T=_+h),Q!==d||l!==0&&Q.nodeType!==3||(N=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===t)break t;if(B===a&&++j===h&&(T=_),B===d&&++G===l&&(N=_),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:t,selectionRange:a},ku=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var oe=zr(a.type,h);t=l.getSnapshotBeforeUpdate(oe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Hy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&cl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&Ly(a),l&512&&ul(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Ji(t,a),i===null&&l&4&&Uy(a),l&512&&ul(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&Gy(t,a);break;case 13:Ji(t,a),l&4&&Ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oA.bind(null,a),IA(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||At,h=Xi;var d=At;Xi=l,(At=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=h,At=d}break;case 30:break;default:Ji(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ha(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,on=!1;function $i(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:At||wi(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||wi(a,i);var l=at,h=on;Us(a.type)&&(at=a.stateNode,on=!1),$i(t,i,a),vl(a.stateNode),at=l,on=h;break;case 5:At||wi(a,i);case 6:if(l=at,h=on,at=null,$i(t,i,a),at=l,on=h,at!==null)if(on)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:at!==null&&(on?(t=at,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):L_(at,a.stateNode));break;case 4:l=at,h=on,at=a.stateNode.containerInfo,on=!0,$i(t,i,a),at=l,on=h;break;case 0:case 11:case 14:case 15:Ds(2,a,i),At||Ds(4,a,i),$i(t,i,a);break;case 1:At||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:At=(l=At)||a.memoizedState!==null,$i(t,i,a),At=l;break;default:$i(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){Qe(i,i.return,a)}}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){Qe(i,i.return,a)}}function ZS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(r(435,t.tag))}}function mu(t,i){var a=ZS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=lA.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){at=T.stateNode,on=!1;break e}break;case 5:at=T.stateNode,on=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(at===null)throw Error(r(160));Fy(d,_,h),at=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,t),i=i.sibling}var Zn=null;function Yy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),cn(t),l&4&&(Ds(3,t,t.return),cl(3,t),Ds(5,t,t.return));break;case 1:ln(i,t),cn(t),l&512&&(At||a===null||wi(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(ln(i,t),cn(t),l&512&&(At||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[_t]=t,vt(d),l=d;break e;case"link":var _=Y_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Y_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[_t]=t,vt(d),l=d}t.stateNode=l}else Q_(h,t.type,t.stateNode);else t.stateNode=K_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,t.type,t.stateNode):K_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),cn(t),l&512&&(At||a===null||wi(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),cn(t),l&512&&(At||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){Qe(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(ln(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(oe){Qe(t,t.return,oe)}}break;case 3:if(Nu=null,h=Zn,Zn=xu(i.containerInfo),ln(i,t),Zn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(oe){Qe(t,t.return,oe)}hd&&(hd=!1,Qy(t));break;case 4:l=Zn,Zn=xu(t.stateNode.containerInfo),ln(i,t),cn(t),Zn=l;break;case 12:ln(i,t),cn(t);break;case 31:ln(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 13:ln(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Xi,G=At;if(Xi=j||h,At=G||N,ln(i,t),At=G,Xi=j,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Xi||At||Br(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var Q=N.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Qe(N,N.return,oe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){Qe(N,N.return,oe)}}}else if(i.tag===18){if(a===null){N=i;try{var q=N.stateNode;h?P_(q,!0):P_(N.stateNode,!1)}catch(oe){Qe(N,N.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mu(t,a))));break;case 19:ln(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 30:break;case 21:break;default:ln(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);du(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=cd(t);du(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=cd(t);ud(t,j,N);break;default:throw Error(r(161))}}catch(G){Qe(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(t,i.alternate,i),i=i.sibling}function Br(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ds(4,i,i.return),Br(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),Br(i);break;case 27:vl(i.stateNode);case 26:case 5:wi(i,i.return),Br(i);break;case 22:i.memoizedState===null&&Br(i);break;case 30:Br(i);break;default:Br(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),cl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Qe(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)wg(N[h],T)}catch(j){Qe(l,l.return,j)}}a&&_&64&&Ly(d),ul(d,d.return);break;case 27:zy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Uy(d),ul(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&Gy(h,d);break;case 13:Wi(h,d,a),a&&_&4&&Ky(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ul(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function fd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(t,i,a,l),i=i.sibling}function Xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&cl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(i,i.return,N)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):hl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:ei(t,i,a,l),h&2048&&dd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,T,N,h),cl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Ua(d,_,T,N,h):hl(d,_):(G._visibility|=2,Ua(d,_,T,N,h)),h&&j&2048&&fd(_.alternate,_);break;case 24:Ua(d,_,T,N,h),h&&j&2048&&dd(_.alternate,_);break;default:Ua(d,_,T,N,h)}i=i.sibling}}function hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&fd(l.alternate,l);break;case 24:hl(a,l),h&2048&&dd(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function ja(t,i,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)$y(t,i,a),t=t.sibling}function $y(t,i,a){switch(t.tag){case 26:ja(t,i,a),t.flags&fl&&t.memoizedState!==null&&jA(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,i,a);break;case 3:case 4:var l=Zn;Zn=xu(t.stateNode.containerInfo),ja(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,ja(t,i,a),fl=l):ja(t,i,a));break;default:ja(t,i,a)}}function Jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}Jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,pu(t)):dl(t);break;default:dl(t)}}function pu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}Jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ds(8,i,i.return),pu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pu(i));break;default:pu(i)}t=t.sibling}}function Zy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(qy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var eA={getCacheForType:function(t){var i=Ht(Tt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(Tt).controller.signal}},tA=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,xe=null,Ne=0,Ye=0,Tn=null,Os=!1,za=!1,md=!1,Zi=0,ut=0,Ms=0,Hr=0,pd=0,bn=0,Ba=0,ml=null,un=null,gd=!1,gu=0,e_=0,yu=1/0,_u=null,ks=null,Nt=0,Vs=null,Ha=null,es=0,yd=0,_d=null,t_=null,pl=0,vd=null;function Sn(){return(qe&2)!==0&&Ne!==0?Ne&-Ne:K.T!==null?wd():vc()}function n_(){if(bn===0)if((Ne&536870912)===0||Le){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function hn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ls(t,Ne,bn,!1)),gr(t,a),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(Hr|=a),ut===4&&Ls(t,Ne,bn,!1)),Ri(t))}function i_(t,i,a){if((qe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?sA(t,i):Td(t,i,!0),d=l;do{if(h===0){za&&!l&&Ls(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!nA(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ml;var N=T.current.memoizedState.isDehydrated;if(N&&(qa(T,_).flags|=256),_=Td(T,_,!1),_!==2){if(md&&!N){T.errorRecoveryDisabledLanes|=d,Hr|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Ls(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ls(l,i,bn,!Os);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=gu+300-en(),10<h)){if(Ls(l,i,bn,!Os),li(l,0,!0)!==0)break e;es=i,l.timeoutHandle=k_(s_.bind(null,l,a,un,_u,gd,i,bn,Hr,Ba,Os,d,"Throttled",-0,0),h);break e}s_(l,a,un,_u,gd,i,bn,Hr,Ba,Os,d,null,-0,0)}}break}while(!0);Ri(t)}function s_(t,i,a,l,h,d,_,T,N,j,G,Q,B,q){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},$y(i,d,Q);var oe=(d&62914560)===d?gu-en():(d&4194048)===d?e_-en():0;if(oe=zA(Q,oe),oe!==null){es=d,t.cancelPendingCommit=oe(f_.bind(null,t,i,d,a,l,h,_,T,N,G,Q,null,B,q)),Ls(t,d,_,!j);return}}f_(t,i,d,a,l,h,_,T,N)}function nA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(t,i,a,l){i&=~pd,i&=~Hr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ht(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&yr(t,a,i)}function vu(){return(qe&6)===0?(gl(0),!1):!0}function Ed(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,qi=Mr=null,Lf(t),Ma=null,Wo=0,t=xe;for(;t!==null;)Vy(t.alternate,t),t=t.return;xe=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),es=0,Ed(),Ze=t,xe=a=Bi(t.current,null),Ne=i,Ye=0,Tn=null,Os=!1,za=Fn(t,i),md=!1,Ba=bn=pd=Hr=Ms=ut=0,un=ml=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ht(l),d=1<<h;i|=t[h],l&=~d}return Zi=i,zc(),a}function r_(t,i){Ae=null,K.H=al,i===Oa||i===Qc?(i=Tg(),Ye=3):i===Af?(i=Tg(),Ye=4):Ye=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,xe===null&&(ut=1,lu(t,Mn(i,t.current)))}function a_(){var t=vn.current;return t===null?!0:(Ne&4194048)===Ne?Pn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Pn:!1}function o_(){var t=K.H;return K.H=al,t===null?al:t}function l_(){var t=K.A;return K.A=eA,t}function Eu(){ut=4,Os||(Ne&4194048)!==Ne&&vn.current!==null||(za=!0),(Ms&134217727)===0&&(Hr&134217727)===0||Ze===null||Ls(Ze,Ne,bn,!1)}function Td(t,i,a){var l=qe;qe|=2;var h=o_(),d=l_();(Ze!==t||Ne!==i)&&(_u=null,qa(t,i)),i=!1;var _=ut;e:do try{if(Ye!==0&&xe!==null){var T=xe,N=Tn;switch(Ye){case 8:Ed(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Ye;if(Ye=0,Tn=null,Fa(t,T,N,j),a&&za){_=0;break e}break;default:j=Ye,Ye=0,Tn=null,Fa(t,T,N,j)}}iA(),_=ut;break}catch(G){r_(t,G)}while(!0);return i&&t.shellSuspendCounter++,qi=Mr=null,qe=l,K.H=h,K.A=d,xe===null&&(Ze=null,Ne=0,zc()),_}function iA(){for(;xe!==null;)c_(xe)}function sA(t,i){var a=qe;qe|=2;var l=o_(),h=l_();Ze!==t||Ne!==i?(_u=null,yu=en()+500,qa(t,i)):za=Fn(t,i);e:do try{if(Ye!==0&&xe!==null){i=xe;var d=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,Fa(t,i,d,1);break;case 2:case 9:if(vg(d)){Ye=0,Tn=null,u_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Ri(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:vg(d)?(Ye=0,Tn=null,u_(i)):(Ye=0,Tn=null,Fa(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var T=xe;if(_?X_(_):T.stateNode.complete){Ye=0,Tn=null;var N=T.sibling;if(N!==null)xe=N;else{var j=T.return;j!==null?(xe=j,Tu(j)):xe=null}break t}}Ye=0,Tn=null,Fa(t,i,d,5);break;case 6:Ye=0,Tn=null,Fa(t,i,d,6);break;case 8:Ed(),ut=6;break e;default:throw Error(r(462))}}rA();break}catch(G){r_(t,G)}while(!0);return qi=Mr=null,K.H=l,K.A=h,qe=a,xe!==null?0:(Ze=null,Ne=0,zc(),ut)}function rA(){for(;xe!==null&&!$h();)c_(xe)}function c_(t){var i=My(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Tu(t):xe=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Lf(i);default:Vy(a,i),i=xe=lg(i,Zi),i=My(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Tu(t):xe=i}function Fa(t,i,a,l){qi=Mr=null,Lf(i),Ma=null,Wo=0;var h=i.return;try{if(YS(t,h,i,a,Ne)){ut=1,lu(t,Mn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ut=1,lu(t,Mn(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:za||(Ne&536870912)!==0?t=!1:(Os=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):Tu(i)}function Tu(t){var i=t;do{if((i.flags&32768)!==0){h_(i,Os);return}t=i.return;var a=$S(i.alternate,i,Zi);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ut===0&&(ut=5)}function h_(t,i){do{var a=JS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ut=6,xe=null}function f_(t,i,a,l,h,d,_,T,N){t.cancelPendingCommit=null;do bu();while(Nt!==0);if((qe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=cf,Zh(t,a,d,_,T,N),t===Ze&&(xe=Ze=null,Ne=0),Ha=i,Vs=t,es=a,yd=d,_d=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(fs,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=te.p,te.p=2,_=qe,qe|=4;try{WS(t,i,a)}finally{qe=_,te.p=h,K.T=l}}Nt=1,d_(),m_(),p_()}}function d_(){if(Nt===1){Nt=0;var t=Vs,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{Yy(i,t);var d=Md,_=Zp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Wp(T.ownerDocument.documentElement,T)){if(N!==null&&sf(T)){var j=N.start,G=N.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),oe=T.textContent.length,pe=Math.min(N.start,oe),We=N.end===void 0?pe:Math.min(N.end,oe);!q.extend&&pe>We&&(_=We,We=pe,pe=_);var V=Jp(T,pe),O=Jp(T,We);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),pe>We?(q.addRange(U),q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),q.addRange(U))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ku=!!Od,Md=Od=null}finally{qe=h,te.p=l,K.T=a}}t.current=i,Nt=2}}function m_(){if(Nt===2){Nt=0;var t=Vs,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{Hy(t,i.alternate,i)}finally{qe=h,te.p=l,K.T=a}}Nt=3}}function p_(){if(Nt===4||Nt===3){Nt=0,fc();var t=Vs,i=Ha,a=es,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Nt=5:(Nt=0,Ha=Vs=null,g_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),Pi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=te.p,te.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,te.p=h}}(es&3)!==0&&bu(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vd?pl++:(pl=0,vd=t):pl=0,gl(0)}}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function bu(){return d_(),m_(),p_(),y_()}function y_(){if(Nt!==5)return!1;var t=Vs,i=yd;yd=0;var a=Pi(es),l=K.T,h=te.p;try{te.p=32>a?32:a,K.T=null,a=_d,_d=null;var d=Vs,_=es;if(Nt=0,Ha=Vs=null,es=0,(qe&6)!==0)throw Error(r(331));var T=qe;if(qe|=4,Wy(d.current),Xy(d,d.current,_,a),qe=T,gl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{te.p=h,K.T=l,g_(t,i)}}function __(t,i,a){i=Mn(a,i),i=Jf(t.stateNode,i,2),t=xs(t,i,2),t!==null&&(gr(t,2),Ri(t))}function Qe(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){t=Mn(a,t),a=vy(2),l=xs(i,a,2),l!==null&&(Ey(a,l,i,t),gr(l,2),Ri(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new tA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),t=aA.bind(null,t,i,a),i.then(t,t))}function aA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Ne&a)===a&&(ut===4||ut===3&&(Ne&62914560)===Ne&&300>en()-gu?(qe&2)===0&&qa(t,0):pd|=a,Ba===Ne&&(Ba=0)),Ri(t)}function v_(t,i){i===0&&(i=_c()),t=Nr(t,i),t!==null&&(gr(t,i),Ri(t))}function oA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(t,a)}function lA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),v_(t,a)}function cA(t,i){return Ct(t,i)}var Su=null,Ga=null,Sd=!1,Au=!1,Ad=!1,Ps=0;function Ri(t){t!==Ga&&t.next===null&&(Ga===null?Su=Ga=t:Ga=Ga.next=t),Au=!0,Sd||(Sd=!0,hA())}function gl(t,i){if(!Ad&&Au){Ad=!0;do for(var a=!1,l=Su;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ht(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=Ne,d=li(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,S_(l,d));l=l.next}while(a);Ad=!1}}function uA(){E_()}function E_(){Au=Sd=!1;var t=0;Ps!==0&&TA()&&(t=Ps);for(var i=en(),a=null,l=Su;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?Su=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Au=!0)),l=h}Nt!==0&&Nt!==5||gl(t),Ps!==0&&(Ps=0)}function T_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ht(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Wh(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=Ze,a=Ne,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hs(l),Pi(a)){case 2:case 8:a=Ro;break;case 32:a=fs;break;case 268435456:a=dc;break;default:a=fs}return l=b_.bind(null,t),a=Ct(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hs(l),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,i){if(Nt!==0&&Nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bu()&&t.callbackNode!==a)return null;var l=Ne;return l=li(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),T_(t,en()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function S_(t,i){if(bu())return null;i_(t,i,!0)}function hA(){SA(function(){(qe&6)!==0?Ct(wo,uA):E_()})}function wd(){if(Ps===0){var t=Na;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ps=t}return Ps}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function w_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[Vt]||null).action),_=l.submitter;_&&(i=(i=_[Vt]||null)?A_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var N=_?w_(h,_):new FormData(h);Gf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?w_(h,_):new FormData(h),Gf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Id=lf[Rd],dA=Id.toLowerCase(),mA=Id[0].toUpperCase()+Id.slice(1);Wn(dA,"on"+mA)}Wn(ng,"onAnimationEnd"),Wn(ig,"onAnimationIteration"),Wn(sg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(NS,"onTransitionRun"),Wn(DS,"onTransitionStart"),Wn(OS,"onTransitionCancel"),Wn(rg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,j=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(G){jc(G)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,j=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(G){jc(G)}h.currentTarget=null,d=N}}}}function Ce(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function xd(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[wu]){t[wu]=!0,Co.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||xd(a,!1,t),xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wu]||(i[wu]=!0,xd("selectionchange",!1,i))}}function I_(t,i,a,l){switch(nv(i)){case 2:var h=qA;break;case 8:h=FA;break;default:h=Fd}a=h.bind(null,i,a,t),h=void 0,!br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_s(function(){var j=d,G=Cn(a),Q=[];e:{var B=ag.get(t);if(B!==void 0){var q=vi,oe=t;switch(t){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":q=Lc;break;case"focusin":oe="focus",q=Rr;break;case"focusout":oe="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case ng:case ig:case sg:q=Cc;break;case rg:q=S;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=Se}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),V=pe?B!==null?B+"Capture":null:B;pe=[];for(var O=j,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=Qn(O,V),Y!=null&&pe.push(_l(O,Y,U))),We)break;O=O.return}0<pe.length&&(B=new q(B,oe,null,a,G),Q.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Uo&&(oe=a.relatedTarget||a.fromElement)&&(fi(oe)||oe[ui]))break e;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(oe=a.relatedTarget||a.toElement,q=j,oe=oe?fi(oe):null,oe!==null&&(We=c(oe),pe=oe.tag,oe!==We||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(q=null,oe=j),q!==oe)){if(pe=Ho,Y="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=zi,Y="onPointerLeave",V="onPointerEnter",O="pointer"),We=q==null?B:pn(q),U=oe==null?B:pn(oe),B=new pe(Y,O+"leave",q,a,G),B.target=We,B.relatedTarget=U,Y=null,fi(G)===j&&(pe=new pe(V,O+"enter",oe,a,G),pe.target=U,pe.relatedTarget=We,Y=pe),We=Y,q&&oe)t:{for(pe=gA,V=q,O=oe,U=0,Y=V;Y;Y=pe(Y))U++;Y=0;for(var fe=O;fe;fe=pe(fe))Y++;for(;0<U-Y;)V=pe(V),U--;for(;0<Y-U;)O=pe(O),Y--;for(;U--;){if(V===O||O!==null&&V===O.alternate){pe=V;break t}V=pe(V),O=pe(O)}pe=null}else pe=null;q!==null&&x_(Q,B,q,pe,!1),oe!==null&&We!==null&&x_(Q,We,oe,pe,!0)}}e:{if(B=j?pn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ze=Gp;else if(qp(B))if(Kp)ze=IS;else{ze=wS;var ce=AS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(ze=Gp):ze=RS;if(ze&&(ze=ze(t,j))){Fp(Q,ze,a,G);break e}ce&&ce(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(ce=j?pn(j):window,t){case"focusin":(qp(ce)||ce.contentEditable==="true")&&(ba=ce,rf=j,Yo=null);break;case"focusout":Yo=rf=ba=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,eg(Q,a,G);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":eg(Q,a,G)}var Ie;if(He)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ta?Ir(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(bi&&a.locale!=="ko"&&(Ta||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ta&&(Ie=zo()):(_i=G,jo="value"in _i?_i.value:_i.textContent,Ta=!0)),ce=Ru(j,De),0<ce.length&&(De=new Ti(De,t,null,a,G),Q.push({event:De,listeners:ce}),Ie?De.data=Ie:(Ie=Ea(a),Ie!==null&&(De.data=Ie)))),(Ie=Dn?ES(t,a):TS(t,a))&&(De=Ru(j,"onBeforeInput"),0<De.length&&(ce=new Ti("onBeforeInput","beforeinput",null,a,G),Q.push({event:ce,listeners:De}),ce.data=Ie)),fA(Q,t,j,a,G)}R_(Q,i)})}function _l(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ru(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(_l(t,h,d)),h=Qn(t,i),h!=null&&l.push(_l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function gA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function x_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,j=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||j===null||(N=j,h?(j=Qn(a,d),j!=null&&_.unshift(_l(a,j,N))):h||(j=Qn(a,d),j!=null&&_.push(_l(a,j,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(_A,"")}function N_(t,i){return i=C_(i),C_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),fa(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,fa(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fa(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ce("invalid",t);var T=d=_=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":N=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Je(t,i,l,G,a,null)}}Sc(t,d,T,N,j,_,h,!1);return;case"select":Ce("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ms(t,!!l,i,!1):a!=null&&ms(t,!!l,a,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Je(t,i,_,T,a,null)}ps(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Ce(yl[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,j,l,a,null)}return;default:if(ma(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Dd(t,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function vA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,j=null,G=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Q;default:l.hasOwnProperty(q)||Je(t,i,q,null,l,Q)}}for(var B in l){var q=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Q&&Je(t,i,B,q,l,Q)}}da(t,_,T,N,j,G,d,h);return;case"select":q=_=T=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=T,a=_,l=q,B!=null?ms(t,!!a,B,!1):!!l!=!!a&&(i!=null?ms(t,!!a,i,!0):ms(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ac(t,B,q);return;case"option":for(var oe in a)if(B=a[oe],a.hasOwnProperty(oe)&&B!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:Je(t,i,oe,null,l,B)}for(N in l)if(B=l[N],q=a[N],l.hasOwnProperty(N)&&B!==q&&(B!=null||q!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Je(t,i,N,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Je(t,i,j,B,l,q)}return;default:if(ma(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!l.hasOwnProperty(We)&&Dd(t,i,We,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Dd(t,i,G,B,l,q);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Je(t,i,V,null,l,B);for(Q in l)B=l[Q],q=a[Q],!l.hasOwnProperty(Q)||B===q||B==null&&q==null||Je(t,i,Q,B,l,q)}function D_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&D_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>T)break;var G=N.transferSize,Q=N.initiatorType;G&&D_(Q)&&(N=N.responseEnd,_+=G*(N<T?1:(T-j)/(N-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,Md=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(AA)}:k_;function AA(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function L_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);Xa(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function RA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var jd=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=Iu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ha(t)}var jn=new Map,H_=new Set;function xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=te.d;te.d={f:xA,r:CA,D:NA,C:DA,L:OA,m:MA,X:VA,S:kA,M:LA};function xA(){var t=ts.f(),i=vu();return t||i}function CA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?ry(i):ts.r(t)}var Ka=typeof document>"u"?null:document;function q_(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),vt(i),l.head.appendChild(i)))}}function NA(t){ts.D(t),q_("dns-prefetch",t,null)}function DA(t,i){ts.C(t,i),q_("preconnect",t,i)}function OA(t,i,a){ts.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Qa(t)}jn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),Ft(i,"link",t),vt(i),l.head.appendChild(i)))}}function MA(t,i){ts.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!jn.has(d)&&(t=A({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),Ft(l,"link",t),vt(l),a.head.appendChild(l)}}}function kA(t,i,a){ts.S(t,i,a);var l=Ka;if(l&&t){var h=di(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(El(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&zd(t,a);var N=_=l.createElement("link");vt(N),Ft(N,"link",t),N._p=new Promise(function(j,G){N.onload=j,N.onerror=G}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cu(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function VA(t,i){ts.X(t,i);var a=Ka;if(a&&t){var l=di(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=A({src:t,async:!0},i),(i=jn.get(h))&&Bd(t,i),d=a.createElement("script"),vt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function LA(t,i){ts.M(t,i);var a=Ka;if(a&&t){var l=di(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Bd(t,i),d=a.createElement("script"),vt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(t,i,a,l){var h=(h=Re.current)?xu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(El(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||PA(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+rn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function PA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),vt(i),t.head.appendChild(i))}function Qa(t){return'[src="'+rn(t)+'"]'}function Tl(t){return"script[async]"+t}function K_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,vt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Ft(l,"style",h),Cu(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,vt(d),d;l=G_(a),(h=jn.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),vt(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Ft(d,"link",l),i.state.loading|=4,Cu(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Tl(d)))?(i.instance=h,vt(h),h):(l=a,(h=jn.get(d))&&(l=A({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cu(l,a.precedence,t));return i.instance}function Cu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nu=null;function Y_(t,i,a){if(Nu===null){var l=new Map,h=Nu=new Map;h.set(a,l)}else h=Nu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[_t]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function UA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(El(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Du.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,vt(d);return}d=i.ownerDocument||i,l=G_(l),(h=jn.get(h))&&zd(l,h),d=d.createElement("link"),vt(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Du.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function zA(t,i){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Hd===0&&(Hd=62500*EA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Hd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Mu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,i.forEach(BA,t),Ou=null,Du.call(t))}function BA(t,i){if(!(i.state.loading&4)){var a=Ou.get(t);if(a)var l=a.get(null);else{a=new Map,Ou.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Du.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function HA(t,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $_(t,i,a,l,h,d,_,T,N,j,G,Q){return t=new HA(t,i,a,_,N,j,G,Q,T),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function J_(t){return t?(t=wa,t):wa}function W_(t,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xs(t,l,i),a!==null&&(hn(a,t,i),el(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=Nr(t,67108864);i!==null&&hn(i,t,67108864),qd(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=Sn();i=_r(i);var a=Nr(t,i);a!==null&&hn(a,t,i),qd(t,i)}}var ku=!0;function qA(t,i,a,l){var h=K.T;K.T=null;var d=te.p;try{te.p=2,Fd(t,i,a,l)}finally{te.p=d,K.T=h}}function FA(t,i,a,l){var h=K.T;K.T=null;var d=te.p;try{te.p=8,Fd(t,i,a,l)}finally{te.p=d,K.T=h}}function Fd(t,i,a,l){if(ku){var h=Gd(l);if(h===null)Nd(t,i,l,Vu,a),iv(t,l);else if(KA(h,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<GA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-ht(_);T.entanglements[1]|=N,_&=~N}Ri(d),(qe&6)===0&&(yu=en()+500,gl(0))}}break;case 31:case 13:T=Nr(d,2),T!==null&&hn(T,d,2),vu(),qd(d,2)}if(d=Gd(l),d===null&&Nd(t,i,l,Vu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,i,l,null,a)}}function Gd(t){return t=Cn(t),Kd(t)}var Vu=null;function Kd(t){if(Vu=null,t=fi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vu=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case wo:return 2;case Ro:return 8;case fs:case Jh:return 32;case dc:return 268435456;default:return 32}default:return 32}}var Yd=!1,js=null,zs=null,Bs=null,Sl=new Map,Al=new Map,Hs=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function wl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function KA(t,i,a,l,h){switch(i){case"focusin":return js=wl(js,t,i,a,l,h),!0;case"dragenter":return zs=wl(zs,t,i,a,l,h),!0;case"mouseover":return Bs=wl(Bs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,wl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,wl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=fi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=xn(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){Lu(t)&&a.delete(i)}function YA(){Yd=!1,js!==null&&Lu(js)&&(js=null),zs!==null&&Lu(zs)&&(zs=null),Bs!==null&&Lu(Bs)&&(Bs=null),Sl.forEach(rv),Al.forEach(rv)}function Pu(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,YA)))}var Uu=null;function av(t){Uu!==t&&(Uu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(N){return Pu(N,t)}js!==null&&Pu(js,t),zs!==null&&Pu(zs,t),Bs!==null&&Pu(Bs,t),Sl.forEach(i),Al.forEach(i);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Vt]||null;if(typeof d=="function")_||av(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Vt]||null)T=_.formAction;else if(Kd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qd(t){this._internalRoot=t}ju.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();W_(a,l,t,i,null,null)},ju.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),vu(),i[ui]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var i=vc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.2.0")throw Error(r(527,lv,"19.2.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var QA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{qn=zu.inject(QA),jt=zu}catch{}}return Il.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=py,d=gy,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$_(t,1,!1,null,null,a,l,null,h,d,_,ov),t[ui]=i.current,Cd(t),new Qd(i)},Il.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=py,_=gy,T=yy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=$_(t,1,!0,i,a??null,l,h,N,d,_,T,ov),i.context=J_(null),a=i.current,l=Sn(),l=_r(l),h=Is(l),h.callback=null,xs(a,h,l),a=l,i.current.lanes=a,gr(i,a),Ri(i),t[ui]=i.current,Cd(t),new ju(i)},Il.version="19.2.0",Il}var _v;function sw(){if(_v)return Jd.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=iw(),Jd.exports}var rw=sw();const aw=()=>{};var vv={};const EE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ow=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,b=c>>2,A=(c&3)<<4|m>>4;let x=(m&15)<<2|y>>6,z=y&63;g||(z=64,f||(x=64)),r.push(n[b],n[A],n[x],n[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(EE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ow(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||A==null)throw new lw;const x=c<<2|m>>4;if(r.push(x),y!==64){const z=m<<4&240|y>>2;if(r.push(z),A!==64){const F=y<<6&192|A;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cw=function(s){const e=EE(s);return TE.encodeByteArray(e,!0)},sh=function(s){return cw(s).replace(/\./g,"")},bE=function(s){try{return TE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hw=()=>uw().__FIREBASE_DEFAULTS__,fw=()=>{if(typeof process>"u"||typeof vv>"u")return;const s=vv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&bE(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return aw()||hw()||fw()||dw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},SE=s=>Rh()?.emulatorHosts?.[s],mw=s=>{const e=SE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AE=()=>Rh()?.config,wE=s=>Rh()?.[`_${s}`];class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(s){return(await fetch(s,{credentials:"include"})).ok}function gw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const Vl={};function yw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function _w(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Ev=!1;function IE(s,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Vl[s]===e||Vl[s]||Ev)return;Vl[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=yw().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,z){x.setAttribute("width","24"),x.setAttribute("id",z),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ev=!0,f()},x}function b(x,z){x.setAttribute("id",z),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=_w(r),z=n("text"),F=document.getElementById(z)||document.createElement("span"),J=n("learnmore"),Z=document.getElementById(J)||document.createElement("a"),re=n("preprendIcon"),le=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;m(ae),b(Z,J);const be=y();g(le,re),ae.append(le,F,Z,be),document.body.appendChild(ae)}c?(F.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Ew(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sw(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Aw(){return!Ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function ww(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Rw="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rw,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Iw(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new si(o,m,r)}}function Iw(s,e){return s.replace(xw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const xw=/\{\$([^}]+)}/g;function Cw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function as(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(Tv(c)&&Tv(f)){if(!as(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function ec(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Nl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Nw(s,e){const n=new Dw(s,e);return n.subscribe.bind(n)}class Dw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ow(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ow(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function tm(){}const Mw=1e3,kw=2,Vw=14400*1e3,Lw=.5;function bv(s,e=Mw,n=kw){const r=e*Math.pow(n,s),o=Math.round(Lw*r*(Math.random()-.5)*2);return Math.min(Vw,r+o)}function kt(s){return s&&s._delegate?s._delegate:s}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qr="[DEFAULT]";class Pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(s){return s===qr?void 0:s}function jw(s){return s.instantiationMode==="EAGER"}class zw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const Bw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Hw=Oe.INFO,qw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Fw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=qw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=Hw,this._logHandler=Fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Gw=(s,e)=>e.some(n=>s instanceof n);let Sv,Av;function Kw(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,_m=new WeakMap,OE=new WeakMap,nm=new WeakMap,Km=new WeakMap;function Qw(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n($s(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&DE.set(n,s)}).catch(()=>{}),Km.set(e,s),e}function Xw(s){if(_m.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});_m.set(s,e)}let vm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return _m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||OE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $w(s){vm=s(vm)}function Jw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(im(this),e,...n);return OE.set(r,e.sort?e.sort():[e]),$s(r)}:Yw().includes(s)?function(...e){return s.apply(im(this),e),$s(DE.get(this))}:function(...e){return $s(s.apply(im(this),e))}}function Ww(s){return typeof s=="function"?Jw(s):(s instanceof IDBTransaction&&Xw(s),Gw(s,Kw())?new Proxy(s,vm):s)}function $s(s){if(s instanceof IDBRequest)return Qw(s);if(nm.has(s))return nm.get(s);const e=Ww(s);return e!==s&&(nm.set(s,e),Km.set(e,s)),e}const im=s=>Km.get(s);function ME(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=$s(f);return r&&f.addEventListener("upgradeneeded",g=>{r($s(f.result),g.oldVersion,g.newVersion,$s(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Zw=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],sm=new Map;function wv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=e1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Zw.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return sm.set(e,c),c}$w(s=>({...s,get:(e,n,r)=>wv(e,n)||s.get(e,n,r),has:(e,n)=>!!wv(e,n)||s.has(e,n)}));class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n1(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",Rv="0.14.6";const os=new Ih("@firebase/app"),i1="@firebase/app-compat",s1="@firebase/analytics-compat",r1="@firebase/analytics",a1="@firebase/app-check-compat",o1="@firebase/app-check",l1="@firebase/auth",c1="@firebase/auth-compat",u1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",b1="@firebase/remote-config-compat",S1="@firebase/storage",A1="@firebase/storage-compat",w1="@firebase/firestore",R1="@firebase/ai",I1="@firebase/firestore-compat",x1="firebase",C1="12.6.0";const Tm="[DEFAULT]",N1={[Em]:"fire-core",[i1]:"fire-core-compat",[r1]:"fire-analytics",[s1]:"fire-analytics-compat",[o1]:"fire-app-check",[a1]:"fire-app-check-compat",[l1]:"fire-auth",[c1]:"fire-auth-compat",[u1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[b1]:"fire-rc-compat",[S1]:"fire-gcs",[A1]:"fire-gcs-compat",[w1]:"fire-fst",[I1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};const rh=new Map,D1=new Map,bm=new Map;function Iv(s,e){try{s.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ki(s){const e=s.name;if(bm.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const n of rh.values())Iv(n,s);for(const n of D1.values())Iv(n,s);return!0}function ia(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new na("app","Firebase",O1);class M1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const go=C1;function kE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Tm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(n||(n=AE()),!n)throw Js.create("no-options");const c=rh.get(o);if(c){if(as(n,c.options)&&as(r,c.config))return c;throw Js.create("duplicate-app",{appName:o})}const f=new zw(o);for(const g of bm.values())f.addComponent(g);const m=new M1(n,r,f);return rh.set(o,m),m}function Ym(s=Tm){const e=rh.get(s);if(!e&&s===Tm&&AE())return kE();if(!e)throw Js.create("no-app",{appName:s});return e}function Bn(s,e,n){let r=N1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}ki(new ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const k1="firebase-heartbeat-database",V1=1,ql="firebase-heartbeat-store";let rm=null;function VE(){return rm||(rm=ME(k1,V1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),rm}async function L1(s){try{const n=(await VE()).transaction(ql),r=await n.objectStore(ql).get(LE(s));return await n.done,r}catch(e){if(e instanceof si)os.warn(e.message);else{const n=Js.create("idb-get",{originalErrorMessage:e?.message});os.warn(n.message)}}}async function xv(s,e){try{const r=(await VE()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,LE(s)),await r.done}catch(n){if(n instanceof si)os.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function LE(s){return`${s.name}!${s.options.appId}`}const P1=1024,U1=30;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>U1){const o=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:n,unsentEntries:r}=z1(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function z1(s,e=P1){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Nv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function H1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function q1(s){ki(new ii("platform-logger",e=>new t1(e),"PRIVATE")),ki(new ii("heartbeat",e=>new j1(e),"PRIVATE")),Bn(Em,Rv,s),Bn(Em,Rv,"esm2020"),Bn("fire-js","")}q1("");var F1="firebase",G1="12.6.0";Bn(F1,G1,"app");const PE="@firebase/installations",Qm="0.6.19";const UE=1e4,jE=`w:${Qm}`,zE="FIS_v2",K1="https://firebaseinstallations.googleapis.com/v1",Y1=3600*1e3,Q1="installations",X1="Installations";const $1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qr=new na(Q1,X1,$1);function BE(s){return s instanceof si&&s.code.includes("request-failed")}function HE({projectId:s}){return`${K1}/projects/${s}/installations`}function qE(s){return{token:s.token,requestStatus:2,expiresIn:W1(s.expiresIn),creationTime:Date.now()}}async function FE(s,e){const r=(await e.json()).error;return Qr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function J1(s,{refreshToken:e}){const n=GE(s);return n.append("Authorization",Z1(e)),n}async function KE(s){const e=await s();return e.status>=500&&e.status<600?s():e}function W1(s){return Number(s.replace("s","000"))}function Z1(s){return`${zE} ${s}`}async function eR({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=HE(s),o=GE(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:zE,appId:s.appId,sdkVersion:jE},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await KE(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:qE(y.authToken)}}else throw await FE("Create Installation",g)}function YE(s){return new Promise(e=>{setTimeout(e,s)})}function tR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const nR=/^[cdef][\w-]{21}$/,Sm="";function iR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=sR(s);return nR.test(n)?n:Sm}catch{return Sm}}function sR(s){return tR(s).substr(0,22)}function xh(s){return`${s.appName}!${s.appId}`}const QE=new Map;function XE(s,e){const n=xh(s);$E(n,e),rR(n,e)}function $E(s,e){const n=QE.get(s);if(n)for(const r of n)r(e)}function rR(s,e){const n=aR();n&&n.postMessage({key:s,fid:e}),oR()}let Fr=null;function aR(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=s=>{$E(s.data.key,s.data.fid)}),Fr}function oR(){QE.size===0&&Fr&&(Fr.close(),Fr=null)}const lR="firebase-installations-database",cR=1,Xr="firebase-installations-store";let am=null;function Xm(){return am||(am=ME(lR,cR,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Xr)}}})),am}async function ah(s,e){const n=xh(s),o=(await Xm()).transaction(Xr,"readwrite"),c=o.objectStore(Xr),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&XE(s,e.fid),e}async function JE(s){const e=xh(s),r=(await Xm()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(e),await r.done}async function Ch(s,e){const n=xh(s),o=(await Xm()).transaction(Xr,"readwrite"),c=o.objectStore(Xr),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&XE(s,m.fid),m}async function $m(s){let e;const n=await Ch(s.appConfig,r=>{const o=uR(r),c=hR(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Sm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uR(s){const e=s||{fid:iR(),registrationStatus:0};return WE(e)}function hR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dR(s)}:{installationEntry:e}}async function fR(s,e){try{const n=await eR(s,e);return ah(s.appConfig,n)}catch(n){throw BE(n)&&n.customData.serverCode===409?await JE(s.appConfig):await ah(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dR(s){let e=await Dv(s.appConfig);for(;e.registrationStatus===1;)await YE(100),e=await Dv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $m(s);return r||n}return e}function Dv(s){return Ch(s,e=>{if(!e)throw Qr.create("installation-not-found");return WE(e)})}function WE(s){return mR(s)?{fid:s.fid,registrationStatus:0}:s}function mR(s){return s.registrationStatus===1&&s.registrationTime+UE<Date.now()}async function pR({appConfig:s,heartbeatServiceProvider:e},n){const r=gR(s,n),o=J1(s,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:jE,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await KE(()=>fetch(r,m));if(g.ok){const y=await g.json();return qE(y)}else throw await FE("Generate Auth Token",g)}function gR(s,{fid:e}){return`${HE(s)}/${e}/authTokens:generate`}async function Jm(s,e=!1){let n;const r=await Ch(s.appConfig,c=>{if(!ZE(c))throw Qr.create("not-registered");const f=c.authToken;if(!e&&vR(f))return c;if(f.requestStatus===1)return n=yR(s,e),c;{if(!navigator.onLine)throw Qr.create("app-offline");const m=TR(c);return n=_R(s,m),m}});return n?await n:r.authToken}async function yR(s,e){let n=await Ov(s.appConfig);for(;n.authToken.requestStatus===1;)await YE(100),n=await Ov(s.appConfig);const r=n.authToken;return r.requestStatus===0?Jm(s,e):r}function Ov(s){return Ch(s,e=>{if(!ZE(e))throw Qr.create("not-registered");const n=e.authToken;return bR(n)?{...e,authToken:{requestStatus:0}}:e})}async function _R(s,e){try{const n=await pR(s,e),r={...e,authToken:n};return await ah(s.appConfig,r),n}catch(n){if(BE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await JE(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ah(s.appConfig,r)}throw n}}function ZE(s){return s!==void 0&&s.registrationStatus===2}function vR(s){return s.requestStatus===2&&!ER(s)}function ER(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+Y1}function TR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function bR(s){return s.requestStatus===1&&s.requestTime+UE<Date.now()}async function SR(s){const e=s,{installationEntry:n,registrationPromise:r}=await $m(e);return r?r.catch(console.error):Jm(e).catch(console.error),n.fid}async function AR(s,e=!1){const n=s;return await wR(n),(await Jm(n,e)).token}async function wR(s){const{registrationPromise:e}=await $m(s);e&&await e}function RR(s){if(!s||!s.options)throw om("App Configuration");if(!s.name)throw om("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw om(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function om(s){return Qr.create("missing-app-config-values",{valueName:s})}const eT="installations",IR="installations-internal",xR=s=>{const e=s.getProvider("app").getImmediate(),n=RR(e),r=ia(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CR=s=>{const e=s.getProvider("app").getImmediate(),n=ia(e,eT).getImmediate();return{getId:()=>SR(n),getToken:o=>AR(n,o)}};function NR(){ki(new ii(eT,xR,"PUBLIC")),ki(new ii(IR,CR,"PRIVATE"))}NR();Bn(PE,Qm);Bn(PE,Qm,"esm2020");const oh="analytics",DR="firebase_id",OR="origin",MR=60*1e3,kR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wm="https://www.googletagmanager.com/gtag/js";const sn=new Ih("@firebase/analytics");const VR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new na("analytics","Analytics",VR);function LR(s){if(!s.startsWith(Wm)){const e=Rn.create("invalid-gtag-resource",{gtagURL:s});return sn.warn(e.message),""}return s}function tT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function PR(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function UR(s,e){const n=PR("firebase-js-sdk-policy",{createScriptURL:LR}),r=document.createElement("script"),o=`${Wm}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function jR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function zR(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const g=(await tT(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){sn.error(m)}s("config",o,c)}async function BR(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await tT(n);for(const g of f){const y=m.find(A=>A.measurementId===g),b=y&&e[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){sn.error(c)}}function HR(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,g]=f;await BR(s,e,n,m,g)}else if(c==="config"){const[m,g]=f;await zR(s,e,n,r,m,g)}else if(c==="consent"){const[m,g]=f;s("consent",m,g)}else if(c==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){sn.error(m)}}return o}function qR(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=HR(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function FR(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wm)&&n.src.includes(s))return n;return null}const GR=30,KR=1e3;class YR{constructor(e={},n=KR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nT=new YR;function QR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function XR(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:QR(n)},o=kR.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function $R(s,e=nT,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw Rn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new ZR;return setTimeout(async()=>{m.abort()},MR),iT({appId:r,apiKey:o,measurementId:c},f,m,e)}async function iT(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=nT){const{appId:c,measurementId:f}=s;try{await JR(r,e)}catch(m){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await XR(s);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!WR(g)){if(o.deleteThrottleMetadata(c),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?bv(n,o.intervalMillis,GR):bv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,b),sn.debug(`Calling attemptFetch again in ${y} millis`),iT(s,b,r,o)}}function JR(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WR(s){if(!(s instanceof si)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class ZR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eI(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function tI(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}async function nI(){if(CE())try{await NE()}catch(s){return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return sn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iI(s,e,n,r,o,c,f){const m=$R(s);m.then(x=>{n[x.measurementId]=x.appId,s.options.measurementId&&x.measurementId!==s.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>sn.error(x)),e.push(m);const g=nI().then(x=>{if(x)return r.getId()}),[y,b]=await Promise.all([m,g]);FR(c)||UR(c,y.measurementId),o("js",new Date);const A=f?.config??{};return A[OR]="firebase",A.update=!0,b!=null&&(A[DR]=b),o("config",y.measurementId,A),y.measurementId}class sI{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Mv=[];const kv={};let lm="dataLayer",rI="gtag",Vv,Zm,Lv=!1;function aI(){const s=[];if(xE()&&s.push("This is a browser extension environment."),ww()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function oI(s,e,n){aI();const r=s.options.appId;if(!r)throw Rn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(no[r]!=null)throw Rn.create("already-exists",{id:r});if(!Lv){jR(lm);const{wrappedGtag:c,gtagCore:f}=qR(no,Mv,kv,lm,rI);Zm=c,Vv=f,Lv=!0}return no[r]=iI(s,Mv,kv,e,Vv,lm,n),new sI(s)}function lI(s=Ym()){s=kt(s);const e=ia(s,oh);return e.isInitialized()?e.getImmediate():cI(s)}function cI(s,e={}){const n=ia(s,oh);if(n.isInitialized()){const o=n.getImmediate();if(as(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function uI(s,e,n){s=kt(s),tI(Zm,no[s.app.options.appId],e,n).catch(r=>sn.error(r))}function hI(s,e,n,r){s=kt(s),eI(Zm,no[s.app.options.appId],e,n,r).catch(o=>sn.error(o))}const Pv="@firebase/analytics",Uv="0.10.19";function fI(){ki(new ii(oh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return oI(r,o,n)},"PUBLIC")),ki(new ii("analytics-internal",s,"PRIVATE")),Bn(Pv,Uv),Bn(Pv,Uv,"esm2020");function s(e){try{const n=e.getProvider(oh).getImmediate();return{logEvent:(r,o,c)=>hI(n,r,o,c),setUserProperties:(r,o)=>uI(n,r,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}fI();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dI=sT,rT=new na("auth","Firebase",sT());const lh=new Ih("@firebase/auth");function mI(s,...e){lh.logLevel<=Oe.WARN&&lh.warn(`Auth (${go}): ${s}`,...e)}function Yu(s,...e){lh.logLevel<=Oe.ERROR&&lh.error(`Auth (${go}): ${s}`,...e)}function Hn(s,...e){throw tp(s,...e)}function ni(s,...e){return tp(s,...e)}function ep(s,e,n){const r={...dI(),[e]:n};return new na("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return ep(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hn(s,"argument-error"),ep(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return rT.create(s,...e)}function ge(s,e,...n){if(!s)throw tp(e,...n)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yu(e),new Error(e)}function ls(s,e){s||is(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function gI(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gI()||xE()||"connection"in navigator)?navigator.onLine:!0}function _I(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=vw()||bw()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(s,e){ls(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TI=new tc(3e4,6e4);function or(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function lr(s,e,n,r,o={}){return oT(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=ec({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return Tw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&po(s.emulatorConfig.host)&&(y.credentials="include"),aT.fetch()(await lT(s,s.config.apiHost,n,m),y)})}async function oT(s,e,n){s._canInitEmulator=!1;const r={...vI,...e};try{const o=new SI(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Bu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bu(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bu(s,"user-disabled",f);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ep(s,b,y);Hn(s,b)}}catch(o){if(o instanceof si)throw o;Hn(s,"network-request-failed",{message:String(o)})}}async function nc(s,e,n,r,o={}){const c=await lr(s,e,n,r,o);return"mfaPendingCredential"in c&&Hn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function lT(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?np(s.config,o):`${s.config.apiScheme}://${o}`;return EI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function bI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),TI.get())})}}function Bu(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ni(s,e,r);return o.customData._tokenResponse=n,o}function zv(s){return s!==void 0&&s.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wI(s,e){return lr(s,"GET","/v2/recaptchaConfig",or(s,e))}async function RI(s,e){return lr(s,"POST","/v1/accounts:delete",e)}async function ch(s,e){return lr(s,"POST","/v1/accounts:lookup",e)}function Ll(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function II(s,e=!1){const n=kt(s),r=await n.getIdToken(e),o=ip(r);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Ll(cm(o.auth_time)),issuedAtTime:Ll(cm(o.iat)),expirationTime:Ll(cm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function cm(s){return Number(s)*1e3}function ip(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const o=bE(n);return o?JSON.parse(o):(Yu("Failed to decode base64 JWT payload"),null)}catch(o){return Yu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bv(s){const e=ip(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&xI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function xI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class CI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const e=s.auth,n=await s.getIdToken(),r=await Fl(s,ch(e,{idToken:n}));ge(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?cT(o.providerUserInfo):[],f=DI(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function NI(s){const e=kt(s);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DI(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function cT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function OI(s,e){const n=await oT(s,{},async()=>{const r=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await lT(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&po(s.emulatorConfig.host)&&(g.credentials="include"),aT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MI(s,e){return lr(s,"POST","/v2/accounts:revokeToken",or(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await OI(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new io;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return is("not implemented")}}function Fs(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new CI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return II(this,e)}reload(){return NI(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Fl(this,RI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:z,providerData:F,stsTokenManager:J}=n;ge(A&&J,e,"internal-error");const Z=io.fromJSON(this.name,J);ge(typeof A=="string",e,"internal-error"),Fs(r,e.name),Fs(o,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof z=="boolean",e,"internal-error"),Fs(c,e.name),Fs(f,e.name),Fs(m,e.name),Fs(g,e.name),Fs(y,e.name),Fs(b,e.name);const re=new ti({uid:A,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return F&&Array.isArray(F)&&(re.providerData=F.map(le=>({...le}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,n,r=!1){const o=new io;o.updateFromServerResponse(n);const c=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await uh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new io;m.updateFromIdToken(r);const g=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Hv=new Map;function ss(s){ls(s instanceof Function,"Expected a class definition");let e=Hv.get(s);return e?(ls(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Hv.set(s,e),e)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uT.type="NONE";const qv=uT;function Qu(s,e,n){return`firebase:${s}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(ss(qv),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ss(qv);const f=Qu(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const x=await ch(e,{idToken:b}).catch(()=>{});if(!x)break;A=await ti._fromGetAccountInfoResponse(e,x,b)}else A=ti._fromJSON(e,b);y!==c&&(m=A),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new so(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new so(c,e,r))}}function Fv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function hT(s=Zt()){return/firefox\//i.test(s)}function fT(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(s=Zt()){return/crios\//i.test(s)}function mT(s=Zt()){return/iemobile/i.test(s)}function pT(s=Zt()){return/android/i.test(s)}function gT(s=Zt()){return/blackberry/i.test(s)}function yT(s=Zt()){return/webos/i.test(s)}function sp(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function kI(s=Zt()){return sp(s)&&!!window.navigator?.standalone}function VI(){return Sw()&&document.documentMode===10}function _T(s=Zt()){return sp(s)||pT(s)||yT(s)||gT(s)||/windows phone/i.test(s)||mT(s)}function vT(s,e=[]){let n;switch(s){case"Browser":n=Fv(Zt());break;case"Worker":n=`${Fv(Zt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}class LI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PI(s,e={}){return lr(s,"GET","/v2/passwordPolicy",or(s,e))}const UI=6;class jI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class zI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gv(this),this.idTokenSubscription=new Gv(this),this.beforeStateQueue=new LI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(rs(this));const n=e?kt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PI(this),n=new jI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cr(s){return kt(s)}class Gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nw(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BI(s){Nh=s}function ET(s){return Nh.loadJS(s)}function HI(){return Nh.recaptchaEnterpriseScript}function qI(){return Nh.gapiScript}function FI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class GI{constructor(){this.enterprise=new KI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YI="recaptcha-enterprise",TT="NO_RECAPTCHA";class QI{constructor(e){this.type=YI,this.auth=cr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{wI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new AI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,f,m){const g=window.grecaptcha;zv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(TT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GI().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(m=>{if(!n&&zv(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=HI();g.length!==0&&(g+=m),ET(g).then(()=>{o(m,c,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Kv(s,e,n,r=!1,o=!1){const c=new QI(s);let f;if(o)f=TT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Kv(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Kv(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(c)})}function XI(s,e){const n=ia(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(as(c,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function $I(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function JI(s,e,n){const r=cr(s);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=bT(e),{host:f,port:m}=WI(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(as(y,r.config.emulator)&&as(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,po(f)?(RE(`${c}//${f}${g}`),IE("Auth",!0)):ZI()}function bT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function WI(s){const e=bT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Yv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Yv(f)}}}function Yv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ZI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function ex(s,e){return lr(s,"POST","/v1/accounts:signUp",e)}async function tx(s,e){return nc(s,"POST","/v1/accounts:signInWithPassword",or(s,e))}async function nx(s,e){return nc(s,"POST","/v1/accounts:signInWithEmailLink",or(s,e))}async function ix(s,e){return nc(s,"POST","/v1/accounts:signInWithEmailLink",or(s,e))}class Gl extends rp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",tx);case"emailLink":return nx(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,r,"signUpPassword",ex);case"emailLink":return ix(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return nc(s,"POST","/v1/accounts:signInWithIdp",or(s,e))}const sx="http://localhost";class $r extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new $r(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ec(n)}return e}}function rx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ax(s){const e=Cl(Nl(s)).link,n=e?Cl(Nl(e)).deep_link_id:null,r=Cl(Nl(s)).deep_link_id;return(r?Cl(Nl(r)).link:null)||r||n||e||s}class ap{constructor(e){const n=Cl(Nl(e)),r=n.apiKey??null,o=n.oobCode??null,c=rx(n.mode??null);ge(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ax(e);try{return new ap(n)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ap.parseLink(n);return ge(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ic extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends ic{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class ns extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class Ys extends ic{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Qs extends ic{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function ox(s,e){return nc(s,"POST","/v1/accounts:signUp",or(s,e))}class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ti._fromIdTokenResponse(e,r,o),f=Qv(r);return new Jr({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Qv(r);return new Jr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends si{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new hh(e,n,r,o)}}function ST(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,r):c})}async function lx(s,e,n=!1){const r=await Fl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Jr._forOperation(s,"link",r)}async function cx(s,e,n=!1){const{auth:r}=s;if(An(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const c=await Fl(s,ST(r,o,e,s),n);ge(c.idToken,r,"internal-error");const f=ip(c.idToken);ge(f,r,"internal-error");const{sub:m}=f;return ge(s.uid===m,r,"user-mismatch"),Jr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Hn(r,"user-mismatch"),c}}async function AT(s,e,n=!1){if(An(s.app))return Promise.reject(rs(s));const r="signIn",o=await ST(s,r,e),c=await Jr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function ux(s,e){return AT(cr(s),e)}async function wT(s){const e=cr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hx(s,e,n){if(An(s.app))return Promise.reject(rs(s));const r=cr(s),f=await Rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ox).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&wT(s),g}),m=await Jr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function fx(s,e,n){return An(s.app)?Promise.reject(rs(s)):ux(kt(s),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(s),r})}function dx(s,e,n,r){return kt(s).onIdTokenChanged(e,n,r)}function mx(s,e,n){return kt(s).beforeAuthStateChanged(e,n)}function px(s,e,n,r){return kt(s).onAuthStateChanged(e,n,r)}function gx(s){return kt(s).signOut()}const fh="__sak";class RT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yx=1e3,_x=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);VI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_x):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const vx=IT;class xT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const CT=xT;function Ex(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await Ex(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function lp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class Tx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=lp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function xi(){return window}function bx(s){xi().location.href=s}function NT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function Sx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ax(){return navigator?.serviceWorker?.controller||null}function wx(){return NT()?self:null}const DT="firebaseLocalStorageDb",Rx=1,dh="firebaseLocalStorage",OT="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function Ix(){const s=indexedDB.deleteDatabase(DT);return new sc(s).toPromise()}function Im(){const s=indexedDB.open(DT,Rx);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:OT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await Ix(),e(await Im()))})})}async function Xv(s,e,n){const r=Oh(s,!0).put({[OT]:e,value:n});return new sc(r).toPromise()}async function xx(s,e){const n=Oh(s,!1).get(e),r=await new sc(n).toPromise();return r===void 0?null:r.value}function $v(s,e){const n=Oh(s,!0).delete(e);return new sc(n).toPromise()}const Cx=800,Nx=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Nx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(wx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Sx(),!this.activeServiceWorker)return;this.sender=new Tx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ax()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Xv(e,fh,"1"),await $v(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Oh(o,!1).getAll();return new sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const Dx=MT;new tc(3e4,6e4);function kT(s,e){return e?ss(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class cp extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ox(s){return AT(s.auth,new cp(s),s.bypassAuthState)}function Mx(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),cx(n,new cp(s),s.bypassAuthState)}async function kx(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),lx(n,new cp(s),s.bypassAuthState)}class VT{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ox;case"linkViaPopup":case"linkViaRedirect":return kx;case"reauthViaPopup":case"reauthViaRedirect":return Mx;default:Hn(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vx=new tc(2e3,1e4);async function Lx(s,e,n){if(An(s.app))return Promise.reject(ni(s,"operation-not-supported-in-this-environment"));const r=cr(s);pI(s,e,op);const o=kT(r,n);return new Gr(r,"signInViaPopup",e,o).executeNotNull()}class Gr extends VT{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vx.get())};e()}}Gr.currentPopupAction=null;const Px="pendingRedirect",Xu=new Map;class Ux extends VT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const r=await jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jx(s,e){const n=Hx(e),r=Bx(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function zx(s,e){Xu.set(s._key(),e)}function Bx(s){return ss(s._redirectPersistence)}function Hx(s){return Qu(Px,s.config.apiKey,s.name)}async function qx(s,e,n=!1){if(An(s.app))return Promise.reject(rs(s));const r=cr(s),o=kT(r,e),f=await new Ux(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const Fx=600*1e3;class Gx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function LT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Kx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(s);default:return!1}}async function Yx(s,e={}){return lr(s,"GET","/v1/projects",e)}const Qx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xx=/^https?/;async function $x(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Yx(s);for(const n of e)try{if(Jx(n))return}catch{}Hn(s,"unauthorized-domain")}function Jx(s){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!Xx.test(n))return!1;if(Qx.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Wx=new tc(3e4,6e4);function Wv(){const s=xi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Zx(s){return new Promise((e,n)=>{function r(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(ni(s,"network-request-failed"))},timeout:Wx.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const o=FI("iframefcb");return xi()[o]=()=>{gapi.load?r():n(ni(s,"network-request-failed"))},ET(`${qI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw $u=null,e})}let $u=null;function eC(s){return $u=$u||Zx(s),$u}const tC=new tc(5e3,15e3),nC="__/auth/iframe",iC="emulator/auth/iframe",sC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aC(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?np(e,iC):`https://${s.config.authDomain}/${nC}`,r={apiKey:e.apiKey,appName:s.name,v:go},o=rC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${ec(r).slice(1)}`}async function oC(s){const e=await eC(s),n=xi().gapi;return ge(n,s,"internal-error"),e.open({where:document.body,url:aC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=ni(s,"network-request-failed"),m=xi().setTimeout(()=>{c(f)},tC.get());function g(){xi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}const lC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cC=500,uC=600,hC="_blank",fC="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dC(s,e,n,r=cC,o=uC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...lC,width:r.toString(),height:o.toString(),top:c,left:f},y=Zt().toLowerCase();n&&(m=dT(y)?hC:n),hT(y)&&(e=e||fC,g.scrollbars="yes");const b=Object.entries(g).reduce((x,[z,F])=>`${x}${z}=${F},`,"");if(kI(y)&&m!=="_self")return mC(e||"",m),new Zv(null);const A=window.open(e||"",m,b);ge(A,s,"popup-blocked");try{A.focus()}catch{}return new Zv(A)}function mC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const pC="__/auth/handler",gC="emulator/auth/handler",yC=encodeURIComponent("fac");async function e0(s,e,n,r,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:go,eventId:o};if(e instanceof op){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Cw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof ic){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),y=g?`#${yC}=${encodeURIComponent(g)}`:"";return`${_C(s)}?${ec(m).slice(1)}${y}`}function _C({config:s}){return s.emulator?np(s,gC):`https://${s.authDomain}/${pC}`}const um="webStorageSupport";class vC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=qx,this._overrideRedirectResult=zx}async _openPopup(e,n,r,o){ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await e0(e,n,r,Am(),o);return dC(e,c,lp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await e0(e,n,r,Am(),o);return bx(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ls(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oC(e),r=new Gx(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{const c=o?.[0]?.[um];c!==void 0&&n(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$x(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||fT()||sp()}}const EC=vC;var t0="@firebase/auth",n0="1.11.1";class TC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(s){ki(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(s)},y=new zI(r,o,c,g);return $I(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new ii("auth-internal",e=>{const n=cr(e.getProvider("auth").getImmediate());return(r=>new TC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(t0,n0,bC(s)),Bn(t0,n0,"esm2020")}const AC=300,wC=wE("authIdTokenMaxAge")||AC;let i0=null;const RC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wC)return;const o=n?.token;i0!==o&&(i0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IC(s=Ym()){const e=ia(s,"auth");if(e.isInitialized())return e.getImmediate();const n=XI(s,{popupRedirectResolver:EC,persistence:[Dx,vx,CT]}),r=wE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=RC(c.toString());mx(n,f,()=>f(n.currentUser)),dx(n,m=>f(m))}}const o=SE("auth");return o&&JI(n,`http://${o}`),n}function xC(){return document.getElementsByTagName("head")?.[0]??document}BI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ni("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",xC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,PT;(function(){var s;function e(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,D,L){for(var C=Array(arguments.length-2),it=2;it<arguments.length;it++)C[it-2]=arguments[it];return w.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],D=R.g[2];let L=R.g[3],C;C=w+(L^I&(D^L))+M[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(D^w&(I^D))+M[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(I^L&(w^I))+M[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(w^D&(L^w))+M[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(L^I&(D^L))+M[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(D^w&(I^D))+M[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(I^L&(w^I))+M[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(w^D&(L^w))+M[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(L^I&(D^L))+M[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(D^w&(I^D))+M[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(I^L&(w^I))+M[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(w^D&(L^w))+M[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(L^I&(D^L))+M[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(D^w&(I^D))+M[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(I^L&(w^I))+M[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(w^D&(L^w))+M[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(D^L&(I^D))+M[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(w^I))+M[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(L^w))+M[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(D^L))+M[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(I^D))+M[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(w^I))+M[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(L^w))+M[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(D^L))+M[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(I^D))+M[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(w^I))+M[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(L^w))+M[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(D^L))+M[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(I^D))+M[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(w^I))+M[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(L^w))+M[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(D^L))+M[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(I^D^L)+M[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^D)+M[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^I)+M[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^w)+M[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^L)+M[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^D)+M[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^I)+M[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^w)+M[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^L)+M[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^D)+M[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^I)+M[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^w)+M[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^L)+M[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^D)+M[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^I)+M[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^w)+M[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(D^(I|~L))+M[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~D))+M[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~I))+M[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~w))+M[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~L))+M[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~D))+M[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~I))+M[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~w))+M[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~L))+M[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~D))+M[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~I))+M[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~w))+M[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~L))+M[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~D))+M[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~I))+M[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(M[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<w;)if(M[D++]=R[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[w++]=this.g[I]>>>M&255;return R};function c(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function f(R,w){this.h=w;const I=[];let M=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;M&&L==w||(I[D]=L,M=!1)}this.g=I}var m={};function g(R){return-128<=R&&R<128?c(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return Z(y(-R));const w=[];let I=1;for(let M=0;R>=I;M++)w[M]=R/I|0,I*=4294967296;return new f(w,0)}function b(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return Z(b(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let M=A;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),M=M.j(D).add(y(C))):(M=M.j(I),M=M.add(y(C)))}return M}var A=g(0),x=g(1),z=g(16777216);s=f.prototype,s.m=function(){if(J(this))return-Z(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(J(this))return"-"+Z(this).toString(R);const w=y(Math.pow(R,6));var I=this;let M="";for(;;){const D=be(I,w).g;I=re(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=D,F(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function J(R){return R.h==-1}s.l=function(R){return R=re(this,R),J(R)?-1:F(R)?0:1};function Z(R){const w=R.g.length,I=[];for(let M=0;M<w;M++)I[M]=~R.g[M];return new f(I,~R.h).add(x)}s.abs=function(){return J(this)?Z(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let D=0;D<=w;D++){let L=M+(this.i(D)&65535)+(R.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=C>>>16,L&=65535,C&=65535,I[D]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function re(R,w){return R.add(Z(w))}s.j=function(R){if(F(this)||F(R))return A;if(J(this))return J(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(J(R))return Z(this.j(Z(R)));if(this.l(z)<0&&R.l(z)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const L=this.i(M)>>>16,C=this.i(M)&65535,it=R.i(D)>>>16,It=R.i(D)&65535;I[2*M+2*D]+=C*It,le(I,2*M+2*D),I[2*M+2*D+1]+=L*It,le(I,2*M+2*D+1),I[2*M+2*D+1]+=C*it,le(I,2*M+2*D+1),I[2*M+2*D+2]+=L*it,le(I,2*M+2*D+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new f(I,0)};function le(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ae(R,w){this.g=R,this.h=w}function be(R,w){if(F(w))throw Error("division by zero");if(F(R))return new ae(A,A);if(J(R))return w=be(Z(R),w),new ae(Z(w.g),Z(w.h));if(J(w))return w=be(R,Z(w)),new ae(Z(w.g),w.h);if(R.g.length>30){if(J(R)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=w;M.l(R)<=0;)I=Ve(I),M=Ve(M);var D=ue(I,1),L=ue(M,1);for(M=ue(M,2),I=ue(I,2);!F(M);){var C=L.add(M);C.l(R)<=0&&(D=D.add(I),L=C),M=ue(M,1),I=ue(I,1)}return w=re(R,D.j(w)),new ae(D,w)}for(D=A;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),C=L.j(w);J(C)||C.l(R)>0;)I-=M,L=y(I),C=L.j(w);F(L)&&(L=x),D=D.add(L),R=re(R,C)}return new ae(D,R)}s.B=function(R){return be(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&R.i(M);return new f(I,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|R.i(M);return new f(I,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^R.i(M);return new f(I,this.h^R.h)};function Ve(R){const w=R.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(I,R.h)}function ue(R,w){const I=w>>5;w%=32;const M=R.g.length-I,D=[];for(let L=0;L<M;L++)D[L]=w>0?R.i(L+I)>>>w|R.i(L+I+1)<<32-w:R.i(L+I);return new f(D,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Ws=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,Dl,jT,Ju,xm,zT,BT,HT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break e;v=v[P]}u=u[u.length-1],S=v[u],p=p(S),p!=S&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var c=c||{},f=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,v){return u.call.apply(u.bind,arguments)}function y(u,p,v){return y=g,y.apply(null,arguments)}function b(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,H){for(var ee=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ee[Se-2]=arguments[Se];return p.prototype[P].apply(S,ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const p=u.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=u[S];return v}return[]}function F(u,p){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let ee=0;ee<H;ee++)u[v+ee]=P[ee]}else u.push(P)}}class J{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(u){f.setTimeout(()=>{throw u},0)}function re(){var u=R;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class le{constructor(){this.h=this.g=null}add(p,v){const S=ae.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new J(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,ue=!1,R=new le,w=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(I)}};function I(){for(var u;u=re();){try{u.h.call(u.g)}catch(v){Z(v)}var p=ae;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function it(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}A(it,D),it.prototype.init=function(u,p){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(u,p,v,S,P){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=P,this.key=++K,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,p,v){for(const S in u)p.call(v,u[S],S,u)}function Ge(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function k(u){const p={};for(const v in u)p[v]=u[v];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,p){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,p,v,S,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ee=Re(u,p,S,P);return ee>-1?(p=u[ee],v||(p.fa=!1)):(p=new te(p,this.src,H,!!S,P),p.fa=v,u.push(p)),p};function _e(u,p){const v=p.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,p,void 0),H;(H=P>=0)&&Array.prototype.splice.call(S,P,1),H&&(de(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,p,v,S){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==S)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),xt={};function st(u,p,v,S,P){if(Array.isArray(p)){for(let H=0;H<p.length;H++)st(u,p[H],v,S,P);return null}return v=Ao(v),u&&u[It]?u.J(p,v,m(S)?!!S.capture:!1,P):fr(u,p,v,!1,S,P)}function fr(u,p,v,S,P,H){if(!p)throw Error("Invalid event type");const ee=m(P)?!!P.capture:!!P;let Se=dr(u);if(Se||(u[Pe]=Se=new se(u)),v=Se.add(p,v,S,ee,H),v.proxy)return v;if(S=aa(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(P=ee),P===void 0&&(P=!1),u.addEventListener(p.toString(),S,P);else if(u.attachEvent)u.attachEvent(ri(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function u(v){return p.call(u.src,u.listener,v)}const p=bo;return u}function oa(u,p,v,S,P){if(Array.isArray(p))for(var H=0;H<p.length;H++)oa(u,p[H],v,S,P);else S=m(S)?!!S.capture:!!S,v=Ao(v),u&&u[It]?(u=u.i,H=String(p).toString(),H in u.g&&(p=u.g[H],v=Re(p,v,S,P),v>-1&&(de(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[H],u.h--)))):u&&(u=dr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Re(p,v,S,P)),(v=u>-1?p[u]:null)&&la(v))}function la(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[It])_e(p.i,u);else{var v=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(v,S,u.capture):p.detachEvent?p.detachEvent(ri(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=dr(p))?(_e(v,u),v.h==0&&(v.src=null,p[Pe]=null)):de(u)}}}function ri(u){return u in xt?xt[u]:xt[u]="on"+u}function bo(u,p){if(u.da)u=!0;else{p=new it(p,this);const v=u.listener,S=u.ha||u.src;u.fa&&la(u),u=v.call(S,p)}return u}function dr(u){return u=u[Pe],u instanceof se?u:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(u){return typeof u=="function"?u:(u[So]||(u[So]=function(p){return u.handleEvent(p)}),u[So])}function gt(){M.call(this),this.i=new se(this),this.M=this,this.G=null}A(gt,M),gt.prototype[It]=!0,gt.prototype.removeEventListener=function(u,p,v,S){oa(this,u,p,v,S)};function Ct(u,p){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var P=p;p=new D(S,u),ne(p,P)}P=!0;let H,ee;if(v)for(ee=v.length-1;ee>=0;ee--)H=p.g=v[ee],P=hs(H,S,!0,p)&&P;if(H=p.g=u,P=hs(H,S,!0,p)&&P,P=hs(H,S,!1,p)&&P,v)for(ee=0;ee<v.length;ee++)H=p.g=v[ee],P=hs(H,S,!1,p)&&P}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let S=0;S<v.length;S++)de(v[S]);delete u.g[p],u.h--}}this.G=null},gt.prototype.J=function(u,p,v,S){return this.i.add(String(u),p,!1,v,S)},gt.prototype.K=function(u,p,v,S){return this.i.add(String(u),p,!0,v,S)};function hs(u,p,v,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let H=0;H<p.length;++H){const ee=p[H];if(ee&&!ee.da&&ee.capture==v){const Se=ee.listener,ft=ee.ha||ee.src;ee.fa&&_e(u.i,ee),P=Se.call(ft,S)!==!1&&P}}return P&&!S.defaultPrevented}function $h(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function fc(u){u.g=$h(()=>{u.g=null,u.i&&(u.i=!1,fc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class en extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){M.call(this),this.h=u,this.g={}}A(mr,M);var wo=[];function Ro(u){je(u.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Ro(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,Jh=f.JSON.parse,dc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function mc(){}function pc(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}A(jt,D);function In(){D.call(this,"c")}A(In,D);var ht={},gc=null;function ca(){return gc=gc||new gt}ht.Ia="serverreachability";function yc(u){D.call(this,ht.Ia,u)}A(yc,D);function ai(u){const p=ca();Ct(p,new yc(p))}ht.STAT_EVENT="statevent";function pr(u,p){D.call(this,ht.STAT_EVENT,u),this.stat=p}A(pr,D);function yt(u){const p=ca();Ct(p,new pr(p,u))}ht.Ja="timingevent";function oi(u,p){D.call(this,ht.Ja,u),this.size=p}A(oi,D);function li(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Wh(u,p,v,S,P,H){u.info(function(){if(u.g)if(H){var ee="",Se=H.split("&");for(let He=0;He<Se.length;He++){var ft=Se[He].split("=");if(ft.length>1){const rt=ft[0];ft=ft[1];const Dn=rt.split("_");ee=Dn.length>=2&&Dn[1]=="type"?ee+(rt+"="+ft+"&"):ee+(rt+"=redacted&")}}}else ee=null;else ee=H;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+v+`
`+ee})}function _c(u,p,v,S,P,H,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+v+`
`+H+" "+ee})}function ci(u,p,v,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zh(u,v)+(S?" "+S:"")})}function gr(u,p){u.info(function(){return"TIMEOUT: "+p})}Fn.prototype.info=function(){};function Zh(u,p){if(!u.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ee=1;ee<S.length;ee++)S[ee]=""}}}}return fs(H)}catch{return p}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function _r(){}A(_r,mc),_r.prototype.g=function(){return new XMLHttpRequest},xo=new _r;function Pi(u){return encodeURIComponent(String(u))}function vc(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function Gn(u,p,v,S){this.j=u,this.i=p,this.l=v,this.S=S||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var _t={},Vt={};function ui(u,p,v){u.M=1,u.A=vr(Et(p)),u.u=v,u.R=!0,ua(u,null)}function ua(u,p){u.F=Date.now(),hi(u),u.B=Et(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Kn,u.g=kc(u.j,v?p:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),p=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(wo[0]=P.toString()),P=wo);for(let H=0;H<P.length;H++){const ee=st(v,P[H],S||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ai(),Wh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Xn(u)==3?p.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Xn(this.g),ft=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Se!=4||ft==7||(ft==8||He<=0?ai(3):ai(2)),fi(this);var p=this.g.ca();this.X=p;var v=ef(this);if(this.o=p==200,_c(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var H=S;break t}}H=null}if(u=H)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,yt(12),pn(this),xn(this);break e}}if(this.R){u=!0;let rt;for(;!this.K&&this.C<v.length;)if(rt=Tc(this,v),rt==Vt){Se==4&&(this.m=4,yt(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==_t){this.m=4,yt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,rt,null),di(this,rt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(ee),ee.P=!0,yt(11))}}else ci(this.i,this.l,v,null),di(this,v);Se==4&&pn(this),this.o&&!this.K&&(Se==4?Nc(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),pn(this),xn(this)}}}catch{}finally{}};function ef(u){if(!Ec(u))return u.g.la();const p=zt(u.g);if(p==="")return"";let v="";const S=p.length,P=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),xn(u),"";u.h.i=new f.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,v+=u.h.i.decode(p[H],{stream:!(P&&H==S-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function Ec(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tc(u,p){var v=u.C,S=p.indexOf(`
`,v);return S==-1?Vt:(v=Number(p.substring(v,S)),isNaN(v)?_t:(S+=1,S+v>p.length?Vt:(p=p.slice(S,S+v),u.C=S+v,p)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),p)}function fi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ai(),yt(17)),pn(this),this.m=2,xn(this)):ha(this,this.T-u)};function xn(u){u.j.I==0||u.K||Nc(u.j,u)}function pn(u){fi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Ro(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function di(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Es(v);else break e;Rr(v),yt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&va(v),!C(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let He=P[p];const rt=He[0];if(!(rt<=v.K))if(v.K=rt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Dn=He[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=He[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const $n=He[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=u.g;if(Jn){const Ir=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var H=S.h;H.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(S.G){const Ea=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,Ke(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ee=u;if(S.na=Mc(S,S.L?S.ba:null,S.W),ee.L){Oo(S.h,ee);var Se=ee,ft=S.O;ft&&(Se.H=ft),Se.D&&(fi(Se),hi(Se)),S.g=ee}else xc(S);v.i.length>0&&Ei(v)}else He[0]!="stop"&&He[0]!="close"||Ti(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ti(v,7):Bo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ai(4)}catch{}}var vt=class{constructor(u,p){this.g=u,this.map=p}};function Co(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Do(u,p){u.g?u.g.add(p):u.h=p}function Oo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return z(u.i)}var bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,H=null;S>=0?(P=u[v].substring(0,S),H=u[v].substring(S+1)):P=u[v],p(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof gn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,ko(this,Rc(u.i)),this.m=u.m):u&&(p=String(u).match(bc))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),ds(this,p[4]),this.h=gi(p[5]||"",!0),ko(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}gn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Er(p,da,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Er(p,da,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Vo:Sc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,Ac)),u.join("")},gn.prototype.resolve=function(u){const p=Et(this);let v=!!u.j;v?Lt(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var S=u.h;if(v)ds(p,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=p.h.lastIndexOf("/");P!=-1&&(S=p.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ee=0;ee<P.length;){const Se=P[ee++];Se=="."?S&&ee==P.length&&H.push(""):Se==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&ee==P.length&&H.push("")):(H.push(Se),S=!0)}S=H.join("/")}else S=P}return v?p.h=S:v=u.i.toString()!=="",v?ko(p,Rc(u.i)):v=!!u.m,v&&(p.m=u.m),p};function Et(u){return new gn(u)}function Lt(u,p,v){u.j=v?gi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function ko(u,p,v){p instanceof ps?(u.i=p,pa(u.i,u.l)):(v||(p=Er(p,ms)),u.i=new ps(p,u.l))}function Ke(u,p,v){u.i.set(p,v)}function vr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,Sc=/[#\?:]/g,Vo=/[#\?]/g,ms=/[#\?@]/g,Ac=/#/g;function ps(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(u,p){an(this),this.i=null,u=gs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function wc(u,p){an(u),p=gs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Lo(u,p){return an(u),p=gs(u,p),u.g.has(p)}s.forEach=function(u,p){an(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(p,P,S,this)},this)},this)};function Po(u,p){an(u);let v=[];if(typeof p=="string")Lo(u,p)&&(v=v.concat(u.g.get(gs(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return an(this),this.i=null,u=gs(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Po(this,u),u.length>0?String(u[0]):p):p};function ma(u,p,v){wc(u,p),v.length>0&&(u.i=null,u.g.set(gs(u,p),z(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const P=Pi(v);v=Po(this,v);for(let H=0;H<v.length;H++){let ee=P;v[H]!==""&&(ee+="="+Pi(v[H])),u.push(ee)}}return this.i=u.join("&")};function Rc(u){const p=new ps;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function gs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function pa(u,p){p&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(wc(this,S),ma(this,P,v))},u)),u.j=p}function Yn(u,p){const v=new Fn;if(f.Image){const S=new Image;S.onload=b(Cn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=b(Cn,v,"TestLoadImage: error",!1,p,S),S.onabort=b(Cn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=b(Cn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Uo(u,p){const v=new Fn,S=new AbortController,P=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(P),H.ok?Cn(v,"TestPingServer: ok",!0,p):Cn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Cn(v,"TestPingServer: error",!1,p)})}function Cn(u,p,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function ys(){this.g=new dc}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(yi,mc),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,p){gt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Tr,gt),s=Tr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?_s(this):Qn(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},s.Na=function(u){this.g&&(this.response=u,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let p="";return je(u,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function br(u,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Nn(v),typeof u=="string"?v!=null&&Pi(v):Ke(u,p,v))}function Xe(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,gt);var _i=/^https?$/i,jo=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){Sr(this,H);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(jo,p,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of v)this.g.setRequestHeader(H,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Sr(this,H)}};function Sr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,zo(u),Ui(u)}function zo(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=H===0){let ee=String(u.D).match(bc)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),S=!_i.test(ee?ee.toLowerCase():"")}v=S}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var P=Xn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",zo(u)}}finally{Ui(u)}}}}function Ui(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Jh(p)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const p={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=vc(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[P]||[];p[P]=H,H.push(v)}Ge(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function vs(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,S){yt(0),this.W=u,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mc(this,null,this.W),Ei(this)};function Bo(u){if(ya(u),u.I==3){var p=u.V++,v=Et(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),wr(u,v),p=new Gn(u,u.j,p),p.M=2,p.A=vr(Et(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=kc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}Oc(u)}function Es(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ya(u){Es(u),u.v&&(f.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ei(u){if(!No(u.h)&&!u.m){u.m=!0;var p=u.Ea;Ve||w(),ue||(Ve(),ue=!0),R.add(p,u),u.D=0}}function _a(u,p){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,p),Dc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Gn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=k(H),ne(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ic(this,P,p),v=Et(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),wr(this,v),H&&(this.R?p="headers="+Pi(Nn(H))+"&"+p:this.u&&br(v,this.u,H)),Do(this.h,P),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),P.U=!0,ui(P,v,null)):ui(P,v,p),this.I=2}}else this.I==3&&(u?Ho(this,u):this.i.length==0||No(this.h)||Ho(this))};function Ho(u,p){var v;p?v=p.l:v=u.V++;const S=Et(u.J);Ke(S,"SID",u.M),Ke(S,"RID",v),Ke(S,"AID",u.K),wr(u,S),u.u&&u.o&&br(S,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Ic(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),ui(v,S,p)}function wr(u,p){u.H&&je(u.H,function(v,S){Ke(p,S,v)}),u.l&&je({},function(v,S){Ke(p,S,v)})}function Ic(u,p,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Se=-1;for(;;){const ft=["count="+v];Se==-1?v>0?(Se=P[0].g,ft.push("ofs="+Se)):Se=0:ft.push("ofs="+Se);let He=!0;for(let rt=0;rt<v;rt++){var H=P[rt].g;const Dn=P[rt].map;if(H-=Se,H<0)Se=Math.max(0,P[rt].g-100),He=!1;else try{H="req"+H+"_"||"";try{var ee=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,$n]of ee){let Jn=$n;m($n)&&(Jn=fs($n)),ft.push(H+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw ft.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{S&&S(Dn)}}if(He){ee=ft.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),p.G=u,ee}function xc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Ve||w(),ue||(Ve(),ue=!0),R.add(p,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Dc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Es(this),Cc(this))};function qo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Cc(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Et(u.na);Ke(p,"RID","rpc"),Ke(p,"SID",u.M),Ke(p,"AID",u.K),Ke(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(p,"TO",u.ia),Ke(p,"TYPE","xmlhttp"),wr(u,p),u.u&&u.o&&br(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Et(p)),v.u=null,v.R=!0,ua(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Rr(this),yt(19))};function va(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Nc(u,p){var v=null;if(u.g==p){va(u),qo(u),u.g=null;var S=2}else if(pi(u.h,p))v=p.G,Oo(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=u.D;S=ca(),Ct(S,new oi(S,v)),Ei(u)}else xc(u);else if(P=p.m,P==3||P==0&&p.X>0||!(S==1&&_a(u,p)||S==2&&Rr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),P){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Dc(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function Ti(u,p){if(u.j.info("Error code "+p),p==2){var v=y(u.bb,u),S=u.Ua;const P=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),vr(S),P?Yn(S.toString(),v):Uo(S.toString(),v)}else yt(2);u.I=0,u.l&&u.l.pa(p),Oc(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Oc(u){if(u.I=0,u.ja=[],u.l){const p=Mo(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ja,p),F(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function Mc(u,p,v){var S=v instanceof gn?Et(v):new gn(v);if(S.g!="")p&&(S.g=p+"."+S.g),ds(S,S.u);else{var P=f.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const H=new gn(null);S&&Lt(H,S),p&&(H.g=p),P&&ds(H,P),v&&(H.h=v),S=H}return v=u.G,p=u.wa,v&&p&&Ke(S,v,p),Ke(S,"VER",u.ka),wr(u,S),S}function kc(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Xe(new yi({ab:v})):new Xe(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}s=Vc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){gt.call(this),this.g=new vs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!C(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new zi(this)}A(tn,gt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bo(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fs(u),u=v);p.i.push(new vt(p.Ya++,u)),p.I==3&&Ei(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,tn.Z.N.call(this)};function Lc(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}A(Lc,jt);function Pc(){In.call(this),this.status=1}A(Pc,In);function zi(u){this.g=u}A(zi,Vc),zi.prototype.ra=function(){Ct(this.g,"a")},zi.prototype.qa=function(u){Ct(this.g,new Lc(u))},zi.prototype.pa=function(u){Ct(this.g,new Pc)},zi.prototype.oa=function(){Ct(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,HT=function(){return new Ts},BT=function(){return ca()},zT=ht,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Ju=yr,Io.COMPLETE="complete",jT=Io,pc.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Dl=pc,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,UT=Xe}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",a0="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let _o="12.3.0";const Wr=new Ih("@firebase/firestore");function Wa(){return Wr.logLevel}function ie(s,...e){if(Wr.logLevel<=Oe.DEBUG){const n=e.map(up);Wr.debug(`Firestore (${_o}): ${s}`,...n)}}function cs(s,...e){if(Wr.logLevel<=Oe.ERROR){const n=e.map(up);Wr.error(`Firestore (${_o}): ${s}`,...n)}}function oo(s,...e){if(Wr.logLevel<=Oe.WARN){const n=e.map(up);Wr.warn(`Firestore (${_o}): ${s}`,...n)}}function up(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ye(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qT(s,r,n)}function qT(s,e,n){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Fe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||qT(e,o,r)}function Te(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class FT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class NC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new FT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class OC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=VC(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Me(s,e){return s<e?-1:s>e?1:0}function Cm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return hm(o)===hm(c)?Me(o,c):hm(o)?1:-1}return Me(s.length,e.length)}const LC=55296,PC=57343;function hm(s){const e=s.charCodeAt(0);return e>=LC&&e<=PC}function lo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const l0="__name__";class Ii{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Ii.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const r=Ii.isNumericId(e),o=Ii.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class ot extends Ii{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ii{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return UC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Kt([l0])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new he(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(ot.fromString(e))}static fromName(e){return new me(ot.fromString(e).popFirst(5))}static empty(){return new me(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ot(e.slice()))}}function jC(s,e,n){if(!n)throw new he(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function zC(s,e,n,r){if(e===!0&&r===!0)throw new he(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function c0(s){if(!me.isDocumentKey(s))throw new he(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function GT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function Zr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(s);throw new he(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Rt(s,e){const n={typeString:s};return e&&(n.value=e),n}function rc(s,e){if(!GT(s))throw new he(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new he(W.INVALID_ARGUMENT,n);return!0}const u0=-62135596800,h0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h0);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Rt("string",nt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new nt(0,0))}static max(){return new ve(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function BC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new tr(o,me.empty(),e)}function HC(s){return new tr(s.readTime,s.key,Kl)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(ve.min(),me.empty(),Kl)}static max(){return new tr(ve.max(),me.empty(),Kl)}}function qC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Me(s.largestBatchId,e.largestBatchId))}const FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==FC)throw s;ie("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((o=>o?$.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++m,m===c&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new $(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function KC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const dp=-1;function kh(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function YC(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const KT="";function QC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=f0(e)),e=XC(s.get(n),e);return f0(e)}function XC(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case KT:n+="";break;default:n+=c}}return n}function f0(s){return s+KT+""}function d0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ur(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function YT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class lt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Gt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new QT("Invalid base64 string: "+c):c}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=$C.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(s.seconds),nanos:pt(s.nanos)}}function pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}const XT="server_timestamp",$T="__type__",JT="__previous_value__",WT="__local_write_time__";function mp(s){return(s?.mapValue?.fields||{})[$T]?.stringValue===XT}function Vh(s){const e=s.mapValue.fields[JT];return mp(e)?Vh(e):e}function Yl(s){const e=nr(s.mapValue.fields[WT].timestampValue);return new nt(e.seconds,e.nanos)}class JC{constructor(e,n,r,o,c,f,m,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const ph="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const ZT="__type__",WC="__max__",Fu={mapValue:{}},eb="__vector__",gh="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?mp(s)?4:e2(s)?9007199254740991:ZC(s)?10:11:ye(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=sr(s);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=nr(o.timestampValue),m=nr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return ir(o.bytesValue).isEqual(ir(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return pt(o.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pt(o.integerValue)===pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=pt(o.doubleValue),m=pt(c.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(d0(f)!==d0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Vi(f[g],m[g])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function co(s,e){if(s===e)return 0;const n=sr(s),r=sr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=pt(c.integerValue||c.doubleValue),g=pt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return p0(s.timestampValue,e.timestampValue);case 4:return p0(Yl(s),Yl(e));case 5:return Cm(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=ir(c),g=ir(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Me(m[y],g[y]);if(b!==0)return b}return Me(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Me(pt(c.latitude),pt(f.latitude));return m!==0?m:Me(pt(c.longitude),pt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return g0(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,b=g[gh]?.arrayValue,A=Me(y?.values?.length||0,b?.values?.length||0);return A!==0?A:g0(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Fu.mapValue&&f===Fu.mapValue)return 0;if(c===Fu.mapValue)return 1;if(f===Fu.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const x=Cm(g[A],b[A]);if(x!==0)return x;const z=co(m[g[A]],y[b[A]]);if(z!==0)return z}return Me(g.length,b.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function p0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Me(s,e);const n=nr(s),r=nr(e),o=Me(n.seconds,r.seconds);return o!==0?o:Me(n.nanos,r.nanos)}function g0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=co(n[o],r[o]);if(c)return c}return Me(n.length,r.length)}function uo(s){return Nm(s)}function Nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Nm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function Wu(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(s);return e?16+Wu(e):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Wu(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ur(r.fields,((c,f)=>{o+=c.length+Wu(f)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function Dm(s){return!!s&&"integerValue"in s}function pp(s){return!!s&&"arrayValue"in s}function y0(s){return!!s&&"nullValue"in s}function _0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zu(s){return!!s&&"mapValue"in s}function ZC(s){return(s?.mapValue?.fields||{})[ZT]?.stringValue===eb}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ur(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return e}return{...s}}function e2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Pl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ur(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new dn(Pl(this.value))}}function tb(s){const e=[];return ur(s.fields,((n,r)=>{const o=new Kt([n]);if(Zu(r)){const c=tb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Jt{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,ve.min(),ve.min(),ve.min(),dn.empty(),0)}static newFoundDocument(e,n,r,o){return new Jt(e,1,n,ve.min(),r,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,ve.min(),ve.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ve.min(),ve.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function v0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=me.comparator(me.fromName(f.referenceValue),n.key):r=co(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function t2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class nb{}class Dt extends nb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i2(e,n,r):n==="array-contains"?new a2(e,r):n==="in"?new o2(e,r):n==="not-in"?new l2(e,r):n==="array-contains-any"?new c2(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s2(e,r):new r2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends nb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return ib(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ib(s){return s.op==="and"}function sb(s){return n2(s)&&ib(s)}function n2(s){for(const e of s.filters)if(e instanceof Li)return!1;return!0}function Om(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(sb(s))return s.filters.map((e=>Om(e))).join(",");{const e=s.filters.map((n=>Om(n))).join(",");return`${s.op}(${e})`}}function rb(s,e){return s instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(s,e):s instanceof Li?(function(r,o){return o instanceof Li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&rb(f,o.filters[m])),!0):!1})(s,e):void ye(19439)}function ab(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(s):s instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(ab).join(" ,")+"}"})(s):"Filter"}class i2 extends Dt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class s2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=ob("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class r2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=ob("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ob(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class a2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pp(n)&&Xl(n.arrayValue,this.value)}}class o2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class l2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class c2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}class u2{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function T0(s,e=null,n=[],r=[],o=null,c=null,f=null){return new u2(s,e,n,r,o,c,f)}function gp(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Om(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uo(r))).join(",")),e.Te=n}return e.Te}function yp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!t2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!rb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!E0(s.startAt,e.startAt)&&E0(s.endAt,e.endAt)}function Mm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Lh{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h2(s,e,n,r,o,c,f,m){return new Lh(s,e,n,r,o,c,f,m)}function _p(s){return new Lh(s)}function b0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f2(s){return s.collectionGroup!==null}function Ul(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _h(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new _h(Kt.keyField(),r))}return e.Ie}function Ci(s){const e=Te(s);return e.Ee||(e.Ee=d2(e,Ul(s))),e.Ee}function d2(s,e){if(s.limitType==="F")return T0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new _h(o.field,c)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return T0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function km(s,e,n){return new Lh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ph(s,e){return yp(Ci(s),Ci(e))&&s.limitType===e.limitType}function lb(s){return`${gp(Ci(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ab(o))).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${r})`})(Ci(s))}; limitType=${s.limitType})`}function Uh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ul(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Ul(r),o)||r.endAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Ul(r),o))})(s,e)}function m2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cb(s){return(e,n)=>{let r=!1;for(const o of Ul(s)){const c=p2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function p2(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?co(g,y):ye(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const g2=new lt(me.comparator);function us(){return g2}const ub=new lt(me.comparator);function Ol(...s){let e=ub;for(const n of s)e=e.insert(n.key,n);return e}function hb(s){let e=ub;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Kr(){return jl()}function fb(){return jl()}function jl(){return new sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const y2=new lt(me.comparator),_2=new Mt(me.comparator);function ke(...s){let e=_2;for(const n of s)e=e.add(n);return e}const v2=new Mt(Me);function E2(){return v2}function vp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function db(s){return{integerValue:""+s}}function T2(s,e){return YC(e)?db(e):vp(s,e)}class jh{constructor(){this._=void 0}}function b2(s,e,n){return s instanceof vh?(function(o,c){const f={fields:{[$T]:{stringValue:XT},[WT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&mp(c)&&(c=Vh(c)),c&&(f.fields[JT]=c),{mapValue:f}})(n,e):s instanceof ho?pb(s,e):s instanceof $l?gb(s,e):(function(o,c){const f=mb(o,c),m=S0(f)+S0(o.Ae);return Dm(f)&&Dm(o.Ae)?db(m):vp(o.serializer,m)})(s,e)}function S2(s,e,n){return s instanceof ho?pb(s,e):s instanceof $l?gb(s,e):n}function mb(s,e){return s instanceof Eh?(function(r){return Dm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class vh extends jh{}class ho extends jh{constructor(e){super(),this.elements=e}}function pb(s,e){const n=yb(e);for(const r of s.elements)n.some((o=>Vi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends jh{constructor(e){super(),this.elements=e}}function gb(s,e){let n=yb(e);for(const r of s.elements)n=n.filter((o=>!Vi(o,r)));return{arrayValue:{values:n}}}class Eh extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S0(s){return pt(s.integerValue||s.doubleValue)}function yb(s){return pp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class A2{constructor(e,n){this.field=e,this.transform=n}}function w2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ho&&o instanceof ho||r instanceof $l&&o instanceof $l?lo(r.elements,o.elements,Vi):r instanceof Eh&&o instanceof Eh?Vi(r.Ae,o.Ae):r instanceof vh&&o instanceof vh})(s.transform,e.transform)}class R2{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class zh{}function _b(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Eb(s.key,Ni.none()):new ac(s.key,s.data,Ni.none());{const n=s.data,r=dn.empty();let o=new Mt(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new hr(s.key,r,new wn(o.toArray()),Ni.none())}}function I2(s,e,n){s instanceof ac?(function(o,c,f){const m=o.value.clone(),g=w0(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof hr?(function(o,c,f){if(!eh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(vb(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function zl(s,e,n,r){return s instanceof ac?(function(c,f,m,g){if(!eh(c.precondition,f))return m;const y=c.value.clone(),b=R0(c.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof hr?(function(c,f,m,g){if(!eh(c.precondition,f))return m;const y=R0(c.fieldTransforms,g,f),b=f.data;return b.setAll(vb(c)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(c,f,m){return eh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function x2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=mb(r.transform,o||null);c!=null&&(n===null&&(n=dn.empty()),n.set(r.field,c))}return n||null}function A0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&lo(r,o,((c,f)=>w2(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ac extends zh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends zh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function w0(s,e,n){const r=new Map;Fe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,S2(f,m,n[o]))}return r}function R0(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,b2(c,f,e))}return r}class Eb extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C2 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&I2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fb();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=_b(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,r)=>A0(n,r)))&&lo(this.baseMutations,e.baseMutations,((n,r)=>A0(n,r)))}}class Ep{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return y2})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Ep(e,n,r,o)}}class D2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class O2{constructor(e,n){this.count=e,this.unchangedNames=n}}var wt,Ue;function M2(s){switch(s){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function Tb(s){if(s===void 0)return cs("GRPC error has no .code"),W.UNKNOWN;switch(s){case wt.OK:return W.OK;case wt.CANCELLED:return W.CANCELLED;case wt.UNKNOWN:return W.UNKNOWN;case wt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case wt.INTERNAL:return W.INTERNAL;case wt.UNAVAILABLE:return W.UNAVAILABLE;case wt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case wt.NOT_FOUND:return W.NOT_FOUND;case wt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case wt.ABORTED:return W.ABORTED;case wt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case wt.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:s})}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function k2(){return new TextEncoder}const V2=new Ws([4294967295,4294967295],0);function I0(s){const e=k2().encode(s),n=new PT;return n.update(e),new Uint8Array(n.digest())}function x0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([o,c],0)]}class Tp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Ws.fromNumber(r)));return o.compare(V2)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=I0(e),[r,o]=x0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Tp(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=I0(e),[r,o]=x0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bh(ve.min(),o,new lt(Me),us(),ke())}}class oc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oc(r,n,ke(),ke(),ke())}}class th{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class bb{constructor(e,n){this.targetId=e,this.Ce=n}}class Sb{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class C0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ye(38017,{changeType:c})}})),new oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L2{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Gu(),this.He=Gu(),this.Ye=new lt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Mm(c))if(r===0){const f=new me(c.path);this.et(n,f,Jt.newNoDocument(f,ve.min()))}else Fe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=ir(r).toUint8Array()}catch(g){if(g instanceof QT)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,c)}catch(g){return oo(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Mm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let r=ke();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Bh(e,n,this.Ye,this.je,r);return this.je=us(),this.Je=Gu(),this.He=Gu(),this.Ye=new lt(Me),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gu(){return new lt(me.comparator)}function N0(){return new lt(me.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class z2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(s,e){return s.useProto3Json||kh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ab(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function B2(s,e){return Th(s,e.toTimestamp())}function Di(s){return Fe(!!s,49232),ve.fromTimestamp((function(n){const r=nr(n);return new nt(r.seconds,r.nanos)})(s))}function bp(s,e){return Lm(s,e).canonicalString()}function Lm(s,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function wb(s){const e=ot.fromString(s);return Fe(Nb(e),10190,{key:e.toString()}),e}function Pm(s,e){return bp(s.databaseId,e.path)}function fm(s,e){const n=wb(e);if(n.get(1)!==s.databaseId.projectId)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(Ib(n))}function Rb(s,e){return bp(s.databaseId,e)}function H2(s){const e=wb(s);return e.length===4?ot.emptyPath():Ib(e)}function Um(s){return new ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ib(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function D0(s,e,n){return{name:Pm(s,e),fields:n.value.mapValue.fields}}function q2(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Fe(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?W.UNKNOWN:Tb(y.code);return new he(b,y.message||"")})(f);n=new Sb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=fm(s,r.document.name),c=Di(r.document.updateTime),f=r.document.createTime?Di(r.document.createTime):ve.min(),m=new dn({mapValue:{fields:r.document.fields}}),g=Jt.newFoundDocument(o,c,f,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new th(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=fm(s,r.document),c=r.readTime?Di(r.readTime):ve.min(),f=Jt.newNoDocument(o,c),m=r.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=fm(s,r.document),c=r.removedTargetIds||[];n=new th([],c,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new O2(o,c),m=r.targetId;n=new bb(m,f)}}return n}function F2(s,e){let n;if(e instanceof ac)n={update:D0(s,e.key,e.value)};else if(e instanceof Eb)n={delete:Pm(s,e.key)};else if(e instanceof hr)n={update:D0(s,e.key,e.data),updateMask:Z2(e.fieldMask)};else{if(!(e instanceof C2))return ye(16599,{Vt:e.type});n={verify:Pm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ho)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:B2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),n}function G2(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Di(o.updateTime):Di(c);return f.isEqual(ve.min())&&(f=Di(c)),new R2(f,o.transformResults||[])})(n,e)))):[]}function K2(s,e){return{documents:[Rb(s,e.path)]}}function Y2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rb(s,o);const c=(function(y){if(y.length!==0)return Cb(Li.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((b=>(function(x){return{field:eo(x.field),direction:$2(x.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Q2(s){let e=H2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(A){const x=xb(A);return x instanceof Li&&sb(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((x=>(function(F){return new _h(to(F.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let x;return x=typeof A=="object"?A.value:A,kh(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(A){const x=!!A.before,z=A.values||[];return new yh(z,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const x=!A.before,z=A.values||[];return new yh(z,x)})(n.endAt)),h2(e,o,f,c,m,"F",g,y)}function X2(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=to(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((r=>xb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(s):ye(30097,{filter:s})}function $2(s){return P2[s]}function J2(s){return U2[s]}function W2(s){return j2[s]}function eo(s){return{fieldPath:s.canonicalString()}}function to(s){return Kt.fromServerFormat(s.fieldPath)}function Cb(s){return s instanceof Dt?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:J2(n.op),value:n.value}}})(s):s instanceof Li?(function(n){const r=n.getFilters().map((o=>Cb(o)));return r.length===1?r[0]:{compositeFilter:{op:W2(n.op),filters:r}}})(s):ye(54877,{filter:s})}function Z2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Xs{constructor(e,n,r,o,c=ve.min(),f=ve.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eN{constructor(e){this.yt=e}}function tN(s){const e=Q2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?km(e,e.limit,"L"):e}class nN{constructor(){this.Cn=new iN}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(tr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class iN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Mt(ot.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mt(ot.comparator)).toArray()}}const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Db=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Db,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const M0="LruGarbageCollector",sN=1048576;function k0([s,e],[n,r]){const o=Me(s,n);return o===0?Me(e,r):o}class rN{constructor(e){this.Ir=e,this.buffer=new Mt(k0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();k0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(M0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ie(M0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class oN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Mh.ce);const r=new rN(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(O0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),Wa()<=Oe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function lN(s,e){return new oN(s,e)}class cN{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&zl(r.mutation,o,wn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ke()){const o=Kr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=Ol();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=us();const f=jl(),m=(function(){return jl()})();return n.forEach(((g,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof hr)?c=c.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),zl(b.mutation,y,b.mutation.getFieldMask(),nt.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new uN(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=jl();let o=new lt(((f,m)=>f-m)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=r.get(g)||wn.empty();b=m.applyToLocalView(y,b),r.set(g,b);const A=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=fb();b.forEach((x=>{if(!c.has(x)){const z=_b(n.get(x),r.get(x));z!==null&&A.set(x,z),c=c.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):$.resolve(Kr());let m=Kl,g=c;return f.next((y=>$.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{g=g.insert(b,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:hb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let o=Ol();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,c).next((m=>$.forEach(m,(g=>{const y=(function(A,x){return new Lh(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((b=>{b.forEach(((A,x)=>{f=f.insert(A,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Jt.newInvalidDocument(b)))}));let m=Ol();return f.forEach(((g,y)=>{const b=c.get(g);b!==void 0&&zl(b.mutation,y,wn.empty(),nt.now()),Uh(n,y)&&(m=m.insert(g,y))})),m}))}}class fN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:tN(o.bundledQuery),readTime:Di(o.readTime)}})(n)),$.resolve()}}class dN{constructor(){this.overlays=new lt(me.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return $.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const o=Kr(),c=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new lt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=Kr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Kr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return $.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new D2(n,r));let c=this.qr.get(n);c===void 0&&(c=ke(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class mN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class Sp{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new ot([])),r=new Ut(n,e),o=new Ut(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new ot([])),r=new Ut(n,e),o=new Ut(n,e+1);let c=ke();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new N2(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);c.push(m)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Me);return n.forEach((o=>{const c=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{r=r.add(m.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const f=new Ut(new me(c),0);let m=new Mt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),$.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(o=>{const c=new Ut(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gN{constructor(e){this.ri=e,this.docs=(function(){return new lt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=us();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||qC(HC(b),r)<=0||(o.has(b.key)||Uh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,r,o){ye(9500)}ii(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yN(this)}getSize(e){return $.resolve(this.size)}}class yN extends cN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class _N{constructor(e){this.persistence=e,this.si=new sa((n=>gp(n)),yp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Sp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class Ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=e(this),this.Pi=new _N(this),this.indexManager=new nN,this.remoteDocumentCache=(function(o){return new gN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eN(n),this.Ii=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new pN(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const o=new vN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class vN extends GC{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new Sp,this.Vi=null}static mi(e){return new Ap(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const o=me.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.pi=new sa((r=>QC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lN(this,n)}static mi(e,n){return new bh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?$.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(r++,c.removeEntry(f,ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wu(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=ke(),o=ke();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new wp(e,n.fromCache,r,o)}}class EN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Aw()?8:KC(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new EN;return this.Ss(e,n,f).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Wa()<=Oe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Wa()<=Oe.DEBUG&&ie("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Wa()<=Oe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):$.resolve())}ys(e,n){if(b0(n))return $.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ke(...c);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,km(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,o){return b0(n)||o.isEqual(ve.min())?$.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,r,o)?$.resolve(null):(Wa()<=Oe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,BC(o,Kl)).next((m=>m)))}))}Ds(e,n){let r=new Mt(cb(e));return n.forEach(((o,c)=>{Uh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return Wa()<=Oe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,tr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Rp="LocalStore",bN=3e8;class SN{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Me),this.xs=new sa((c=>gp(c)),yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AN(s,e,n,r){return new SN(s,e,n,r)}async function Mb(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of c){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function wN(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const A=y.batch,x=A.keys();let z=$.resolve();return x.forEach((F=>{z=z.next((()=>b.getEntry(g,F))).next((J=>{const Z=y.docVersions.get(F);Fe(Z!==null,48541),J.version.compareTo(Z)<0&&(A.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),b.addEntry(J)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function kb(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RN(s,e){const n=Te(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,A)=>{const x=o.get(A);if(!x)return;m.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(c,b.addedDocuments,A))));let z=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),o=o.insert(A,z),(function(J,Z,re){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=bN?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(x,z,b)&&m.push(n.Pi.updateTargetData(c,z))}));let g=us(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),m.push(IN(c,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!r.isEqual(ve.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next((A=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(b)}return $.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function IN(s,e,n){let r=ke(),o=ke();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=us();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ie(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function xN(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CN(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,$.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new Xs(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function jm(s,e,n){const r=Te(s),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ie(Rp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function V0(s,e,n){const r=Te(s);let o=ve.min(),c=ke();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const A=Te(g),x=A.xs.get(b);return x!==void 0?$.resolve(A.Ms.get(x)):A.Pi.getTargetData(y,b)})(r,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?c:ke()))).next((m=>(NN(r,m2(e),m),{documents:m,Qs:c})))))}function NN(s,e,n){let r=s.Os.get(e)||ve.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class L0{constructor(){this.activeTargetIds=E2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ON{Oo(e){}shutdown(){}}const P0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(P0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ku=null;function zm(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}const dm="RestConnection",MN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const f=zm(),m=this.zo(e,n.toUriEncodedString());ie(dm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),b=po(y);return this.Jo(e,m,g,r,b).then((A=>(ie(dm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw oo(dm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(e,n,r,o,c,f){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=MN[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class VN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class LN extends kN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const f=zm();return new Promise(((m,g)=>{const y=new UT;y.setWithCredentials(!0),y.listenOnce(jT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ju.NO_ERROR:const A=y.getResponseJson();ie(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Ju.TIMEOUT:ie(Xt,`RPC '${e}' ${f} timed out`),g(new he(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const x=y.getStatus();if(ie(Xt,`RPC '${e}' ${f} failed with status:`,x,"response text:",y.getResponseText()),x>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const J=(function(re){const le=re.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(le)>=0?le:W.UNKNOWN})(F.status);g(new he(J,F.message))}else g(new he(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ie(Xt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ie(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=zm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=HT(),m=BT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const b=c.join("");ie(Xt,`Creating RPC '${e}' stream ${o}: ${b}`,g);const A=f.createWebChannel(b,g);this.I_(A);let x=!1,z=!1;const F=new VN({Yo:Z=>{z?ie(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(x||(ie(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),ie(Xt,`RPC '${e}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),J=(Z,re,le)=>{Z.listen(re,(ae=>{try{le(ae)}catch(be){setTimeout((()=>{throw be}),0)}}))};return J(A,Dl.EventType.OPEN,(()=>{z||(ie(Xt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),J(A,Dl.EventType.CLOSE,(()=>{z||(z=!0,ie(Xt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(A))})),J(A,Dl.EventType.ERROR,(Z=>{z||(z=!0,oo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.a_(new he(W.UNAVAILABLE,"The operation could not be completed")))})),J(A,Dl.EventType.MESSAGE,(Z=>{if(!z){const re=Z.data[0];Fe(!!re,16349);const le=re,ae=le?.error||le[0]?.error;if(ae){ie(Xt,`RPC '${e}' stream ${o} received error:`,ae);const be=ae.status;let Ve=(function(w){const I=wt[w];if(I!==void 0)return Tb(I)})(be),ue=ae.message;Ve===void 0&&(Ve=W.INTERNAL,ue="Unknown error status: "+be+" with message "+ae.message),z=!0,F.a_(new he(Ve,ue)),A.close()}else ie(Xt,`RPC '${e}' stream ${o} received:`,re),F.u_(re)}})),J(m,zT.STAT_EVENT,(Z=>{Z.stat===xm.PROXY?ie(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===xm.NOPROXY&&ie(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function mm(){return typeof document<"u"?document:null}function Hh(s){return new z2(s,!0)}class Vb{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const j0="PersistentStream";class Lb{constructor(e,n,r,o,c,f,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new he(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ie(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PN extends Lb{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Di(f.readTime):ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=Mm(g)?{documents:K2(c,g)}:{query:Y2(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ab(c,f.resumeToken);const y=Vm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=Th(c,f.snapshotVersion.toTimestamp());const y=Vm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=X2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class UN extends Lb{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G2(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>F2(this.serializer,r)))};this.q_(n)}}class jN{}class zN extends jN{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Lm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(W.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class HN{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ra(this)&&(ie(ea,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await lc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Ra=new BN(r,o)}}async function qh(s){if(ra(s))for(const e of s.da)await e(!0)}async function lc(s){for(const e of s.da)await e(!1)}function Pb(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Np(n)?Cp(n):To(n).O_()&&xp(n,e))}function Ip(s,e){const n=Te(s),r=To(n);n.Ia.delete(e),r.O_()&&Ub(n,e),n.Ia.size===0&&(r.O_()?r.L_():ra(n)&&n.Ra.set("Unknown"))}function xp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(s).Y_(e)}function Ub(s,e){s.Va.Ue(e),To(s).Z_(e)}function Cp(s){s.Va=new L2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function Np(s){return ra(s)&&!To(s).x_()&&s.Ia.size>0}function ra(s){return Te(s).Ea.size===0}function jb(s){s.Va=void 0}async function qN(s){s.Ra.set("Online")}async function FN(s){s.Ia.forEach(((e,n)=>{xp(s,e)}))}async function GN(s,e){jb(s),Np(s)?(s.Ra.ha(e),Cp(s)):s.Ra.set("Unknown")}async function KN(s,e,n){if(s.Ra.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){ie(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof th?s.Va.Ze(e):e instanceof bb?s.Va.st(e):s.Va.tt(e),!n.isEqual(ve.min()))try{const r=await kb(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),Ub(c,g);const A=new Xs(b.target,g,y,b.sequenceNumber);xp(c,A)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ie(ea,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,n){if(!Eo(e))throw e;s.Ea.add(1),await lc(s),s.Ra.set("Offline"),n||(n=()=>kb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ie(ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await qh(s)}))}function zb(s,e){return e().catch((n=>Sh(s,n,e)))}async function Fh(s){const e=Te(s),n=rr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;YN(e);)try{const o=await xN(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,QN(e,o)}catch(o){await Sh(e,o)}Bb(e)&&Hb(e)}function YN(s){return ra(s)&&s.Ta.length<10}function QN(s,e){s.Ta.push(e);const n=rr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function Bb(s){return ra(s)&&!rr(s).x_()&&s.Ta.length>0}function Hb(s){rr(s).start()}async function XN(s){rr(s).ra()}async function $N(s){const e=rr(s);for(const n of s.Ta)e.ea(n.mutations)}async function JN(s,e,n){const r=s.Ta.shift(),o=Ep.from(r,e,n);await zb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Fh(s)}async function WN(s,e){e&&rr(s).X_&&await(async function(r,o){if((function(f){return M2(f)&&f!==W.ABORTED})(o.code)){const c=r.Ta.shift();rr(r).B_(),await zb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Fh(r)}})(s,e),Bb(s)&&Hb(s)}async function z0(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),ie(ea,"RemoteStore received new credentials");const r=ra(n);n.Ea.add(3),await lc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function ZN(s,e){const n=Te(s);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await lc(n),n.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(n,r,o){const c=Te(n);return c.sa(),new PN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:qN.bind(null,s),t_:FN.bind(null,s),r_:GN.bind(null,s),H_:KN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Np(s)?Cp(s):s.Ra.set("Unknown")):(await s.ma.stop(),jb(s))}))),s.ma}function rr(s){return s.fa||(s.fa=(function(n,r,o){const c=Te(n);return c.sa(),new UN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XN.bind(null,s),r_:WN.bind(null,s),ta:$N.bind(null,s),na:JN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Fh(s)):(await s.fa.stop(),s.Ta.length>0&&(ie(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Dp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Dp(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(s,e){if(cs("AsyncQueue",`${e}: ${s}`),Eo(s))return new he(W.UNAVAILABLE,`${e}: ${s}`);throw s}class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class B0{constructor(){this.ga=new lt(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new mo(e,n,ao.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class eD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tD{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Te(n),c=o.queries;o.queries=H0(),c.forEach(((f,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new he(W.ABORTED,"Firestore shutting down"))}}function H0(){return new sa((s=>lb(s)),Ph)}async function nD(s,e){const n=Te(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new eD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Mp(n)}async function iD(s,e){const n=Te(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sD(s,e){const n=Te(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Mp(n)}function rD(s,e,n){const r=Te(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function Mp(s){s.Ca.forEach((e=>{e.next()}))}var Bm,q0;(q0=Bm||(Bm={})).Ma="default",q0.Cache="cache";class aD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class qb{constructor(e){this.key=e}}class Fb{constructor(e){this.key=e}}class oD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=cb(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new B0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const x=o.get(b),z=Uh(this.query,A)?A:null,F=!!x&&this.mutatedKeys.has(x.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;x&&z?x.data.isEqual(z.data)?F!==J&&(r.track({type:3,doc:z}),Z=!0):this.su(x,z)||(r.track({type:2,doc:z}),Z=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(m=!0)):!x&&z?(r.track({type:0,doc:z}),Z=!0):x&&!z&&(r.track({type:1,doc:x}),Z=!0,(g||y)&&(m=!0)),Z&&(z?(f=f.add(z),c=J?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(z,F){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:Z})}};return J(z)-J(F)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new mo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Fb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new qb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class lD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cD{constructor(e){this.key=e,this.hu=!1}}class uD{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>lb(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new lt(me.comparator),this.Au=new Map,this.Ru=new Sp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hD(s,e,n=!0){const r=$b(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Gb(r,e,n,!0),o}async function fD(s,e){const n=$b(s);await Gb(n,e,!0,!1)}async function Gb(s,e,n,r){const o=await CN(s.localStore,Ci(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await dD(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&Pb(s.remoteStore,o),m}async function dD(s,e,n,r,o){s.pu=(A,x,z)=>(async function(J,Z,re,le){let ae=Z.view.ru(re);ae.Cs&&(ae=await V0(J.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,ae))));const be=le&&le.targetChanges.get(Z.targetId),Ve=le&&le.targetMismatches.get(Z.targetId)!=null,ue=Z.view.applyChanges(ae,J.isPrimaryClient,be,Ve);return G0(J,Z.targetId,ue.au),ue.snapshot})(s,A,x,z);const c=await V0(s.localStore,e,!0),f=new oD(e,c.Qs),m=f.ru(c.documents),g=oc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);G0(s,n,y.au);const b=new lD(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function mD(s,e,n){const r=Te(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Ph(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ip(r.remoteStore,o.targetId),Hm(r,o.targetId)})).catch(vo)):(Hm(r,o.targetId),await jm(r.localStore,o.targetId,!0))}async function pD(s,e){const n=Te(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ip(n.remoteStore,r.targetId))}async function gD(s,e,n){const r=SD(s);try{const o=await(function(f,m){const g=Te(f),y=nt.now(),b=m.reduce(((z,F)=>z.add(F.key)),ke());let A,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=us(),J=ke();return g.Ns.getEntries(z,b).next((Z=>{F=Z,F.forEach(((re,le)=>{le.isValidDocument()||(J=J.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,F))).next((Z=>{A=Z;const re=[];for(const le of m){const ae=x2(le,A.get(le.key).overlayedDocument);ae!=null&&re.push(new hr(le.key,ae,tb(ae.value.mapValue),Ni.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,re,m)})).next((Z=>{x=Z;const re=Z.applyToLocalDocumentSet(A,J);return g.documentOverlayCache.saveOverlays(z,Z.batchId,re)}))})).then((()=>({batchId:x.batchId,changes:hb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new lt(Me)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await cc(r,o.changes),await Fh(r.remoteStore)}catch(o){const c=Op(o,"Failed to persist write");n.reject(c)}}async function Kb(s,e){const n=Te(s);try{const r=await RN(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await cc(n,r,e)}catch(r){await vo(r)}}function F0(s,e,n){const r=Te(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,A)=>{for(const x of A.Sa)x.va(m)&&(y=!0)})),y&&Mp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yD(s,e,n){const r=Te(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new lt(me.comparator);f=f.insert(c,Jt.newNoDocument(c,ve.min()));const m=ke().add(c),g=new Bh(ve.min(),new Map,new lt(Me),f,m);await Kb(r,g),r.du=r.du.remove(c),r.Au.delete(e),Vp(r)}else await jm(r.localStore,e,!1).then((()=>Hm(r,e,n))).catch(vo)}async function _D(s,e){const n=Te(s),r=e.batch.batchId;try{const o=await wN(n.localStore,e);Qb(n,r,null),Yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cc(n,o)}catch(o){await vo(o)}}async function vD(s,e,n){const r=Te(s);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Fe(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);Qb(r,e,n),Yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cc(r,o)}catch(o){await vo(o)}}function Yb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Qb(s,e,n){const r=Te(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Hm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Xb(s,r)}))}function Xb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Ip(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Vp(s))}function G0(s,e,n){for(const r of n)r instanceof qb?(s.Ru.addReference(r.key,e),ED(s,r)):r instanceof Fb?(ie(kp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Xb(s,r.key)):ye(19791,{wu:r})}function ED(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ie(kp,"New document in limbo: "+n),s.Eu.add(r),Vp(s))}function Vp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(ot.fromString(e)),r=s.fu.next();s.Au.set(r,new cD(n)),s.du=s.du.insert(n,r),Pb(s.remoteStore,new Xs(Ci(_p(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function cc(s,e,n){const r=Te(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=wp.As(g.targetId,y);c.push(b)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,y){const b=Te(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(x=>$.forEach(x.Es,(z=>b.persistence.referenceDelegate.addReference(A,x.targetId,z))).next((()=>$.forEach(x.ds,(z=>b.persistence.referenceDelegate.removeReference(A,x.targetId,z)))))))))}catch(A){if(!Eo(A))throw A;ie(Rp,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const z=b.Ms.get(x),F=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(F);b.Ms=b.Ms.insert(x,J)}}})(r.localStore,c))}async function TD(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){ie(kp,"User change. New user:",e.toKey());const r=await Mb(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(W.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cc(n,r.Ls)}}function bD(s,e){const n=Te(s),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let o=ke();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function $b(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yD.bind(null,e),e.Pu.H_=sD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function SD(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AN(this.persistence,new TN,e.initialUser,this.serializer)}Cu(e){return new Ob(Ap.mi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class AD extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Ob((r=>bh.mi(r,n)),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TD.bind(null,this.syncEngine),await ZN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tD})()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=(function(c){return new LN(c)})(e.databaseInfo);return(function(c,f,m,g){return new zN(c,f,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new HN(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>F0(this.syncEngine,n,0)),(function(){return U0.v()?new U0:new ON})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,b){const A=new uD(o,c,f,m,g,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Te(n);ie(ea,"RemoteStore shutting down."),r.Ea.add(5),await lc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class wD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ar="FirestoreClient";class RD{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ie(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ie(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Op(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(s,e){s.asyncQueue.verifyOperationInProgress(),ie(ar,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Mb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function K0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await ID(s);ie(ar,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>z0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>z0(e.remoteStore,o))),s._onlineComponents=e}async function ID(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie(ar,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await pm(s,new Ah)}}else ie(ar,"Using default OfflineComponentProvider"),await pm(s,new AD(void 0));return s._offlineComponents}async function Jb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie(ar,"Using user provided OnlineComponentProvider"),await K0(s,s._uninitializedComponentsProvider._online)):(ie(ar,"Using default OnlineComponentProvider"),await K0(s,new qm))),s._onlineComponents}function xD(s){return Jb(s).then((e=>e.syncEngine))}async function CD(s){const e=await Jb(s),n=e.eventManager;return n.onListen=hD.bind(null,e.syncEngine),n.onUnlisten=mD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pD.bind(null,e.syncEngine),n}function ND(s,e,n={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const b=new wD({next:x=>{b.Nu(),f.enqueueAndForget((()=>iD(c,A)));const z=x.docs.has(m);!z&&x.fromCache?y.reject(new he(W.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&x.fromCache&&g&&g.source==="server"?y.reject(new he(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new aD(_p(m.path),b,{includeMetadataChanges:!0,qa:!0});return nD(c,A)})(await CD(s),s.asyncQueue,e,n,r))),r.promise}function Wb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Y0=new Map;const Zb="firestore.googleapis.com",Q0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Db;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sN)throw new he(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lp{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CC;switch(r.type){case"firstParty":return new MC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y0.get(n);r&&(ie("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())})(this),Promise.resolve()}}function DD(s,e,n,r={}){s=Zr(s,Lp);const o=po(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(RE(`https://${m}`),IE("Firestore",!0)),c.host!==Zb&&c.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!as(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=$t.MOCK_USER;else{y=gw(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new he(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $t(A)}s._authCredentials=new NC(new FT(y,b))}}class Pp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pp(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rc(n,Ot._jsonSchema))return new Ot(e,r||null,new me(ot.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Rt("string",Ot._jsonSchemaVersion),referencePath:Rt("string")};class Jl extends Pp{constructor(e,n,r){super(e,n,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function gm(s,e,...n){if(s=kt(s),arguments.length===1&&(e=hp.newId()),jC("doc","path",e),s instanceof Lp){const r=ot.fromString(e,...n);return c0(r),new Ot(s,null,new me(r))}{if(!(s instanceof Ot||s instanceof Jl))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ot.fromString(e,...n));return c0(r),new Ot(s.firestore,s instanceof Jl?s.converter:null,new me(r))}}const $0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vb(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ie($0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ie($0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",W0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Gh extends Lp{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function OD(s,e){const n=typeof s=="object"?s:Ym(),r=typeof s=="string"?s:ph,o=ia(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=mw("firestore");c&&DD(o,...c)}return o}function eS(s){if(s._terminated)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MD(s),s._firestoreClient}function MD(s){const e=s._freezeSettings(),n=(function(o,c,f,m){return new JC(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Wb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new he(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Rt("string",zn._jsonSchemaVersion),bytes:Rt("string")};class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(rc(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Rt("string",Oi._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new he(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Rt("string",Mi._jsonSchemaVersion),vectorValues:Rt("object")};const kD=/^__.*__$/;class VD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}class tS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:s})}}class Qh{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nS(this.Ac)&&kD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}Cc(e,n,r,o=!1){return new Qh({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iS(s){const e=s._freezeSettings(),n=Hh(s._databaseId);return new LD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function PD(s,e,n,r,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);jp("Data must be an object, but it was:",f,r);const m=sS(r,f);let g,y;if(c.merge)g=new wn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const x=Fm(e,A,n);if(!f.contains(x))throw new he(W.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);aS(b,x)||b.push(x)}g=new wn(b),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new VD(new dn(m),g,y)}class Xh extends Yh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function UD(s,e,n){return new Qh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Up extends Yh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=UD(this,e,!0),r=this.vc.map((c=>uc(c,n))),o=new ho(r);return new A2(e.path,o)}isEqual(e){return e instanceof Up&&as(this.vc,e.vc)}}function jD(s,e,n,r){const o=s.Cc(1,e,n);jp("Data must be an object, but it was:",o,r);const c=[],f=dn.empty();ur(r,((g,y)=>{const b=zp(e,g,n);y=kt(y);const A=o.yc(b);if(y instanceof Xh)c.push(b);else{const x=uc(y,A);x!=null&&(c.push(b),f.set(b,x))}}));const m=new wn(c);return new tS(f,m,o.fieldTransforms)}function zD(s,e,n,r,o,c){const f=s.Cc(1,e,n),m=[Fm(e,r,n)],g=[o];if(c.length%2!=0)throw new he(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(Fm(e,c[x])),g.push(c[x+1]);const y=[],b=dn.empty();for(let x=m.length-1;x>=0;--x)if(!aS(y,m[x])){const z=m[x];let F=g[x];F=kt(F);const J=f.yc(z);if(F instanceof Xh)y.push(z);else{const Z=uc(F,J);Z!=null&&(y.push(z),b.set(z,Z))}}const A=new wn(y);return new tS(b,A,f.fieldTransforms)}function uc(s,e){if(rS(s=kt(s)))return jp("Unsupported field value:",e,s),sS(s,e);if(s instanceof Yh)return(function(r,o){if(!nS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=uc(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=nt.fromDate(r);return{timestampValue:Th(o.serializer,c)}}if(r instanceof nt){const c=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(o.serializer,c)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Ab(o.serializer,r._byteString)};if(r instanceof Ot){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mi)return(function(f,m){return{mapValue:{fields:{[ZT]:{stringValue:eb},[gh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return vp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fp(r)}`)})(s,e)}function sS(s,e){const n={};return YT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(s,((r,o)=>{const c=uc(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function rS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof nt||s instanceof Oi||s instanceof zn||s instanceof Ot||s instanceof Yh||s instanceof Mi)}function jp(s,e,n){if(!rS(n)||!GT(n)){const r=fp(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Fm(s,e,n){if((e=kt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return zp(s,e);throw wh("Field path arguments must be of type string or ",s,!1,void 0,n)}const BD=new RegExp("[~\\*/\\[\\]]");function zp(s,e,n){if(e.search(BD)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function wh(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new he(W.INVALID_ARGUMENT,m+s+g)}function aS(s,e){return s.some((n=>n.isEqual(e)))}class oS{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HD extends oS{data(){return super.data()}}function lS(s,e){return typeof e=="string"?zp(s,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}class qD{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ur(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((r=>pt(r.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=nr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Fe(Nb(r),9688,{name:e});const o=new Ql(r.get(1),r.get(3)),c=new me(r.popFirst(5));return o.isEqual(n)||cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function FD(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends oS{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Rt("string",Yr._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class nh extends Yr{data(e={}){return super.data(e)}}class Bl{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:GD(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}function KD(s){s=Zr(s,Ot);const e=Zr(s.firestore,Gh);return ND(eS(e),s._key).then((n=>XD(e,s,n)))}Bl._jsonSchemaVersion="firestore/querySnapshot/1.0",Bl._jsonSchema={type:Rt("string",Bl._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class YD extends qD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function QD(s,e,n){s=Zr(s,Ot);const r=Zr(s.firestore,Gh),o=FD(s.converter,e);return cS(r,[PD(iS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ni.none())])}function Z0(s,e,n,...r){s=Zr(s,Ot);const o=Zr(s.firestore,Gh),c=iS(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof Kh?zD(c,"updateDoc",s._key,e,n,r):jD(c,"updateDoc",s._key,e),cS(o,[f.toMutation(s._key,Ni.exists(!0))])}function cS(s,e){return(function(r,o){const c=new Zs;return r.asyncQueue.enqueueAndForget((async()=>gD(await xD(r),o,c))),c.promise})(eS(s),e)}function XD(s,e,n){const r=n.docs.get(e._key),o=new YD(s);return new Yr(s,o,e._key,r,new kl(n.hasPendingWrites,n.fromCache),e.converter)}function $D(...s){return new Up("arrayUnion",s)}(function(e,n=!0){(function(o){_o=o})(go),ki(new ii("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new Gh(new DC(r.getProvider("auth-internal")),new kC(f,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,b)})(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Bn(r0,a0,e),Bn(r0,a0,"esm2020")})();const JD={apiKey:"AIzaSyAOC7HKO557OZIY2sOKubjaazk1ZxpKxdo",authDomain:"workout-tracker-52fc7.firebaseapp.com",projectId:"workout-tracker-52fc7",storageBucket:"workout-tracker-52fc7.firebasestorage.app",messagingSenderId:"1032877044952",appId:"1:1032877044952:web:68598ac1b2618cc24213ad",measurementId:"G-T8H89EHWH0"},Bp=kE(JD);lI(Bp);const $a=IC(Bp),WD=new ns,ym=OD(Bp),xl=["The only bad workout is the one that didn't happen.","Suffer now and live the rest of your life as a champion. - Muhammad Ali","Light weight baby! - Ronnie Coleman","Your body can stand almost anything. Its your mind that you have to convince.","Success starts with self-discipline.","Pain is weakness leaving the body.","The body achieves what the mind believes.","Don't stop when you're tired. Stop when you're done.","The pain you feel today will be the strength you feel tomorrow.","Discipline is doing what needs to be done, even if you don't want to do it."],ZD=()=>{const[s,e]=we.useState(xl[0]);return we.useEffect(()=>{e(xl[Math.floor(Math.random()*xl.length)]);const n=setInterval(()=>{e(xl[Math.floor(Math.random()*xl.length)])},3e3);return()=>clearInterval(n)},[]),E.jsxs("div",{className:"loading-screen",children:[E.jsx("div",{className:"spinner"}),E.jsx("p",{className:"loading-text",children:"Summoning the Iron Titan..."}),E.jsxs("p",{className:"quote-text",children:['"',s,'"']}),E.jsx("style",{children:`
        .loading-screen {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: #0f1115;
          display: flex; flex-direction: column; align-items: center; justify-content: center;
          z-index: 9999;
          padding: 20px;
          text-align: center;
        }
        .spinner {
          width: 50px; height: 50px;
          border: 4px solid rgba(139, 92, 246, 0.3);
          border-top: 4px solid #8B5CF6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 24px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { 
          color: #9ca3af; 
          font-size: 1rem; 
          margin-bottom: 16px;
          animation: pulse 2s infinite; 
        }
        .quote-text {
          color: white;
          font-size: 1.1rem;
          font-style: italic;
          max-width: 80%;
          line-height: 1.5;
          font-weight: 500;
          animation: fadeIn 0.5s ease-in;
        }
        @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},uS=we.createContext(),eE={name:"Athlete",xp:0,level:1,streak:0,lastWorkoutDate:null,badges:[],boss:{hp:1e3,maxHp:1e3,level:1,name:"Iron Titan"}},eO=({children:s})=>{const[e,n]=we.useState(()=>localStorage.getItem("workout-tracker-theme")||"dark");we.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("workout-tracker-theme",e)},[e]);const r=()=>{n(ue=>ue==="dark"?"light":"dark")},[o,c]=we.useState(null),[f,m]=we.useState(!0),[g,y]=we.useState(null),[b,A]=we.useState(()=>localStorage.getItem("gemini_api_key")||""),[x,z]=we.useState([]);we.useEffect(()=>{const ue=px($a,async R=>{if(R){c(R);try{const w=gm(ym,"users",R.uid),I=await KD(w);if(I.exists())y(I.data());else{const M={user:{...eE,name:R.displayName||R.email?.split("@")[0]||"Athlete"},workouts:[]};await QD(w,M),y(M)}}catch(w){console.error("Error fetching user data:",w);const I=localStorage.getItem(`workout-tracker-data-${R.uid}`);if(I)y(JSON.parse(I));else{const M={user:{...eE,name:R.displayName||R.email?.split("@")[0]||"Athlete"},workouts:[]};y(M)}}}else c(null),y(null);m(!1)});return()=>ue()},[]);const F=async()=>{m(!0);try{if($a.app.options.apiKey==="YOUR_API_KEY")throw new Error("Firebase not configured. Please update src/firebase.js with your keys.");return await Lx($a,WD),{success:!0}}catch(ue){return console.error("Google Login Error:",ue),m(!1),{success:!1,error:ue.message}}},J=async(ue,R)=>{m(!0);try{return await fx($a,ue,R),{success:!0}}catch(w){return console.error("Login Error:",w),m(!1),{success:!1,error:w.message}}},Z=async(ue,R)=>{m(!0);try{return await hx($a,ue,R),{success:!0}}catch(w){return console.error("Signup Error:",w),m(!1),{success:!1,error:w.message}}},re=async()=>{try{await gx($a)}catch(ue){console.error("Logout Error:",ue)}},le=async ue=>{if(y(R=>({...R,workouts:[ue,...R.workouts]})),o)try{const R=gm(ym,"users",o.uid);await Z0(R,{workouts:$D(ue)})}catch(R){console.error("Error saving workout:",R)}},ae=async ue=>{if(y(R=>({...R,user:{...R.user,...ue}})),o)try{const R=gm(ym,"users",o.uid),w={};for(const[I,M]of Object.entries(ue))w[`user.${I}`]=M;await Z0(R,w)}catch(R){console.error("Error updating stats:",R)}},be=ue=>{A(ue),localStorage.setItem("gemini_api_key",ue)},Ve=async ue=>{if(!g?.user)return{defeated:!1};const R=g.user.boss||{hp:1e3,maxHp:1e3,level:1,name:"Iron Titan"};let w=R.hp-ue,I=R.level,M=R.maxHp,D=!1;w<=0&&(D=!0,I+=1,M=Math.floor(M*1.5),w=M);const L={...R,hp:w,maxHp:M,level:I};return ae({boss:L}),{defeated:D,boss:L}};return E.jsx(uS.Provider,{value:{user:g?.user,workouts:g?.workouts||[],isAuthenticated:!!o,loading:f,theme:e,toggleTheme:r,loginWithGoogle:F,loginWithEmail:J,signupWithEmail:Z,logout:re,addWorkout:le,updateUserStats:ae,apiKey:b,saveApiKey:be,updateBossProgress:Ve,currentWorkout:x,setCurrentWorkout:z},children:f?E.jsx(ZD,{}):s})},mn=()=>we.useContext(uS),hS=({className:s=""})=>{const{theme:e,toggleTheme:n}=mn();return E.jsxs("label",{className:`theme-switch ${s}`,children:[E.jsx("input",{type:"checkbox",checked:e==="light",onChange:n}),E.jsxs("span",{className:"slider round",children:[E.jsx("span",{className:"icon sun",children:""}),E.jsx("span",{className:"icon moon",children:""})]}),E.jsx("style",{children:`
                .theme-switch {
                    position: relative;
                    display: inline-block;
                    width: 60px;
                    height: 30px;
                }

                .theme-switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: var(--bg-card);
                    border: 1px solid var(--border);
                    transition: .4s;
                    border-radius: 34px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0 5px;
                    overflow: hidden;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 22px;
                    width: 22px;
                    left: 4px;
                    bottom: 3px;
                    background-color: var(--primary);
                    transition: .4s;
                    border-radius: 50%;
                    z-index: 2;
                }

                input:checked + .slider {
                    background-color: var(--bg-card);
                }

                input:checked + .slider:before {
                    transform: translateX(28px);
                }

                .icon {
                    font-size: 14px;
                    z-index: 1;
                    line-height: 1;
                }
                
                .sun { margin-left: 2px; }
                .moon { margin-right: 2px; }
            `})]})},tO=({children:s,activeTab:e,onTabChange:n})=>{const{theme:r}=mn();return E.jsxs("div",{className:"app-container",children:[E.jsx("div",{className:"page-content",children:s}),E.jsxs("nav",{className:"bottom-nav glass-panel",children:[E.jsxs("button",{className:`nav-item ${e==="dashboard"?"active":""}`,onClick:()=>n("dashboard"),children:[E.jsx("span",{className:"nav-icon",children:""}),E.jsx("span",{className:"nav-label",children:"Home"})]}),E.jsxs("button",{className:`nav-item ${e==="history"?"active":""}`,onClick:()=>n("history"),children:[E.jsx("span",{className:"nav-icon",children:""}),E.jsx("span",{className:"nav-label",children:"History"})]}),E.jsx("button",{className:`nav-item ${e==="workout"?"active":""}`,onClick:()=>n("workout"),children:E.jsx("div",{className:"nav-fab",children:"+"})}),E.jsxs("button",{className:`nav-item ${e==="badges"?"active":""}`,onClick:()=>n("badges"),children:[E.jsx("span",{className:"nav-icon",children:""}),E.jsx("span",{className:"nav-label",children:"Badges"})]})]}),E.jsx("div",{className:"layout-theme-toggle",children:E.jsx(hS,{})}),E.jsx("style",{children:`
        .layout-theme-toggle {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 100;
        }
        
        .bottom-nav {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          width: calc(100% - 40px);
          max-width: 400px;
          height: 70px;
          border-radius: 24px;
          display: flex;
          justify-content: space-around;
          align-items: center;
          z-index: 100;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .nav-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          padding: 0;
          color: var(--text-muted);
          font-size: 0.75rem;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          width: 60px;
          cursor: pointer;
        }

        .nav-item.active {
          color: var(--primary);
          transform: translateY(-2px);
        }

        .nav-icon {
          font-size: 1.5rem;
          margin-bottom: 2px;
          filter: grayscale(100%);
          transition: filter 0.3s;
        }

        .nav-item.active .nav-icon {
          filter: grayscale(0%);
        }

        .nav-fab {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 2rem;
          font-weight: 300;
          box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
          transform: translateY(-20px);
          transition: transform 0.2s;
          border: 4px solid var(--bg-app);
        }

        .nav-item:active .nav-fab {
          transform: translateY(-18px) scale(0.95);
        }
      `})]})},nO=()=>new Date().toISOString().split("T")[0],fS=(s,e)=>!s||!e?!1:s.split("T")[0]===e.split("T")[0],iO=s=>{if(!s)return!1;const e=new Date,n=new Date(e);return n.setDate(n.getDate()-1),fS(s,n.toISOString())},dS=[{id:"first_workout",name:"Spartan Initiate",description:"Complete your first workout",icon:""},{id:"streak_3",name:"Hermes Speed",description:"Maintain a 3-day streak",icon:""},{id:"streak_7",name:"Hercules Strength",description:"Maintain a 7-day streak",icon:""},{id:"streak_30",name:"Titan Endurance",description:"Maintain a 30-day streak",icon:""},{id:"heavy_lifter",name:"Atlas Bearer",description:"Lift over 100kg in any exercise",icon:""},{id:"level_5",name:"Olympian",description:"Reach Level 5",icon:""}],sO=(s,e)=>{const n=nO();return s?fS(s,n)?e:iO(s)?e+1:1:1},rO=s=>{let e=50;return s.exercises.forEach(n=>{e+=n.sets.length*10}),e},mS=s=>Math.floor(s/100)+1,aO=(s,e)=>{const n=[],r=new Set(s.badges);return r.has("first_workout")||n.push("first_workout"),s.streak>=3&&!r.has("streak_3")&&n.push("streak_3"),s.streak>=7&&!r.has("streak_7")&&n.push("streak_7"),s.streak>=30&&!r.has("streak_30")&&n.push("streak_30"),s.level>=5&&!r.has("level_5")&&n.push("level_5"),n},oO=()=>{const{user:s}=mn(),[e,n]=we.useState(!1),o=(b=>b>=50?{icon:"",title:"Godlike"}:b>=30?{icon:"",title:"Legend"}:b>=20?{icon:"",title:"Grandmaster"}:b>=10?{icon:"",title:"Master"}:b>=5?{icon:"",title:"Warrior"}:{icon:"",title:"Novice"})(s.level),c=Math.floor(s.xp/10)+s.streak*2,f=s.boss||{name:"Iron Titan",level:1,hp:1e3,maxHp:1e3},m=f.level*50,g=c>m,y=Math.max(0,f.hp/f.maxHp*100);return E.jsxs("div",{className:"battle-arena glass-panel",children:[E.jsxs("div",{className:"arena-header",children:[E.jsx("h3",{children:" Battle Arena"}),E.jsx("button",{className:"info-btn",onClick:()=>n(!e),"aria-label":"Battle Info",children:""})]}),e&&E.jsxs("div",{className:"arena-info",children:[E.jsx("p",{children:E.jsx("strong",{children:"How to Play:"})}),E.jsxs("ul",{children:[E.jsxs("li",{children:["Your ",E.jsx("strong",{children:"Avatar"})," evolves as you level up."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Strength"})," comes from XP and Streaks."]}),E.jsx("li",{children:"Deal damage by completing workouts!"}),E.jsxs("li",{children:["If ",E.jsxs("strong",{children:["Strength ",">"," Defense"]}),", you deal ",E.jsx("strong",{children:"CRITICAL"})," damage!"]})]})]}),E.jsxs("div",{className:"fighters-container",children:[E.jsxs("div",{className:"fighter-card user-card",children:[E.jsxs("div",{className:"fighter-avatar-wrapper",children:[E.jsx("div",{className:"fighter-avatar user-anim",children:o.icon}),E.jsxs("div",{className:"fighter-level",children:["Lvl ",s.level]})]}),E.jsxs("div",{className:"fighter-details",children:[E.jsx("div",{className:"fighter-name",children:s.name}),E.jsx("div",{className:"fighter-class",children:o.title}),E.jsxs("div",{className:"stat-row",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsx("span",{className:"stat-label",children:"STR:"}),E.jsx("span",{className:"stat-value",children:c})]})]})]}),E.jsx("div",{className:"vs-badge",children:E.jsx("span",{children:"VS"})}),E.jsxs("div",{className:"fighter-card boss-card-mini",children:[E.jsxs("div",{className:"fighter-avatar-wrapper",children:[E.jsx("div",{className:`fighter-avatar boss-anim ${y<25?"critical":""}`,children:lO(f.level)}),E.jsxs("div",{className:"fighter-level boss-lvl",children:["Lvl ",f.level]})]}),E.jsxs("div",{className:"fighter-details",children:[E.jsx("div",{className:"fighter-name boss-text",children:f.name}),E.jsx("div",{className:"hp-bar-mini",children:E.jsx("div",{className:"hp-fill",style:{width:`${y}%`}})}),E.jsxs("div",{className:"stat-row",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsx("span",{className:"stat-label",children:"DEF:"}),E.jsx("span",{className:"stat-value",children:m})]})]})]})]}),E.jsx("div",{className:"battle-status",children:g?E.jsx("div",{className:"status-msg advantage",children:" You are overpowering the boss! (+50% DMG)"}):E.jsx("div",{className:"status-msg disadvantage",children:" Boss is tough! Keep training to gain Strength."})}),E.jsx("style",{children:`
        .battle-arena {
          padding: 20px;
          margin-bottom: 24px;
          background: linear-gradient(180deg, rgba(20, 20, 30, 0.8), rgba(10, 10, 15, 0.9));
          border: 1px solid rgba(139, 92, 246, 0.2);
        }

        .arena-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }
        .arena-header h3 {
          margin: 0;
          color: #fbbf24;
          text-transform: uppercase;
          letter-spacing: 1px;
          font-size: 1rem;
        }

        .info-btn {
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          opacity: 0.7;
          transition: opacity 0.2s;
        }
        .info-btn:hover { opacity: 1; }

        .arena-info {
          background: rgba(139, 92, 246, 0.1);
          padding: 12px;
          border-radius: 8px;
          margin-bottom: 16px;
          font-size: 0.85rem;
          color: var(--text-muted);
        }
        .arena-info ul { padding-left: 20px; margin: 8px 0 0 0; }

        .fighters-container {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          position: relative;
        }

        .fighter-card {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: 12px;
          border-radius: 16px;
          background: rgba(255, 255, 255, 0.03);
          transition: transform 0.2s;
        }
        .user-card { border: 1px solid rgba(139, 92, 246, 0.3); }
        .boss-card-mini { border: 1px solid rgba(239, 68, 68, 0.3); }

        .fighter-avatar-wrapper {
          position: relative;
          margin-bottom: 8px;
        }

        .fighter-avatar {
          font-size: 3rem;
          filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
        }
        .user-anim { animation: float 3s ease-in-out infinite; }
        .boss-anim { animation: float 4s ease-in-out infinite reverse; }
        .boss-anim.critical { animation: shake 0.5s infinite; }

        .fighter-level {
          position: absolute;
          bottom: -4px;
          right: -4px;
          background: #333;
          color: white;
          font-size: 0.7rem;
          padding: 2px 6px;
          border-radius: 10px;
          font-weight: bold;
          border: 1px solid rgba(255,255,255,0.2);
        }
        .boss-lvl { background: #ef4444; }

        .fighter-name {
          font-weight: 700;
          font-size: 0.9rem;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 80px;
        }
        .boss-text { color: #ef4444; }

        .fighter-class {
          font-size: 0.75rem;
          color: var(--primary);
          margin-bottom: 6px;
        }

        .stat-row {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          font-size: 0.85rem;
          background: rgba(0,0,0,0.3);
          padding: 4px 8px;
          border-radius: 8px;
        }
        .stat-value { font-weight: bold; color: white; }

        .hp-bar-mini {
          width: 100%;
          height: 6px;
          background: rgba(0,0,0,0.5);
          border-radius: 3px;
          margin: 4px 0 8px 0;
          overflow: hidden;
        }
        .hp-fill {
          height: 100%;
          background: #ef4444;
          transition: width 0.5s;
        }

        .vs-badge {
          background: linear-gradient(135deg, #fbbf24, #d97706);
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 900;
          font-size: 0.8rem;
          color: black;
          box-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
          z-index: 10;
          flex-shrink: 0;
        }

        .battle-status {
          margin-top: 16px;
          text-align: center;
        }
        .status-msg {
          font-size: 0.85rem;
          padding: 8px;
          border-radius: 8px;
        }
        .advantage {
          background: rgba(34, 197, 94, 0.1);
          color: #4ade80;
          border: 1px solid rgba(34, 197, 94, 0.3);
        }
        .disadvantage {
          background: rgba(239, 68, 68, 0.1);
          color: #f87171;
          border: 1px solid rgba(239, 68, 68, 0.3);
        }

        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-2px); }
          75% { transform: translateX(2px); }
        }
      `})]})},lO=s=>{const e=["","","","","","","",""];return e[Math.min(s-1,e.length-1)]},cO=({onClose:s})=>{const{apiKey:e,saveApiKey:n,logout:r}=mn(),[o,c]=we.useState(e),f=()=>{n(o),s()};return E.jsxs("div",{className:"modal-overlay",children:[E.jsxs("div",{className:"modal-content glass-panel",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h2",{children:"Settings"}),E.jsx("button",{className:"close-btn",onClick:s,children:""})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Gemini API Key"}),E.jsx("input",{type:"password",value:o,onChange:m=>c(m.target.value),placeholder:"Enter your API Key",className:"api-input"}),E.jsxs("p",{className:"text-sm text-muted",children:["Required for AI Sensei & Smart Features.",E.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"link",children:" Get Key"})]})]}),E.jsxs("div",{className:"actions",children:[E.jsx("button",{onClick:f,className:"btn-primary btn-full",children:"Save Settings"}),E.jsx("button",{onClick:r,className:"btn-secondary btn-full mt-2",children:"Logout"})]})]}),E.jsx("style",{children:`
        .modal-overlay {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: rgba(0,0,0,0.8); z-index: 200;
          display: flex; align-items: center; justify-content: center;
          backdrop-filter: blur(5px);
        }
        .modal-content {
            width: 90%; max-width: 400px; padding: 24px; border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 24px;
        }
        .close-btn {
            background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;
        }
        .api-input {
            width: 100%; padding: 12px; background: rgba(0,0,0,0.3);
            border: 1px solid var(--border); border-radius: 12px; color: white;
            margin-top: 8px;
        }
        .text-sm { font-size: 0.8rem; margin-top: 8px; color: var(--text-muted); }
        .link { color: var(--primary); text-decoration: underline; }
        .mt-2 { margin-top: 12px; }
      `})]})};var tE;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(tE||(tE={}));var nE;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(nE||(nE={}));var iE;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iE||(iE={}));const sE=["user","model","function","system"];var rE;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(rE||(rE={}));var aE;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(aE||(aE={}));var oE;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(oE||(oE={}));var lE;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(lE||(lE={}));var Hl;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Hl||(Hl={}));var cE;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(cE||(cE={}));var uE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(uE||(uE={}));var hE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(hE||(hE={}));class Wt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ja extends Wt{constructor(e,n){super(e),this.response=n}}class pS extends Wt{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class er extends Wt{}class gS extends Wt{}const uO="https://generativelanguage.googleapis.com",hO="v1beta",fO="0.24.1",dO="genai-js";var ta;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ta||(ta={}));class mO{constructor(e,n,r,o,c){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=c}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||hO;let c=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||uO}/${r}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function pO(s){const e=[];return s?.apiClient&&e.push(s.apiClient),e.push(`${dO}/${fO}`),e.join(" ")}async function gO(s){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",pO(s.requestOptions)),n.append("x-goog-api-key",s.apiKey);let r=(e=s.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new er(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,c]of r.entries()){if(o==="x-goog-api-key")throw new er(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new er(`Header name ${o} can only be set using the apiClient field`);n.append(o,c)}}return n}async function yO(s,e,n,r,o,c){const f=new mO(s,e,n,r,c);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},TO(c)),{method:"POST",headers:await gO(f),body:o})}}async function hc(s,e,n,r,o,c={},f=fetch){const{url:m,fetchOptions:g}=await yO(s,e,n,r,o,c);return _O(m,g,f)}async function _O(s,e,n=fetch){let r;try{r=await n(s,e)}catch(o){vO(o,s)}return r.ok||await EO(r,s),r}function vO(s,e){let n=s;throw n.name==="AbortError"?(n=new gS(`Request aborted when fetching ${e.toString()}: ${s.message}`),n.stack=s.stack):s instanceof pS||s instanceof er||(n=new Wt(`Error fetching from ${e.toString()}: ${s.message}`),n.stack=s.stack),n}async function EO(s,e){let n="",r;try{const o=await s.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new pS(`Error fetching from ${e.toString()}: [${s.status} ${s.statusText}] ${n}`,s.status,s.statusText,r)}function TO(s){const e={};if(s?.signal!==void 0||s?.timeout>=0){const n=new AbortController;s?.timeout>=0&&setTimeout(()=>n.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Hp(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return bO(s)}else if(s.promptFeedback)throw new Ja(`Text not available. ${Gs(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fE(s)[0]}else if(s.promptFeedback)throw new Ja(`Function call not available. ${Gs(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return fE(s)}else if(s.promptFeedback)throw new Ja(`Function call not available. ${Gs(s)}`,s)},s}function bO(s){var e,n,r,o;const c=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.text&&c.push(f.text),f.executableCode&&c.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&c.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function fE(s){var e,n,r,o;const c=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&c.push(f.functionCall);if(c.length>0)return c}const SO=[Hl.RECITATION,Hl.SAFETY,Hl.LANGUAGE];function ih(s){return!!s.finishReason&&SO.includes(s.finishReason)}function Gs(s){var e,n,r;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((e=s.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((n=s.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const c=s.candidates[0];ih(c)&&(o+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(o+=`: ${c.finishMessage}`))}return o}function Wl(s){return this instanceof Wl?(this.v=s,this):new Wl(s)}function AO(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(s,e||[]),o,c=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(x){r[x]&&(o[x]=function(z){return new Promise(function(F,J){c.push([x,z,F,J])>1||m(x,z)})})}function m(x,z){try{g(r[x](z))}catch(F){A(c[0][3],F)}}function g(x){x.value instanceof Wl?Promise.resolve(x.value.v).then(y,b):A(c[0][2],x)}function y(x){m("next",x)}function b(x){m("throw",x)}function A(x,z){x(z),c.shift(),c.length&&m(c[0][0],c[0][1])}}const dE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function wO(s){const e=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=xO(e),[r,o]=n.tee();return{stream:IO(r),response:RO(o)}}async function RO(s){const e=[],n=s.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return Hp(CO(e));e.push(o)}}function IO(s){return AO(this,arguments,function*(){const n=s.getReader();for(;;){const{value:r,done:o}=yield Wl(n.read());if(o)break;yield yield Wl(Hp(r))}})}function xO(s){const e=s.getReader();return new ReadableStream({start(r){let o="";return c();function c(){return e.read().then(({value:f,done:m})=>{if(m){if(o.trim()){r.error(new Wt("Failed to parse stream"));return}r.close();return}o+=f;let g=o.match(dE),y;for(;g;){try{y=JSON.parse(g[1])}catch{r.error(new Wt(`Error parsing JSON response: "${g[1]}"`));return}r.enqueue(y),o=o.substring(g[0].length),g=o.match(dE)}return c()}).catch(f=>{let m=f;throw m.stack=f.stack,m.name==="AbortError"?m=new gS("Request aborted when reading from the stream"):m=new Wt("Error reading from the stream"),m})}}})}function CO(s){const e=s[s.length-1],n={promptFeedback:e?.promptFeedback};for(const r of s){if(r.candidates){let o=0;for(const c of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=c.citationMetadata,n.candidates[o].groundingMetadata=c.groundingMetadata,n.candidates[o].finishReason=c.finishReason,n.candidates[o].finishMessage=c.finishMessage,n.candidates[o].safetyRatings=c.safetyRatings,c.content&&c.content.parts){n.candidates[o].content||(n.candidates[o].content={role:c.content.role||"user",parts:[]});const f={};for(const m of c.content.parts)m.text&&(f.text=m.text),m.functionCall&&(f.functionCall=m.functionCall),m.executableCode&&(f.executableCode=m.executableCode),m.codeExecutionResult&&(f.codeExecutionResult=m.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function yS(s,e,n,r){const o=await hc(e,ta.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(n),r);return wO(o)}async function _S(s,e,n,r){const c=await(await hc(e,ta.GENERATE_CONTENT,s,!1,JSON.stringify(n),r)).json();return{response:Hp(c)}}function vS(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Zl(s){let e=[];if(typeof s=="string")e=[{text:s}];else for(const n of s)typeof n=="string"?e.push({text:n}):e.push(n);return NO(e)}function NO(s){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const c of s)"functionResponse"in c?(n.parts.push(c),o=!0):(e.parts.push(c),r=!0);if(r&&o)throw new Wt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Wt("No content is provided for sending chat message.");return r?e:n}function DO(s,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new er("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(o)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const c=Zl(s);r.contents=[c]}return{generateContentRequest:r}}function mE(s){let e;return s.contents?e=s:e={contents:[Zl(s)]},s.systemInstruction&&(e.systemInstruction=vS(s.systemInstruction)),e}function OO(s){return typeof s=="string"||Array.isArray(s)?{content:Zl(s)}:s}const pE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],MO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function kO(s){let e=!1;for(const n of s){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new Wt(`First content should be with role 'user', got ${r}`);if(!sE.includes(r))throw new Wt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(sE)}`);if(!Array.isArray(o))throw new Wt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Wt("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const g of pE)g in m&&(c[g]+=1);const f=MO[r];for(const m of pE)if(!f.includes(m)&&c[m]>0)throw new Wt(`Content with role '${r}' can't contain '${m}' part`);e=!0}}function gE(s){var e;if(s.candidates===void 0||s.candidates.length===0)return!1;const n=(e=s.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const yE="SILENT_ERROR";class VO{constructor(e,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(kO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,o,c,f,m,g;await this._sendPromise;const y=Zl(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},A=Object.assign(Object.assign({},this._requestOptions),n);let x;return this._sendPromise=this._sendPromise.then(()=>_S(this._apiKey,this.model,b,A)).then(z=>{var F;if(gE(z.response)){this._history.push(y);const J=Object.assign({parts:[],role:"model"},(F=z.response.candidates)===null||F===void 0?void 0:F[0].content);this._history.push(J)}else{const J=Gs(z.response);J&&console.warn(`sendMessage() was unsuccessful. ${J}. Inspect response object for details.`)}x=z}).catch(z=>{throw this._sendPromise=Promise.resolve(),z}),await this._sendPromise,x}async sendMessageStream(e,n={}){var r,o,c,f,m,g;await this._sendPromise;const y=Zl(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},A=Object.assign(Object.assign({},this._requestOptions),n),x=yS(this._apiKey,this.model,b,A);return this._sendPromise=this._sendPromise.then(()=>x).catch(z=>{throw new Error(yE)}).then(z=>z.response).then(z=>{if(gE(z)){this._history.push(y);const F=Object.assign({},z.candidates[0].content);F.role||(F.role="model"),this._history.push(F)}else{const F=Gs(z);F&&console.warn(`sendMessageStream() was unsuccessful. ${F}. Inspect response object for details.`)}}).catch(z=>{z.message!==yE&&console.error(z)}),x}}async function LO(s,e,n,r){return(await hc(e,ta.COUNT_TOKENS,s,!1,JSON.stringify(n),r)).json()}async function PO(s,e,n,r){return(await hc(e,ta.EMBED_CONTENT,s,!1,JSON.stringify(n),r)).json()}async function UO(s,e,n,r){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:e}));return(await hc(e,ta.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),r)).json()}class _E{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=vS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const o=mE(e),c=Object.assign(Object.assign({},this._requestOptions),n);return _S(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),c)}async generateContentStream(e,n={}){var r;const o=mE(e),c=Object.assign(Object.assign({},this._requestOptions),n);return yS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),c)}startChat(e){var n;return new VO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=DO(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return LO(this.apiKey,this.model,r,o)}async embedContent(e,n={}){const r=OO(e),o=Object.assign(Object.assign({},this._requestOptions),n);return PO(this.apiKey,this.model,r,o)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return UO(this.apiKey,this.model,e,r)}}class jO{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Wt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new _E(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new er("Cached content must contain a `name` field.");if(!e.model)throw new er("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n?.[f]&&e[f]&&n?.[f]!==e[f]){if(f==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,g=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===g)continue}throw new er(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${e[f]})`)}const c=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new _E(this.apiKey,c,r)}}const zO=async(s,e)=>{if(!s)throw new Error("API Key is missing");try{const r=new jO(s).getGenerativeModel({model:"gemini-1.5-flash"}),o=`
      You are an expert fitness coach (Sensei). Create a workout plan for me.
      
      My Profile:
      - Level: ${e.level||1}
      - Goal: ${e.goal||"General Fitness"}
      - Recent Activity: ${e.recentWorkouts?e.recentWorkouts.length:0} workouts this week.
      
      You can include exercises from Strength, Calisthenics, Yoga, Cardio, or Flexibility.
      For Yoga/Cardio, use 'sets' as 1, 'reps' as 1, and 'weight' as duration in minutes (if applicable) or 0.
      
      Output strictly in JSON format with this structure:
      {
        "name": "Workout Name",
        "description": "Brief motivation",
        "exercises": [
          { "name": "Exercise Name", "sets": 3, "reps": 10, "weight": 20, "notes": "Form tip" }
        ]
      }
      
      Do not include markdown formatting like \`\`\`json. Just the raw JSON.
    `,g=(await(await r.generateContent(o)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(g)}catch(n){throw console.error("AI Generation Error:",n),n}},BO=({onClose:s,onAccept:e})=>{const{apiKey:n,user:r,workouts:o}=mn(),[c,f]=we.useState(!1),[m,g]=we.useState(null),[y,b]=we.useState(""),[A,x]=we.useState("Strength"),z=async()=>{if(!n){b("Please set your API Key in Settings first.");return}f(!0),b("");try{const F={level:r.level,goal:A,recentWorkouts:o.slice(0,5)},J=await zO(n,F);g(J)}catch{b("Failed to generate plan. Check your API Key.")}finally{f(!1)}};return E.jsxs("div",{className:"modal-overlay",children:[E.jsxs("div",{className:"modal-content glass-panel",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h2",{children:"Sensei AI"}),E.jsx("button",{className:"close-btn",onClick:s,children:""})]}),m?E.jsxs("div",{className:"plan-preview",children:[E.jsx("h3",{children:m.name}),E.jsx("p",{className:"plan-desc",children:m.description}),E.jsx("div",{className:"plan-exercises",children:m.exercises.map((F,J)=>E.jsxs("div",{className:"plan-item",children:[E.jsx("span",{className:"ex-name",children:F.name}),E.jsxs("span",{className:"ex-details",children:[F.sets,"x",F.reps," @ ",F.weight,"kg"]})]},J))}),E.jsx("button",{onClick:()=>e(m.exercises),className:"btn-primary btn-full mt-4",children:"Start This Workout"}),E.jsx("button",{onClick:()=>g(null),className:"btn-secondary btn-full mt-2",children:"Regenerate"})]}):E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"mb-4",children:"I will design a custom workout for you based on your history and level."}),E.jsxs("div",{className:"form-group mb-4",children:[E.jsx("label",{children:"Today's Focus"}),E.jsxs("select",{value:A,onChange:F=>x(F.target.value),className:"select-input",children:[E.jsx("option",{value:"Strength",children:"Strength & Power"}),E.jsx("option",{value:"Hypertrophy",children:"Muscle Building"}),E.jsx("option",{value:"Endurance",children:"Endurance & Cardio"}),E.jsx("option",{value:"Recovery",children:"Active Recovery"})]})]}),y&&E.jsx("p",{className:"error-msg mb-4",children:y}),E.jsx("button",{onClick:z,className:"btn-primary btn-full",disabled:c,children:c?"Consulting the Scrolls...":"Generate Plan"})]})]}),E.jsx("style",{children:`
        .modal-overlay {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: rgba(0,0,0,0.8); z-index: 200;
          display: flex; align-items: center; justify-content: center;
          backdrop-filter: blur(5px);
        }
        .modal-content {
            width: 90%; max-width: 400px; padding: 24px; border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
            max-height: 80vh; overflow-y: auto;
        }
        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 24px;
        }
        .close-btn {
            background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;
        }
        .select-input {
            width: 100%; padding: 12px; background: rgba(0,0,0,0.3);
            border: 1px solid var(--border); border-radius: 12px; color: white;
            margin-top: 8px;
        }
        .mb-4 { margin-bottom: 16px; }
        .mt-4 { margin-top: 16px; }
        .mt-2 { margin-top: 8px; }
        .error-msg { color: var(--error); font-size: 0.9rem; }
        
        .plan-desc { color: var(--text-muted); font-style: italic; margin-bottom: 16px; }
        .plan-item {
            display: flex; justify-content: space-between;
            padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .ex-name { font-weight: 600; }
        .ex-details { color: var(--primary); }
      `})]})},HO=({onOpenSettings:s})=>{const{user:e,logout:n}=mn(),[r,o]=we.useState(!1),c=we.useRef(null);we.useEffect(()=>{const m=g=>{c.current&&!c.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>m?m.charAt(0).toUpperCase():"A";return E.jsxs("div",{className:"user-menu-container",ref:c,children:[E.jsx("button",{className:"avatar-btn",onClick:()=>o(!r),"aria-label":"User Menu",children:E.jsx("div",{className:"avatar-circle",children:f(e.name)})}),r&&E.jsxs("div",{className:"dropdown-menu glass-panel",children:[E.jsxs("div",{className:"menu-header",children:[E.jsx("p",{className:"menu-label",children:"Signed in as"}),E.jsx("p",{className:"menu-username",children:e.name})]}),E.jsx("div",{className:"menu-divider"}),E.jsxs("button",{className:"menu-item",onClick:()=>{s(),o(!1)},children:[E.jsx("span",{className:"menu-icon",children:""}),"Settings"]}),E.jsx("div",{className:"menu-divider"}),E.jsxs("button",{className:"menu-item danger",onClick:()=>{n(),o(!1)},children:[E.jsx("span",{className:"menu-icon",children:""}),"Log Out"]})]}),E.jsx("style",{children:`
        .user-menu-container {
          position: relative;
        }
        
        .avatar-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 4px;
          border-radius: 50%;
          transition: transform 0.2s;
        }
        .avatar-btn:hover {
          transform: scale(1.05);
        }
        
        .avatar-circle {
          width: 44px;
          height: 44px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          font-size: 1.2rem;
          box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
          border: 2px solid rgba(255,255,255,0.1);
        }

        .dropdown-menu {
          position: absolute;
          top: 120%;
          right: 0;
          width: 240px;
          background: rgba(20, 20, 25, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255,255,255,0.1);
          border-radius: 16px;
          padding: 8px;
          box-shadow: 0 10px 40px rgba(0,0,0,0.5);
          z-index: 100;
          animation: menuSlide 0.2s ease-out;
          transform-origin: top right;
        }
        
        @keyframes menuSlide {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }

        .menu-header {
          padding: 16px;
        }
        .menu-label {
          font-size: 0.75rem;
          color: var(--text-muted);
          margin-bottom: 4px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .menu-username {
          font-weight: 700;
          color: white;
          font-size: 1.1rem;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .menu-divider {
          height: 1px;
          background: rgba(255,255,255,0.1);
          margin: 4px 0;
        }

        .menu-item {
          width: 100%;
          display: flex;
          align-items: center;
          padding: 14px 16px;
          background: none;
          border: none;
          color: var(--text-main);
          font-size: 1rem;
          cursor: pointer;
          border-radius: 12px;
          transition: background 0.2s;
          text-align: left;
        }
        .menu-item:hover {
          background: rgba(255,255,255,0.05);
        }
        .menu-item.danger {
          color: #ef4444;
        }
        .menu-item.danger:hover {
          background: rgba(239, 68, 68, 0.1);
        }
        .menu-icon {
          margin-right: 16px;
          font-size: 1.2rem;
        }
      `})]})},vE=({onNavigate:s,onStartWorkout:e})=>{const{user:n,logout:r,workouts:o,setCurrentWorkout:c}=mn(),[f,m]=we.useState(!1),[g,y]=we.useState(!1),b=mS(n.xp),A=(b+1)*1e3,x=b*1e3,z=(n.xp-x)/(A-x)*100,F=new Set(n.badges),J=dS.filter(re=>!F.has(re.id)).slice(0,2),Z=re=>{c(re),y(!1),e()};return E.jsxs("div",{className:"dashboard",children:[E.jsxs("header",{className:"header flex-between",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"greeting",children:["Hello, ",E.jsx("span",{className:"text-gradient",children:n.name})]}),E.jsx("p",{className:"subtitle",children:"Ready to conquer today?"})]}),E.jsx("div",{className:"header-actions",children:E.jsx(HO,{onOpenSettings:()=>m(!0)})})]}),E.jsx(oO,{}),E.jsx("div",{className:"ai-actions mb-4",children:E.jsxs("button",{className:"btn-sensei glass-panel",onClick:()=>y(!0),children:[E.jsx("span",{className:"sensei-icon",children:""}),E.jsxs("div",{className:"sensei-text",children:[E.jsx("h3",{children:"Ask Sensei"}),E.jsx("p",{children:"Get a personalized AI workout plan"})]}),E.jsx("span",{className:"arrow",children:""})]})}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs("div",{className:"card stat-card glass-panel",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsx("h3",{children:n.streak}),E.jsx("p",{children:"Day Streak"})]})]}),E.jsxs("div",{className:"card stat-card glass-panel",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-info",children:[E.jsx("h3",{children:n.xp}),E.jsx("p",{children:"Total XP"})]})]}),E.jsxs("div",{className:"card stat-card glass-panel full-width",children:[E.jsxs("div",{className:"level-info flex-between",children:[E.jsx("span",{className:"stat-icon",children:""}),E.jsxs("div",{className:"stat-text",children:[E.jsxs("h3",{children:["Level ",b]}),E.jsxs("p",{children:[A-n.xp," XP to next level"]})]})]}),E.jsx("div",{className:"progress-bar-bg",children:E.jsx("div",{className:"progress-bar-fill",style:{width:`${z}%`}})})]})]}),E.jsxs("section",{className:"section",children:[E.jsxs("div",{className:"flex-between mb-2",children:[E.jsx("h2",{children:"Next Milestones"}),E.jsx("span",{className:"see-all",onClick:()=>s("badges"),children:"View All"})]}),E.jsx("div",{className:"badges-scroll",children:J.length>0?J.map(re=>E.jsxs("div",{className:"badge-card locked glass-panel",children:[E.jsx("div",{className:"badge-icon",children:re.icon}),E.jsxs("div",{className:"badge-details",children:[E.jsx("h4",{children:re.name}),E.jsx("p",{children:re.description})]})]},re.id)):E.jsx("div",{className:"empty-state",children:E.jsx("p",{children:"You're a legend! All current badges earned."})})})]}),E.jsxs("section",{className:"section",children:[E.jsx("h2",{children:"Recent Activity"}),E.jsx("div",{className:"activity-list",children:o.length===0?E.jsxs("div",{className:"card empty-card",children:[E.jsx("p",{children:"No workouts yet. Start your legend today!"}),E.jsx("button",{onClick:()=>e(),className:"btn-primary mt-2",children:"Start First Workout"})]}):o.slice(0,3).map((re,le)=>E.jsxs("div",{className:"card workout-card glass-panel",children:[E.jsxs("div",{className:"workout-header",children:[E.jsx("span",{className:"workout-date",children:new Date(re.date).toLocaleDateString()}),E.jsxs("span",{className:"workout-xp",children:["+",re.xpEarned||0," XP"]})]}),E.jsxs("div",{className:"workout-summary",children:[re.exercises.length," Exercises Completed"]})]},le))})]}),f&&E.jsx(cO,{onClose:()=>m(!1)}),g&&E.jsx(BO,{onClose:()=>y(!1),onAccept:Z}),E.jsx("style",{children:`
                .header {
                    margin-bottom: 24px;
                    padding-top: 10px;
                }
                .greeting {
                    font-size: 1.75rem;
                    margin-bottom: 4px;
                }
                .subtitle {
                    color: var(--text-muted);
                    font-size: 0.9rem;
                }
                .header-actions {
                    display: flex; gap: 12px;
                }
                
                .btn-sensei {
                    width: 100%;
                    display: flex;
                    align-items: center;
                    padding: 16px;
                    border: 1px solid var(--primary);
                    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(0,0,0,0));
                    border-radius: 16px;
                    cursor: pointer;
                    transition: transform 0.2s;
                    text-align: left;
                }
                .btn-sensei:active { transform: scale(0.98); }
                .sensei-icon { font-size: 2rem; margin-right: 16px; }
                .sensei-text h3 { color: var(--primary); margin-bottom: 4px; }
                .sensei-text p { color: var(--text-muted); font-size: 0.8rem; }
                .arrow { margin-left: auto; color: var(--primary); font-size: 1.5rem; }
                
                .stats-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 12px;
                    margin-bottom: 32px;
                }
                .stat-card {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 16px;
                    margin-bottom: 0;
                    background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
                }
                .stat-card.full-width {
                    grid-column: span 2;
                    align-items: stretch;
                    text-align: left;
                }
                .stat-icon {
                    font-size: 2rem;
                    margin-bottom: 8px;
                    filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
                }
                .stat-info h3 {
                    font-size: 1.5rem;
                    color: white;
                    margin-bottom: 2px;
                }
                .stat-info p {
                    font-size: 0.8rem;
                    color: var(--text-muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                .level-info {
                    margin-bottom: 12px;
                }
                .level-info .stat-icon {
                    font-size: 2.5rem;
                    margin-bottom: 0;
                    margin-right: 16px;
                }
                .progress-bar-bg {
                    height: 8px;
                    background: rgba(255,255,255,0.1);
                    border-radius: 4px;
                    overflow: hidden;
                }
                .progress-bar-fill {
                    height: 100%;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    border-radius: 4px;
                    transition: width 1s ease-out;
                }

                .section {
                    margin-bottom: 32px;
                }
                .mb-2 { margin-bottom: 16px; }
                .mb-4 { margin-bottom: 24px; }
                .mt-2 { margin-top: 16px; }
                
                .see-all {
                    color: var(--primary);
                    font-size: 0.9rem;
                    font-weight: 600;
                    cursor: pointer;
                }

                .badges-scroll {
                    display: flex;
                    gap: 12px;
                    overflow-x: auto;
                    padding-bottom: 10px;
                    margin: 0 -20px;
                    padding: 0 20px 20px 20px;
                    -webkit-overflow-scrolling: touch;
                }
                .badge-card {
                    min-width: 160px;
                    padding: 16px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.05);
                }
                .badge-card.locked {
                    opacity: 0.7;
                }
                .badge-icon {
                    font-size: 2.5rem;
                    margin-bottom: 12px;
                    filter: grayscale(100%);
                }
                .badge-details h4 {
                    font-size: 0.9rem;
                    margin-bottom: 4px;
                    color: var(--text-main);
                }
                .badge-details p {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                    line-height: 1.3;
                }

                .workout-card {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 16px;
                }
                .workout-date {
                    font-weight: 600;
                    color: var(--text-main);
                }
                .workout-xp {
                    color: var(--accent);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .workout-summary {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin-top: 4px;
                }
                .empty-card {
                    text-align: center;
                    padding: 32px;
                    color: var(--text-muted);
                }
            `})]})},qO=(s,e)=>{const n=e.filter(f=>f.exercises.some(m=>m.name===s)).sort((f,m)=>new Date(m.date)-new Date(f.date)).slice(0,3);if(!n.length)return null;const r=n[0].exercises.find(f=>f.name===s);if(!r||!r.sets||!r.sets.length)return null;const o=Math.max(...r.sets.map(f=>Number(f.weight)||0));return r.sets.filter(f=>Number(f.weight)===o&&Number(f.reps)>=8).length>=2?o+2.5:o},FO=["Bench Press","Squat","Deadlift","Overhead Press","Barbell Row","Dumbbell Press","Dumbbell Lunges","Leg Press","Lat Pulldown","Bicep Curl","Tricep Extension","Face Pull","Lateral Raise","Push Up","Pull Up","Dip","Chin Up","Muscle Up","Air Squat","Pistol Squat","L-Sit","Plank","Burpee","Handstand Push Up","Box Jump","Downward Dog","Upward Dog","Warrior I","Warrior II","Tree Pose","Crow Pose","Child's Pose","Sun Salutation A","Sun Salutation B","Corpse Pose (Savasana)","Running","Cycling","Jump Rope","Rowing Machine","Elliptical","Swimming","Sprinting","HIIT","Foam Rolling","Hamstring Stretch","Hip Flexor Stretch","Shoulder Dislocates"],GO=({onAdd:s})=>{const[e,n]=we.useState(""),[r,o]=we.useState(!1),[c,f]=we.useState([]),[m,g]=we.useState(0),y=we.useRef(null),b=we.useRef(null);we.useEffect(()=>{if(e.trim()){const F=FO.filter(J=>J.toLowerCase().includes(e.toLowerCase())).slice(0,8);f(F),o(F.length>0)}else f([]),o(!1);g(0)},[e]),we.useEffect(()=>{const F=J=>{b.current&&!b.current.contains(J.target)&&o(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const A=F=>{if(!r){F.key==="Enter"&&z();return}switch(F.key){case"ArrowDown":F.preventDefault(),g(J=>J<c.length-1?J+1:J);break;case"ArrowUp":F.preventDefault(),g(J=>J>0?J-1:0);break;case"Enter":F.preventDefault(),c[m]?x(c[m]):z();break;case"Escape":o(!1);break}},x=F=>{n(F),o(!1),y.current?.focus()},z=()=>{e.trim()&&(s(e.trim()),n(""),o(!1))};return E.jsxs("div",{className:"exercise-selector",ref:b,children:[E.jsxs("div",{className:"selector-input-group",children:[E.jsx("input",{ref:y,type:"text",value:e,onChange:F=>n(F.target.value),onKeyDown:A,onFocus:()=>e&&o(!0),placeholder:"Type or search exercise...",className:"exercise-input-modern"}),E.jsx("button",{onClick:z,disabled:!e.trim(),className:"btn-add-exercise",children:E.jsx("span",{className:"add-icon",children:"+"})})]}),r&&c.length>0&&E.jsx("div",{className:"exercise-dropdown glass-panel",children:c.map((F,J)=>E.jsxs("div",{className:`dropdown-item ${J===m?"selected":""}`,onClick:()=>x(F),onMouseEnter:()=>g(J),children:[E.jsx("span",{className:"exercise-icon",children:""}),F]},F))}),E.jsx("style",{children:`
        .exercise-selector {
          position: relative;
          width: 100%;
        }

        .selector-input-group {
          display: flex;
          gap: 12px;
          align-items: stretch;
        }

        .exercise-input-modern {
          flex: 1;
          padding: 16px 20px;
          background: var(--bg-card);
          border: 2px solid rgba(139, 92, 246, 0.3);
          border-radius: 16px;
          color: white;
          font-size: 1rem;
          transition: all 0.3s;
          outline: none;
        }
        .exercise-input-modern:focus {
          border-color: var(--primary);
          box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1);
        }
        .exercise-input-modern::placeholder {
          color: var(--text-muted);
        }

        .btn-add-exercise {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border: none;
          border-radius: 16px;
          color: white;
          font-size: 1.5rem;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 16px rgba(139, 92, 246, 0.3);
        }
        .btn-add-exercise:hover:not(:disabled) {
          transform: scale(1.05);
          box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }
        .btn-add-exercise:active:not(:disabled) {
          transform: scale(0.98);
        }
        .btn-add-exercise:disabled {
          opacity: 0.4;
          cursor: not-allowed;
        }
        .add-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .exercise-dropdown {
          position: absolute;
          top: calc(100% + 8px);
          left: 0;
          right: 0;
          background: rgba(20, 20, 25, 0.98);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(139, 92, 246, 0.3);
          border-radius: 16px;
          padding: 8px;
          max-height: 320px;
          overflow-y: auto;
          z-index: 100;
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
          animation: slideDown 0.2s ease-out;
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .dropdown-item {
          padding: 14px 16px;
          cursor: pointer;
          border-radius: 12px;
          transition: all 0.15s;
          display: flex;
          align-items: center;
          gap: 12px;
          color: var(--text-main);
          font-size: 1rem;
        }
        .dropdown-item:hover,
        .dropdown-item.selected {
          background: rgba(139, 92, 246, 0.15);
          color: white;
        }
        .exercise-icon {
          font-size: 1.2rem;
          opacity: 0.7;
        }
        .dropdown-item.selected .exercise-icon,
        .dropdown-item:hover .exercise-icon {
          opacity: 1;
        }

        .exercise-dropdown::-webkit-scrollbar {
          width: 8px;
        }
        .exercise-dropdown::-webkit-scrollbar-track {
          background: transparent;
        }
        .exercise-dropdown::-webkit-scrollbar-thumb {
          background: rgba(139, 92, 246, 0.3);
          border-radius: 4px;
        }
        .exercise-dropdown::-webkit-scrollbar-thumb:hover {
          background: rgba(139, 92, 246, 0.5);
        }
      `})]})},KO=({boss:s,onClose:e})=>E.jsx("div",{className:"modal-overlay",onClick:e,children:E.jsxs("div",{className:"victory-modal glass-panel",onClick:n=>n.stopPropagation(),children:[E.jsxs("div",{className:"victory-animation",children:[E.jsx("div",{className:"trophy",children:""}),E.jsx("div",{className:"sparkles",children:""})]}),E.jsx("h2",{className:"victory-title",children:"BOSS DEFEATED!"}),E.jsxs("p",{className:"victory-subtitle",children:[s.name," has been vanquished!"]}),E.jsxs("div",{className:"victory-stats",children:[E.jsxs("div",{className:"stat-item",children:[E.jsx("span",{className:"stat-label",children:"Boss Level"}),E.jsx("span",{className:"stat-value",children:s.level-1})]}),E.jsx("div",{className:"stat-divider",children:""}),E.jsxs("div",{className:"stat-item",children:[E.jsx("span",{className:"stat-label",children:"New Boss Level"}),E.jsx("span",{className:"stat-value highlight",children:s.level})]})]}),E.jsxs("div",{className:"new-boss-preview",children:[E.jsx("p",{className:"preview-label",children:"Next Challenge"}),E.jsx("p",{className:"preview-name",children:s.name}),E.jsxs("p",{className:"preview-hp",children:[s.maxHp," HP"]})]}),E.jsx("button",{className:"btn-primary btn-full victory-btn",onClick:e,children:"Continue Your Journey"}),E.jsx("style",{children:`
          .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease-out;
          }

          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }

          .victory-modal {
            max-width: 400px;
            width: 100%;
            padding: 40px 32px;
            background: rgba(20, 20, 25, 0.95);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(139, 92, 246, 0.5);
            border-radius: 24px;
            text-align: center;
            animation: slideUp 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(139, 92, 246, 0.3);
          }

          @keyframes slideUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }

          .victory-animation {
            position: relative;
            margin-bottom: 24px;
          }

          .trophy {
            font-size: 5rem;
            animation: bounce 1s infinite;
          }

          @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
          }

          .sparkles {
            font-size: 2rem;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            animation: sparkle 2s infinite;
          }

          @keyframes sparkle {
            0%, 100% { opacity: 0; transform: translateX(-50%) scale(0.5); }
            50% { opacity: 1; transform: translateX(-50%) scale(1.2); }
          }

          .victory-title {
            font-size: 2rem;
            color: #fbbf24;
            margin: 0 0 8px 0;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
          }

          .victory-subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
            margin: 0 0 32px 0;
          }

          .victory-stats {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 32px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
          }

          .stat-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
          }

          .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          .stat-value {
            font-size: 1.8rem;
            font-weight: 900;
            color: white;
          }

          .stat-value.highlight {
            color: var(--primary);
            animation: glow 1s infinite;
          }

          @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px rgba(139, 92, 246, 0.5); }
            50% { text-shadow: 0 0 20px rgba(139, 92, 246, 1); }
          }

          .stat-divider {
            font-size: 2rem;
            color: var(--primary);
          }

          .new-boss-preview {
            padding: 20px;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05));
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 16px;
            margin-bottom: 24px;
          }

          .preview-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0 0 8px 0;
          }

          .preview-name {
            font-size: 1.5rem;
            color: #ef4444;
            font-weight: 900;
            margin: 0 0 4px 0;
          }

          .preview-hp {
            font-size: 1rem;
            color: var(--text-muted);
            margin: 0;
            font-family: 'Courier New', monospace;
          }

          .victory-btn {
            font-size: 1.1rem;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
          }
        `})]})}),YO=({onFinish:s})=>{const{user:e,workouts:n,addWorkout:r,updateUserStats:o,updateBossProgress:c,currentWorkout:f,setCurrentWorkout:m}=mn(),[g,y]=we.useState(!1),[b,A]=we.useState(null),x=le=>{if(!le)return;const ae=qO(le,n);m([...f,{id:Date.now(),name:le,targetWeight:ae,sets:3,reps:10,weight:ae||20}])},z=(le,ae,be)=>{const Ve=[...f];Ve[le][ae]=Number(be),m(Ve)},F=le=>{const ae=f.filter((be,Ve)=>Ve!==le);m(ae)},J=async()=>{if(f.length===0)return;const le={id:crypto.randomUUID(),date:new Date().toISOString(),exercises:f},ae=rO(le),be=sO(e.lastWorkoutDate,e.streak),Ve=e.xp+ae,ue=mS(Ve),R=f.reduce((L,C)=>L+C.sets*C.reps*C.weight,0),w=Math.floor(R/50),I={...e,streak:be,xp:Ve,level:ue,lastWorkoutDate:new Date().toISOString()},M=aO(I);r(le),o({streak:be,xp:I.xp,level:I.level,lastWorkoutDate:I.lastWorkoutDate,badges:[...e.badges,...M]});const D=await c(w);D?.defeated?(A(D.boss),y(!0)):(m([]),s())},Z=()=>{y(!1),m([]),s()},re=f.length*10;return E.jsxs("div",{className:"workout-session",children:[E.jsxs("header",{className:"flex-between mb-2",children:[E.jsx("h2",{children:"Workout Session"}),E.jsxs("div",{className:"xp-badge",children:["+",re," XP"]})]}),E.jsx("div",{className:"exercise-list",children:f.map((le,ae)=>E.jsxs("div",{className:"card exercise-card glass-panel",children:[E.jsxs("div",{className:"exercise-header",children:[E.jsx("h3",{children:le.name}),E.jsx("button",{className:"btn-icon delete-btn",onClick:()=>F(ae),children:""})]}),E.jsxs("div",{className:"exercise-inputs",children:[E.jsxs("div",{className:"input-col",children:[E.jsx("label",{children:"Sets"}),E.jsx("input",{type:"number",value:le.sets,onChange:be=>z(ae,"sets",be.target.value),placeholder:"0",inputMode:"numeric"})]}),E.jsxs("div",{className:"input-col",children:[E.jsx("label",{children:"Reps"}),E.jsx("input",{type:"number",value:le.reps,onChange:be=>z(ae,"reps",be.target.value),placeholder:"0",inputMode:"numeric"})]}),E.jsxs("div",{className:"input-col",children:[E.jsx("label",{children:"Lbs"}),E.jsx("input",{type:"number",value:le.weight,onChange:be=>z(ae,"weight",be.target.value),placeholder:"0",inputMode:"numeric"})]})]})]},ae))}),E.jsx("div",{className:"add-exercise-section",children:E.jsx(GO,{onAdd:x})}),E.jsx("div",{className:"action-bar",children:E.jsx("button",{onClick:J,className:"btn-primary btn-full finish-btn",children:"Finish Workout"})}),E.jsx("style",{children:`
                .workout-session {
                    padding-bottom: 80px;
                }
                .xp-badge {
                    background: rgba(16, 185, 129, 0.2);
                    color: var(--accent);
                    padding: 4px 12px;
                    border-radius: var(--radius-full);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .exercise-card {
                    margin-bottom: 16px;
                    animation: slideIn 0.3s ease-out;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .exercise-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 12px;
                }
                .exercise-header h3 {
                    font-size: 1.1rem;
                    color: white;
                }
                .delete-btn {
                    color: var(--error);
                    opacity: 0.7;
                }
                .exercise-inputs {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 12px;
                }
                .input-col label {
                    text-align: center;
                    font-size: 0.75rem;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .input-col input {
                    text-align: center;
                    font-size: 1.1rem;
                    font-weight: 600;
                    padding: 12px 8px;
                }
                
                .exercise-input {
                    width: 100%;
                    padding: 16px;
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius-md);
                    color: white;
                    font-size: 1rem;
                }

                .action-bar {
                    position: fixed;
                    bottom: 90px; /* Above nav bar */
                    left: 50%;
                    transform: translateX(-50%);
                    width: calc(100% - 40px);
                    max-width: 400px;
                    z-index: 90;
                }
                
                .finish-btn {
                    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
                    font-size: 1.1rem;
                    padding: 16px;
                }
                
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 12px; }
            `}),g&&b&&E.jsx(KO,{boss:b,onClose:Z})]})},QO=()=>{const{workouts:s}=mn(),e=[...s].sort((n,r)=>new Date(r.date)-new Date(n.date));return E.jsxs("div",{className:"history-page",children:[E.jsxs("header",{className:"header",children:[E.jsx("h1",{children:"Workout History"}),E.jsx("p",{className:"subtitle",children:"Your legacy in the making"})]}),E.jsx("div",{className:"history-list",children:e.length===0?E.jsxs("div",{className:"empty-state glass-panel",children:[E.jsx("span",{className:"empty-icon",children:""}),E.jsx("p",{children:"No workouts recorded yet."}),E.jsx("p",{className:"sub-text",children:"Complete your first workout to see it here."})]}):e.map((n,r)=>E.jsxs("div",{className:"history-card glass-panel",children:[E.jsxs("div",{className:"card-header",children:[E.jsxs("div",{className:"date-info",children:[E.jsx("span",{className:"day",children:new Date(n.date).toLocaleDateString(void 0,{weekday:"short"})}),E.jsx("span",{className:"date",children:new Date(n.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),E.jsxs("div",{className:"xp-badge",children:["+",n.xpEarned," XP"]})]}),E.jsxs("div",{className:"card-content",children:[E.jsxs("div",{className:"exercise-count",children:[E.jsx("span",{className:"icon",children:""}),E.jsxs("span",{children:[n.exercises.length," Exercises"]})]}),E.jsxs("div",{className:"exercises-preview",children:[n.exercises.slice(0,3).map((o,c)=>E.jsx("span",{className:"ex-tag",children:o.name},c)),n.exercises.length>3&&E.jsxs("span",{className:"ex-tag more",children:["+",n.exercises.length-3]})]})]})]},r))}),E.jsx("style",{children:`
        .header {
          margin-bottom: 24px;
          padding-top: 10px;
        }
        .header h1 {
          font-size: 1.75rem;
          margin-bottom: 4px;
        }
        .subtitle {
          color: var(--text-muted);
          font-size: 0.9rem;
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
          padding-bottom: 100px;
        }

        .history-card {
          padding: 20px;
          border-radius: 16px;
          background: var(--bg-card);
          border: 1px solid var(--border);
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 16px;
          padding-bottom: 16px;
          border-bottom: 1px solid var(--border);
        }

        .date-info {
          display: flex;
          flex-direction: column;
        }

        .day {
          font-size: 0.8rem;
          color: var(--text-muted);
          text-transform: uppercase;
          font-weight: 600;
        }

        .date {
          font-size: 1.2rem;
          font-weight: 700;
          color: var(--text-main);
        }

        .xp-badge {
          background: rgba(245, 158, 11, 0.1);
          color: var(--accent);
          padding: 4px 12px;
          border-radius: 20px;
          font-weight: 700;
          font-size: 0.9rem;
        }

        .card-content {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .exercise-count {
          display: flex;
          align-items: center;
          gap: 8px;
          color: var(--text-main);
          font-weight: 500;
        }

        .exercises-preview {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .ex-tag {
          font-size: 0.75rem;
          padding: 4px 10px;
          background: rgba(255,255,255,0.05);
          border-radius: 6px;
          color: var(--text-muted);
        }

        .ex-tag.more {
          background: rgba(255,255,255,0.1);
          color: var(--text-main);
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          border-radius: 16px;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          display: block;
          opacity: 0.5;
        }

        .sub-text {
          font-size: 0.9rem;
          color: var(--text-muted);
          margin-top: 8px;
        }
      `})]})},XO=()=>{const{user:s}=mn(),e=new Set(s.badges);return E.jsxs("div",{className:"container",children:[E.jsx("h2",{style:{marginBottom:"20px"},children:"Achievements"}),E.jsx("div",{className:"badges-grid",children:dS.map(n=>{const r=e.has(n.id);return E.jsxs("div",{className:`card badge-card ${r?"unlocked":"locked"}`,children:[E.jsx("div",{className:"badge-icon",children:n.icon}),E.jsxs("div",{className:"badge-info",children:[E.jsx("h3",{children:n.name}),E.jsx("p",{children:n.description})]}),!r&&E.jsx("div",{className:"lock-overlay",children:""})]},n.id)})}),E.jsx("style",{children:`
        .badges-grid {
          display: grid;
          gap: var(--spacing-md);
        }

        .badge-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          position: relative;
          overflow: hidden;
        }

        .badge-card.locked {
          opacity: 0.5;
          filter: grayscale(1);
        }

        .badge-icon {
          font-size: 32px;
          background: rgba(255,255,255,0.05);
          width: 60px;
          height: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
        }

        .badge-info h3 {
          font-size: 16px;
          margin-bottom: 4px;
        }

        .badge-info p {
          font-size: 12px;
          color: var(--text-muted);
        }

        .lock-overlay {
          position: absolute;
          right: 20px;
          font-size: 20px;
        }

        .badge-card.unlocked {
          border: 1px solid rgba(10, 255, 153, 0.3);
          background: linear-gradient(90deg, var(--bg-card) 0%, rgba(10, 255, 153, 0.05) 100%);
        }
      `})]})},$O=({onGetStarted:s})=>{const{theme:e}=mn();return E.jsxs("div",{className:"landing-container",children:[E.jsxs("nav",{className:"landing-nav",children:[E.jsx("div",{className:"logo",children:" SmartRep"}),E.jsxs("div",{className:"nav-actions",children:[E.jsx(hS,{}),E.jsx("button",{className:"btn-login",onClick:()=>s("login"),children:"Login"})]})]}),E.jsxs("section",{className:"hero",children:[E.jsxs("h1",{className:"hero-title",children:["Build Your ",E.jsx("span",{className:"highlight",children:"Daily Routine"})]}),E.jsx("p",{className:"hero-subtitle",children:"Master the art of consistency. Track your workouts, maintain your streak, and forge discipline like a true craftsman."}),E.jsx("button",{className:"btn-primary btn-hero",onClick:()=>{console.log("Start Journey clicked -> signup"),s("signup")},children:"Start Your Journey"})]}),E.jsxs("section",{className:"features",children:[E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:""}),E.jsx("h3",{children:"Track Progress"}),E.jsx("p",{children:"Log every rep and set. Watch your strength grow over time."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:""}),E.jsx("h3",{children:"Maintain Streaks"}),E.jsx("p",{children:"Consistency is key. Keep your flame alive day after day."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:""}),E.jsx("h3",{children:"Earn Glory"}),E.jsx("p",{children:'Unlock badges like "Hercules Strength" and "Titan Endurance".'})]})]}),E.jsx("style",{children:`
        .landing-container {
          min-height: 100vh;
          background: var(--bg-app);
          color: var(--text-main);
          padding: 0 var(--spacing-md);
          transition: background-color 0.3s ease, color 0.3s ease;
        }

        .landing-nav {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 0;
          max-width: 1200px;
          margin: 0 auto;
        }

        .logo {
          font-weight: 800;
          font-size: 20px;
          color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle-landing {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-main);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .theme-toggle-landing:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary);
        }

        .btn-login {
          background: transparent;
          color: var(--text-main);
          border: 1px solid var(--border);
          padding: 8px 20px;
          border-radius: var(--radius-full);
          transition: all 0.2s;
        }

        .btn-login:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        .hero {
          text-align: center;
          padding: 80px 20px;
          max-width: 800px;
          margin: 0 auto;
        }

        .hero-title {
          font-size: 48px;
          font-weight: 900;
          line-height: 1.1;
          margin-bottom: 20px;
        }

        .highlight {
          color: var(--primary);
          text-shadow: 0 0 20px var(--primary-glow);
        }

        .hero-subtitle {
          font-size: 18px;
          color: var(--text-muted);
          margin-bottom: 40px;
          line-height: 1.6;
        }

        .btn-hero {
          font-size: 18px;
          padding: 16px 40px;
        }

        .features {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 30px;
          max-width: 1000px;
          margin: 40px auto;
          padding-bottom: 80px;
        }

        .feature-card {
          background: var(--bg-card);
          padding: 30px;
          border-radius: var(--radius-md);
          text-align: center;
          border: 1px solid rgba(255,255,255,0.05);
          transition: transform 0.2s;
        }

        .feature-card:hover {
          transform: translateY(-5px);
          border-color: var(--primary);
        }

        .feature-icon {
          font-size: 40px;
          margin-bottom: 20px;
        }

        .feature-card h3 {
          margin-bottom: 10px;
          color: var(--text-main);
        }

        .feature-card p {
          color: var(--text-muted);
          font-size: 14px;
        }

        @media (max-width: 600px) {
          .hero-title {
            font-size: 36px;
          }
        }
      `})]})},JO=({onNavigate:s})=>{const[e,n]=we.useState(""),[r,o]=we.useState(""),[c,f]=we.useState(""),{loginWithEmail:m,loginWithGoogle:g}=mn(),y=async()=>{const A=await g();A.success?s("dashboard"):f(A.error||"Google login failed")},b=async A=>{if(A.preventDefault(),e.trim()&&r.trim()){const x=await m(e,r);x.success?s("dashboard"):f(x.error)}else f("Please enter email and password")};return E.jsxs("div",{className:"auth-container full-screen-center",children:[E.jsxs("div",{className:"background-blobs",children:[E.jsx("div",{className:"blob blob-1"}),E.jsx("div",{className:"blob blob-2"})]}),E.jsxs("div",{className:"card auth-card glass-panel",children:[E.jsxs("div",{className:"auth-header",children:[E.jsx("h1",{children:"Welcome Back"}),E.jsx("p",{className:"auth-subtitle",children:"Continue your legendary journey."})]}),E.jsxs("form",{onSubmit:b,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",value:e,onChange:A=>{n(A.target.value),f("")},placeholder:"Enter your email",autoFocus:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Password"}),E.jsx("input",{type:"password",value:r,onChange:A=>{o(A.target.value),f("")},placeholder:"Enter your password"})]}),c&&E.jsx("p",{className:"error-msg",children:c}),E.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Login"})]}),E.jsx("div",{className:"divider",children:E.jsx("span",{children:"OR"})}),E.jsxs("button",{className:"btn-google btn-full",onClick:y,children:[E.jsx("span",{className:"google-icon",children:"G"})," Login with Google"]}),E.jsxs("p",{className:"auth-footer",children:["New here? ",E.jsx("button",{className:"btn-link",onClick:()=>s("signup"),children:"Create Account"})]})]}),E.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},WO=({onNavigate:s})=>{const[e,n]=we.useState(""),[r,o]=we.useState(""),[c,f]=we.useState(""),{signupWithEmail:m,loginWithGoogle:g}=mn(),y=async()=>{const A=await g();A.success?s("dashboard"):f(A.error||"Google signup failed")},b=async A=>{if(A.preventDefault(),e.trim()&&r.trim()){const x=await m(e,r);x.success?s("dashboard"):f(x.error)}else f("Please fill in all fields")};return E.jsxs("div",{className:"auth-container full-screen-center",children:[E.jsxs("div",{className:"background-blobs",children:[E.jsx("div",{className:"blob blob-1"}),E.jsx("div",{className:"blob blob-2"})]}),E.jsxs("div",{className:"card auth-card glass-panel",children:[E.jsxs("div",{className:"auth-header",children:[E.jsx("h2",{children:"Begin Your Journey"}),E.jsx("p",{className:"auth-subtitle",children:"Create an account to track your progress."})]}),E.jsxs("form",{onSubmit:b,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",value:e,onChange:A=>{n(A.target.value),f("")},placeholder:"Enter your email",autoFocus:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Password"}),E.jsx("input",{type:"password",value:r,onChange:A=>{o(A.target.value),f("")},placeholder:"Create a password"})]}),c&&E.jsx("p",{className:"error-msg",children:c}),E.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Start Adventure"})]}),E.jsx("div",{className:"divider",children:E.jsx("span",{children:"OR"})}),E.jsxs("button",{className:"btn-google btn-full",onClick:y,children:[E.jsx("span",{className:"google-icon",children:"G"})," Sign up with Google"]}),E.jsxs("p",{className:"auth-footer",children:["Already have an account? ",E.jsx("button",{className:"btn-link",onClick:()=>s("login"),children:"Login"})]})]}),E.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},ZO=()=>{const{isAuthenticated:s}=mn(),[e,n]=we.useState("dashboard"),[r,o]=we.useState("landing");if(!s)return r==="login"?E.jsx(JO,{onNavigate:o}):r==="signup"?E.jsx(WO,{onNavigate:o}):E.jsx($O,{onGetStarted:o});const c=()=>{switch(e){case"dashboard":return E.jsx(vE,{onStartWorkout:()=>n("workout")});case"workout":return E.jsx(YO,{onFinish:()=>n("dashboard")});case"history":return E.jsx(QO,{});case"badges":return E.jsx(XO,{});default:return E.jsx(vE,{})}};return E.jsx(tO,{activeTab:e,onTabChange:n,children:c()})};function eM(){return E.jsx(eO,{children:E.jsx(ZO,{})})}rw.createRoot(document.getElementById("root")).render(E.jsx(we.StrictMode,{children:E.jsx(eM,{})}));
