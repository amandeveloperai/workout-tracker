(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Xd={exports:{}},Rl={};var uv;function $A(){if(uv)return Rl;uv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var cv;function JA(){return cv||(cv=1,Xd.exports=$A()),Xd.exports}var S=JA(),$d={exports:{}},Et={};var hv;function WA(){if(hv)return Et;hv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function et(M,Q,it){this.props=M,this.context=Q,this.refs=W,this.updater=it||$}et.prototype.isReactComponent={},et.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ht(){}ht.prototype=et.prototype;function dt(M,Q,it){this.props=M,this.context=Q,this.refs=W,this.updater=it||$}var Pt=dt.prototype=new ht;Pt.constructor=dt,J(Pt,et.prototype),Pt.isPureReactComponent=!0;var qt=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,Q,it){var rt=it.ref;return{$$typeof:s,type:M,key:Q,ref:rt!==void 0?rt:null,props:it}}function V(M,Q){return I(M.type,Q,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return Q[it]})}var x=/\/+/g;function ie(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Q.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ot,ot):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Q,it,rt,_t){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case s:case t:Vt=!0;break;case b:return Vt=M._init,G(Vt(M._payload),Q,it,rt,_t)}}if(Vt)return _t=_t(M),Vt=rt===""?"."+ie(M,0):rt,qt(_t)?(it="",Vt!=null&&(it=Vt.replace(x,"$&/")+"/"),G(_t,Q,it,"",function(fr){return fr})):_t!=null&&(O(_t)&&(_t=V(_t,it+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(x,"$&/")+"/")+Vt)),Q.push(_t)),1;Vt=0;var Ce=rt===""?".":rt+":";if(qt(M))for(var se=0;se<M.length;se++)rt=M[se],At=Ce+ie(rt,se),Vt+=G(rt,Q,it,At,_t);else if(se=B(M),typeof se=="function")for(M=se.call(M),se=0;!(rt=M.next()).done;)rt=rt.value,At=Ce+ie(rt,se++),Vt+=G(rt,Q,it,At,_t);else if(At==="object"){if(typeof M.then=="function")return G(Ie(M),Q,it,rt,_t);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(M,Q,it){if(M==null)return M;var rt=[],_t=0;return G(M,rt,"","",function(At){return Q.call(it,At,_t++)}),rt}function ft(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:nt,forEach:function(M,Q,it){nt(M,function(){Q.apply(this,arguments)},it)},count:function(M){var Q=0;return nt(M,function(){Q++}),Q},toArray:function(M){return nt(M,function(Q){return Q})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=A,Et.Children=Ft,Et.Component=et,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=dt,Et.StrictMode=r,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,Q,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=J({},M.props),_t=M.key;if(Q!=null)for(At in Q.key!==void 0&&(_t=""+Q.key),Q)!w.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(rt[At]=Q[At]);var At=arguments.length-2;if(At===1)rt.children=it;else if(1<At){for(var Vt=Array(At),Ce=0;Ce<At;Ce++)Vt[Ce]=arguments[Ce+2];rt.children=Vt}return I(M.type,_t,rt)},Et.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,Q,it){var rt,_t={},At=null;if(Q!=null)for(rt in Q.key!==void 0&&(At=""+Q.key),Q)w.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Q[rt]);var Vt=arguments.length-2;if(Vt===1)_t.children=it;else if(1<Vt){for(var Ce=Array(Vt),se=0;se<Vt;se++)Ce[se]=arguments[se+2];_t.children=Ce}if(M&&M.defaultProps)for(rt in Vt=M.defaultProps,Vt)_t[rt]===void 0&&(_t[rt]=Vt[rt]);return I(M,At,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:m,render:M}},Et.isValidElement=O,Et.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ft}},Et.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},Et.startTransition=function(M){var Q=R.T,it={};R.T=it;try{var rt=M(),_t=R.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ot,Lt)}catch(At){Lt(At)}finally{Q!==null&&it.types!==null&&(Q.types=it.types),R.T=Q}},Et.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Et.use=function(M){return R.H.use(M)},Et.useActionState=function(M,Q,it){return R.H.useActionState(M,Q,it)},Et.useCallback=function(M,Q){return R.H.useCallback(M,Q)},Et.useContext=function(M){return R.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,Q){return R.H.useDeferredValue(M,Q)},Et.useEffect=function(M,Q){return R.H.useEffect(M,Q)},Et.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Et.useId=function(){return R.H.useId()},Et.useImperativeHandle=function(M,Q,it){return R.H.useImperativeHandle(M,Q,it)},Et.useInsertionEffect=function(M,Q){return R.H.useInsertionEffect(M,Q)},Et.useLayoutEffect=function(M,Q){return R.H.useLayoutEffect(M,Q)},Et.useMemo=function(M,Q){return R.H.useMemo(M,Q)},Et.useOptimistic=function(M,Q){return R.H.useOptimistic(M,Q)},Et.useReducer=function(M,Q,it){return R.H.useReducer(M,Q,it)},Et.useRef=function(M){return R.H.useRef(M)},Et.useState=function(M){return R.H.useState(M)},Et.useSyncExternalStore=function(M,Q,it){return R.H.useSyncExternalStore(M,Q,it)},Et.useTransition=function(){return R.H.useTransition()},Et.version="19.2.0",Et}var fv;function Gm(){return fv||(fv=1,$d.exports=WA()),$d.exports}var Qt=Gm(),Jd={exports:{}},Il={},Wd={exports:{}},Zd={};var dv;function ZA(){return dv||(dv=1,(function(s){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Ft=G[Lt];if(0<o(Ft,nt))G[Lt]=nt,G[ft]=Ft,ft=Lt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Lt=0,Ft=G.length,M=Ft>>>1;Lt<M;){var Q=2*(Lt+1)-1,it=G[Q],rt=Q+1,_t=G[rt];if(0>o(it,ft))rt<Ft&&0>o(_t,it)?(G[Lt]=_t,G[rt]=ft,Lt=rt):(G[Lt]=it,G[Q]=ft,Lt=Q);else if(rt<Ft&&0>o(_t,ft))G[Lt]=_t,G[rt]=ft,Lt=rt;else break t}}return nt}function o(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,A=null,C=3,B=!1,$=!1,J=!1,W=!1,et=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Pt(G){for(var nt=n(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=G)r(y),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=n(y)}}function qt(G){if(J=!1,Pt(G),!$)if(n(g)!==null)$=!0,ot||(ot=!0,L());else{var nt=n(y);nt!==null&&Ie(qt,nt.startTime-G)}}var ot=!1,R=-1,w=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<w)}function O(){if(W=!1,ot){var G=s.unstable_now();I=G;var nt=!0;try{t:{$=!1,J&&(J=!1,ht(R),R=-1),B=!0;var ft=C;try{e:{for(Pt(G),A=n(g);A!==null&&!(A.expirationTime>G&&V());){var Lt=A.callback;if(typeof Lt=="function"){A.callback=null,C=A.priorityLevel;var Ft=Lt(A.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){A.callback=Ft,Pt(G),nt=!0;break e}A===n(g)&&r(g),Pt(G)}else r(g);A=n(g)}if(A!==null)nt=!0;else{var M=n(y);M!==null&&Ie(qt,M.startTime-G),nt=!1}}break t}finally{A=null,C=ft,B=!1}nt=void 0}}finally{nt?L():ot=!1}}}var L;if(typeof dt=="function")L=function(){dt(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ie=x.port2;x.port1.onmessage=O,L=function(){ie.postMessage(null)}}else L=function(){et(O,0)};function Ie(G,nt){R=et(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(G){switch(C){case 1:case 2:case 3:var nt=3;break;default:nt=C}var ft=C;C=nt;try{return G()}finally{C=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=C;C=G;try{return nt()}finally{C=ft}},s.unstable_scheduleCallback=function(G,nt,ft){var Lt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,G={id:b++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Lt?(G.sortIndex=ft,t(y,G),n(g)===null&&G===n(y)&&(J?(ht(R),R=-1):J=!0,Ie(qt,ft-Lt))):(G.sortIndex=Ft,t(g,G),$||B||($=!0,ot||(ot=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=C;return function(){var ft=C;C=nt;try{return G.apply(this,arguments)}finally{C=ft}}}})(Zd)),Zd}var mv;function tw(){return mv||(mv=1,Wd.exports=ZA()),Wd.exports}var tm={exports:{}},Qe={};var pv;function ew(){if(pv)return Qe;pv=1;var s=Gm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,b)},Qe.flushSync=function(g){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=b,r.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:B}):b==="script"&&r.d.X(g,{crossOrigin:A,integrity:C,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Qe.requestFormReset=function(g){r.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var gv;function nw(){if(gv)return tm.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),tm.exports=ew(),tm.exports}var yv;function iw(){if(yv)return Il;yv=1;var s=tw(),t=Gm(),n=nw();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case et:return"Profiler";case W:return"StrictMode";case qt:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case dt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ft=-1;function M(e){return{current:e}}function Q(e){0>Ft||(e.current=Lt[Ft],Lt[Ft]=null,Ft--)}function it(e,i){Ft++,Lt[Ft]=e.current,e.current=i}var rt=M(null),_t=M(null),At=M(null),Vt=M(null);function Ce(e,i){switch(it(At,i),it(_t,e),it(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?O_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=O_(i),e=M_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),it(rt,e)}function se(){Q(rt),Q(_t),Q(At)}function fr(e){e.memoizedState!==null&&it(Vt,e);var i=rt.current,a=M_(i,e.type);i!==a&&(it(_t,e),it(rt,a))}function aa(e){_t.current===e&&(Q(rt),Q(_t)),Vt.current===e&&(Q(Vt),bl._currentValue=ft)}var oa,la;function ri(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+la}var bo=!1;function dr(e,i){if(!e||bo)return"";bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var N=_.split(`
`),j=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var F=`
`+N[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{bo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function So(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return dr(e.type,!1);case 11:return dr(e.type.render,!1);case 1:return dr(e.type,!0);case 31:return ri("Activity");default:return""}}function Ao(e){try{var i="",a=null;do i+=So(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,$h=s.unstable_shouldYield,fu=s.unstable_requestPaint,tn=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,wo=s.unstable_ImmediatePriority,Ro=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Jh=s.unstable_LowPriority,du=s.unstable_IdlePriority,mu=s.log,pu=s.unstable_setDisableYieldValue,qn=null,je=null;function In(e){if(typeof mu=="function"&&pu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var he=Math.clz32?Math.clz32:yu,gu=Math.log,ua=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(gu(e)/ua|0)|0}var ai=256,pr=262144,ye=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=oi(l):(_&=E,_!==0?h=oi(_):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=l&~d,E!==0?h=oi(E):_!==0?h=oi(_):a||(a=l&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Wh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-he(a),Y=1<<F;E[F]=0,N[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&yr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function yr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-he(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Io(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-he(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Co(e,i){var a=i&-i;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|i))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:nv(e.type))}function Gn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Kn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Kn,ke="__reactProps$"+Kn,ci="__reactContainer$"+Kn,ca="__reactEvents$"+Kn,tf="__reactListeners$"+Kn,Eu="__reactHandles$"+Kn,Tu="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function ha(e){delete e[_e],delete e[ke],delete e[ca],delete e[tf],delete e[Eu]}function fi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=z_(e);e!==null;){if(a=e[_e])return a;e=z_(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[_e]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function di(e){var i=e[Tu];return i||(i=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[hi]=!0}var xo=new Set,No={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(No[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function bu(e){return ge.call(Mo,e)?!0:ge.call(Oo,e)?!1:Do.test(e)?Mo[e]=!0:(Oo[e]=!0,!1)}function fa(e,i,a){if(bu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ee(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gt(e){if(!e._valueTracker){var i=ds(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function vr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ds(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function rn(e){return e.replace(Er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Le(i)):a!=null?ko(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function Su(e,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Gt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Gt(e)}function ko(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Au(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function ps(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Gt(e)}function an(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Po(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Uo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,yi=null;function Tr(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vr(l)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ms(e,!!a.multiple,i,!1)}}}var ga=!1;function _s(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(ys!==null||yi!==null)&&(vc(),ys&&(i=ys,e=yi,yi=ys=null,Tr(i),e)))for(i=0;i<e.length;i++)Tr(e[i])}}function Qn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Nn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){br=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{br=!1}var _i=null,jo=null,Sr=null;function zo(){if(Sr)return Sr;var e,i=jo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Sr=h.slice(e,1<l?1-l:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Xn(){return!1}function ze(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Xn,this.isPropagationStopped=Xn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=ze(ji),vs=A({},ji,{view:0,detail:0}),Bo=ze(vs),Es,ya,Ei,_a=A({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Es=e.screenX-Ei.screenX,ya=e.screenY-Ei.screenY):ya=Es=0,Ei=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ho=ze(_a),wr=A({},_a,{dataTransfer:0}),Iu=ze(wr),Cu=A({},vs,{relatedTarget:0}),Rr=ze(Cu),qo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=ze(qo),va=A({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=ze(va),Du=A({},ji,{data:0}),Ti=ze(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vu[e])?!!i[e]:!1}function Ts(){return ku}var en=A({},vs,{key:function(e){if(e.key){var i=Ou[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=ze(en),Pu=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=ze(Pu),c=A({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),p=ze(c),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=A({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=ze(P),tt=A({},ji,{newState:0,oldState:0}),bt=ze(tt),fe=[9,13,27,32],zt=Nn&&"CompositionEvent"in window,re=null;Nn&&"documentMode"in document&&(re=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!re,bi=Nn&&(!zt||re&&8<re&&11>=re),$n=" ",Jn=!1;function Ir(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function ES(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Jn=!0,$n);case"textInput":return e=i.data,e===$n&&Jn?null:e;default:return null}}function TS(e,i){if(Ta)return e==="compositionend"||!zt&&Ir(e,i)?(e=zo(),Sr=jo=_i=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bS[e.type]:i==="textarea"}function Fp(e,i,a,l){ys?yi?yi.push(l):yi=[l]:ys=l,i=Rc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Fo=null,Go=null;function SS(e){R_(e,0)}function Uu(e){var i=mn(e);if(vr(i))return e}function Gp(e,i){if(e==="change")return i}var Kp=!1;if(Nn){var ef;if(Nn){var nf="oninput"in document;if(!nf){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),nf=typeof Yp.oninput=="function"}ef=nf}else ef=!1;Kp=ef&&(!document.documentMode||9<document.documentMode)}function Qp(){Fo&&(Fo.detachEvent("onpropertychange",Xp),Go=Fo=null)}function Xp(e){if(e.propertyName==="value"&&Uu(Go)){var i=[];Fp(i,Go,e,xn(e)),_s(SS,i)}}function AS(e,i,a){e==="focusin"?(Qp(),Fo=i,Go=a,Fo.attachEvent("onpropertychange",Xp)):e==="focusout"&&Qp()}function wS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Go)}function RS(e,i){if(e==="click")return Uu(i)}function IS(e,i){if(e==="input"||e==="change")return Uu(i)}function CS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:CS;function Ko(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ge.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function $p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jp(e,i){var a=$p(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$p(a)}}function Wp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Wp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Zp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xS=Nn&&"documentMode"in document&&11>=document.documentMode,ba=null,rf=null,Yo=null,af=!1;function tg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ba==null||ba!==gi(l)||(l=ba,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=Rc(rf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ba)))}function Cr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Sa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},of={},eg={};Nn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function xr(e){if(of[e])return of[e];if(!Sa[e])return e;var i=Sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return of[e]=i[a];return e}var ng=xr("animationend"),ig=xr("animationiteration"),sg=xr("animationstart"),NS=xr("transitionrun"),DS=xr("transitionstart"),OS=xr("transitioncancel"),rg=xr("transitionend"),ag=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Wn(e,i){ag.set(e,i),mi(i,[e])}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Aa=0,uf=0;function zu(){for(var e=Aa,i=uf=Aa=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Bu(e,i,a,l){On[Aa++]=e,On[Aa++]=i,On[Aa++]=a,On[Aa++]=l,uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cf(e,i,a,l){return Bu(e,i,a,l),Hu(e)}function Nr(e,i){return Bu(e,null,null,i),Hu(e)}function og(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-he(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(e){if(50<pl)throw pl=0,vd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function MS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,l){return new MS(e,i,a,l)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function qu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")hf(e)&&(_=1);else if(typeof e=="string")_=UA(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,i,h),e.elementType=I,e.lanes=d,e;case J:return Dr(a.children,h,d,i);case W:_=8,h|=24;break;case et:return e=yn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case qt:return e=yn(13,a,i,h),e.elementType=qt,e.lanes=d,e;case ot:return e=yn(19,a,i,h),e.elementType=ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:_=10;break t;case ht:_=9;break t;case Pt:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=yn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Dr(e,i,a,l){return e=yn(7,e,l,i),e.lanes=a,e}function ff(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function ug(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function df(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var cg=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=cg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ao(i)},cg.set(e,i),i)}return{value:e,source:i,stack:Ao(i)}}var Ra=[],Ia=0,Fu=null,Qo=0,Vn=[],kn=0,bs=null,Si=1,Ai="";function Hi(e,i){Ra[Ia++]=Qo,Ra[Ia++]=Fu,Fu=e,Qo=i}function hg(e,i,a){Vn[kn++]=Si,Vn[kn++]=Ai,Vn[kn++]=bs,bs=e;var l=Si;e=Ai;var h=32-he(l)-1;l&=~(1<<h),a+=1;var d=32-he(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-he(i)+h|a<<h|l,Ai=d+e}else Si=1<<d|a<<h|l,Ai=e}function mf(e){e.return!==null&&(Hi(e,1),hg(e,1,0))}function pf(e){for(;e===Fu;)Fu=Ra[--Ia],Ra[Ia]=null,Qo=Ra[--Ia],Ra[Ia]=null;for(;e===bs;)bs=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null,Si=Vn[--kn],Vn[kn]=null}function fg(e,i){Vn[kn++]=Si,Vn[kn++]=Ai,Vn[kn++]=bs,Si=i.id,Ai=i.overflow,bs=e}var Be=null,te=null,Mt=!1,Ss=null,Ln=!1,gf=Error(r(519));function As(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Mn(i,e)),gf}function dg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[_e]=e,i[ke]=l,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)It(yl[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),ps(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||N_(i.textContent,a)?(l.popover!=null&&(It("beforetoggle",i),It("toggle",i)),l.onScroll!=null&&It("scroll",i),l.onScrollEnd!=null&&It("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||As(e,!0)}function mg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Be=Be.return}}function Ca(e){if(e!==Be)return!1;if(!Mt)return mg(e),Mt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&te&&As(e),mg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=j_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=j_(e)}else i===27?(i=te,Us(e.type)?(e=jd,jd=null,te=e):te=i):te=Be?Un(e.stateNode.nextSibling):null;return!0}function Or(){te=Be=null,Mt=!1}function yf(){var e=Ss;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ss=null),e}function Xo(e){Ss===null?Ss=[e]:Ss.push(e)}var _f=M(null),Mr=null,qi=null;function ws(e,i,a){it(_f,i._currentValue),i._currentValue=a}function Fi(e){e._currentValue=_f.current,Q(_f)}function vf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Ef(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var N=0;N<i.length;N++)if(E.context===i[N]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),vf(d.return,a,e),l||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&Ef(i,e,a,l),i.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return pg(Mr,e)}function Ku(e,i){return Mr===null&&Vr(e),pg(e,i)}function pg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var VS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},kS=s.unstable_scheduleCallback,LS=s.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new VS,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&kS(LS,function(){e.controller.abort()})}var Jo=null,bf=0,Na=0,Da=null;function PS(e,i){if(Jo===null){var a=Jo=[];bf=0,Na=wd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,i.then(gg,gg),i}function gg(){if(--bf===0&&Jo!==null){Da!==null&&(Da.status="fulfilled");var e=Jo;Jo=null,Na=0,Da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function US(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=G.S;G.S=function(e,i){t_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(e,i),yg!==null&&yg(e,i)};var kr=M(null);function Sf(){var e=kr.current;return e!==null?e:Zt.pooledCache}function Yu(e,i){i===null?it(kr,kr.current):it(kr,i.pool)}function _g(){var e=Sf();return e===null?null:{parent:Te._currentValue,pool:e}}var Oa=Error(r(460)),Af=Error(r(474)),Qu=Error(r(542)),Xu={then:function(){}};function vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,bg(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,bg(e),e}throw Pr=i,Oa}}function Lr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,Oa):a}}var Pr=null;function Tg(){if(Pr===null)throw Error(r(459));var e=Pr;return Pr=null,e}function bg(e){if(e===Oa||e===Qu)throw Error(r(483))}var Ma=null,Wo=0;function $u(e){var i=Wo;return Wo+=1,Ma===null&&(Ma=[]),Eg(Ma,e,i)}function Zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ju(e,i){throw i.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sg(e){function i(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Bi(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,U,K){return D===null||D.tag!==6?(D=ff(U,k.mode,K),D.return=k,D):(D=h(D,U),D.return=k,D)}function N(k,D,U,K){var ct=U.type;return ct===J?F(k,D,U.props.children,K,U.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Lr(ct)===D.type)?(D=h(D,U.props),Zo(D,U),D.return=k,D):(D=qu(U.type,U.key,U.props,null,k.mode,K),Zo(D,U),D.return=k,D)}function j(k,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=df(U,k.mode,K),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function F(k,D,U,K,ct){return D===null||D.tag!==7?(D=Dr(U,k.mode,K,ct),D.return=k,D):(D=h(D,U),D.return=k,D)}function Y(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ff(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return U=qu(D.type,D.key,D.props,null,k.mode,U),Zo(U,D),U.return=k,U;case $:return D=df(D,k.mode,U),D.return=k,D;case w:return D=Lr(D),Y(k,D,U)}if(Ie(D)||L(D))return D=Dr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return Y(k,$u(D),U);if(D.$$typeof===dt)return Y(k,Ku(k,D),U);Ju(k,D)}return null}function z(k,D,U,K){var ct=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:E(k,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===ct?N(k,D,U,K):null;case $:return U.key===ct?j(k,D,U,K):null;case w:return U=Lr(U),z(k,D,U,K)}if(Ie(U)||L(U))return ct!==null?null:F(k,D,U,K,null);if(typeof U.then=="function")return z(k,D,$u(U),K);if(U.$$typeof===dt)return z(k,D,Ku(k,U),K);Ju(k,U)}return null}function q(k,D,U,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(D,k,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?U:K.key)||null,N(D,k,K,ct);case $:return k=k.get(K.key===null?U:K.key)||null,j(D,k,K,ct);case w:return K=Lr(K),q(k,D,U,K,ct)}if(Ie(K)||L(K))return k=k.get(U)||null,F(D,k,K,ct,null);if(typeof K.then=="function")return q(k,D,U,$u(K),ct);if(K.$$typeof===dt)return q(k,D,U,Ku(D,K),ct);Ju(D,K)}return null}function at(k,D,U,K){for(var ct=null,Ut=null,lt=D,wt=D=0,xt=null;lt!==null&&wt<U.length;wt++){lt.index>wt?(xt=lt,lt=null):xt=lt.sibling;var jt=z(k,lt,U[wt],K);if(jt===null){lt===null&&(lt=xt);break}e&&lt&&jt.alternate===null&&i(k,lt),D=d(jt,D,wt),Ut===null?ct=jt:Ut.sibling=jt,Ut=jt,lt=xt}if(wt===U.length)return a(k,lt),Mt&&Hi(k,wt),ct;if(lt===null){for(;wt<U.length;wt++)lt=Y(k,U[wt],K),lt!==null&&(D=d(lt,D,wt),Ut===null?ct=lt:Ut.sibling=lt,Ut=lt);return Mt&&Hi(k,wt),ct}for(lt=l(lt);wt<U.length;wt++)xt=q(lt,k,wt,U[wt],K),xt!==null&&(e&&xt.alternate!==null&&lt.delete(xt.key===null?wt:xt.key),D=d(xt,D,wt),Ut===null?ct=xt:Ut.sibling=xt,Ut=xt);return e&&lt.forEach(function(qs){return i(k,qs)}),Mt&&Hi(k,wt),ct}function pt(k,D,U,K){if(U==null)throw Error(r(151));for(var ct=null,Ut=null,lt=D,wt=D=0,xt=null,jt=U.next();lt!==null&&!jt.done;wt++,jt=U.next()){lt.index>wt?(xt=lt,lt=null):xt=lt.sibling;var qs=z(k,lt,jt.value,K);if(qs===null){lt===null&&(lt=xt);break}e&&lt&&qs.alternate===null&&i(k,lt),D=d(qs,D,wt),Ut===null?ct=qs:Ut.sibling=qs,Ut=qs,lt=xt}if(jt.done)return a(k,lt),Mt&&Hi(k,wt),ct;if(lt===null){for(;!jt.done;wt++,jt=U.next())jt=Y(k,jt.value,K),jt!==null&&(D=d(jt,D,wt),Ut===null?ct=jt:Ut.sibling=jt,Ut=jt);return Mt&&Hi(k,wt),ct}for(lt=l(lt);!jt.done;wt++,jt=U.next())jt=q(lt,k,wt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?wt:jt.key),D=d(jt,D,wt),Ut===null?ct=jt:Ut.sibling=jt,Ut=jt);return e&&lt.forEach(function(XA){return i(k,XA)}),Mt&&Hi(k,wt),ct}function Wt(k,D,U,K){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:t:{for(var ct=U.key;D!==null;){if(D.key===ct){if(ct=U.type,ct===J){if(D.tag===7){a(k,D.sibling),K=h(D,U.props.children),K.return=k,k=K;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&Lr(ct)===D.type){a(k,D.sibling),K=h(D,U.props),Zo(K,U),K.return=k,k=K;break t}a(k,D);break}else i(k,D);D=D.sibling}U.type===J?(K=Dr(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=qu(U.type,U.key,U.props,null,k.mode,K),Zo(K,U),K.return=k,k=K)}return _(k);case $:t:{for(ct=U.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),K=h(D,U.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else i(k,D);D=D.sibling}K=df(U,k.mode,K),K.return=k,k=K}return _(k);case w:return U=Lr(U),Wt(k,D,U,K)}if(Ie(U))return at(k,D,U,K);if(L(U)){if(ct=L(U),typeof ct!="function")throw Error(r(150));return U=ct.call(U),pt(k,D,U,K)}if(typeof U.then=="function")return Wt(k,D,$u(U),K);if(U.$$typeof===dt)return Wt(k,D,Ku(k,U),K);Ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,U),K.return=k,k=K):(a(k,D),K=ff(U,k.mode,K),K.return=k,k=K),_(k)):a(k,D)}return function(k,D,U,K){try{Wo=0;var ct=Wt(k,D,U,K);return Ma=null,ct}catch(lt){if(lt===Oa||lt===Qu)throw lt;var Ut=yn(29,lt,null,k.mode);return Ut.lanes=K,Ut.return=k,Ut}finally{}}}var Ur=Sg(!0),Ag=Sg(!1),Rs=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(e),og(e,null,a),i}return Bu(e,l,i,a),Hu(e)}function tl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}function If(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Cf=!1;function el(){if(Cf){var e=Da;if(e!==null)throw e}}function nl(e,i,a,l){Cf=!1;var h=e.updateQueue;Rs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==_&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=N))}if(d!==null){var Y=h.baseState;_=0,F=j=N=null,E=d;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(l&z)===z){z!==0&&z===Na&&(Cf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;z=i;var Wt=a;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){Y=at.call(Wt,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,z=typeof at=="function"?at.call(Wt,Y,z):at,z==null)break t;Y=A({},Y,z);break t;case 2:Rs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,N=Y):F=F.next=q,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Ms|=_,e.lanes=_,e.memoizedState=Y}}function wg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Rg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wg(a[e],i)}var Va=M(null),Wu=M(0);function Ig(e,i){e=Zi,it(Wu,e),it(Va,i),Zi=e|i.baseLanes}function xf(){it(Wu,Zi),it(Va,Va.current)}function Nf(){Zi=Wu.current,Q(Va),Q(Wu)}var _n=M(null),Pn=null;function xs(e){var i=e.alternate;it(de,de.current&1),it(_n,e),Pn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Pn=e)}function Df(e){it(de,de.current),it(_n,e),Pn===null&&(Pn=e)}function Cg(e){e.tag===22?(it(de,de.current),it(_n,e),Pn===null&&(Pn=e)):Ns()}function Ns(){it(de,de.current),it(_n,_n.current)}function vn(e){Q(_n),Pn===e&&(Pn=null),Q(de)}var de=M(0);function Zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,St=null,$t=null,be=null,tc=!1,ka=!1,jr=!1,ec=0,il=0,La=null,jS=0;function ue(){throw Error(r(321))}function Of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,l,h,d){return Gi=d,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?hy:Qf,jr=!1,d=a(l,h),jr=!1,ka&&(d=Ng(i,a,l,h)),xg(e),d}function xg(e){G.H=al;var i=$t!==null&&$t.next!==null;if(Gi=0,be=$t=St=null,tc=!1,il=0,La=null,i)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Gu(e)&&(Se=!0))}function Ng(e,i,a,l){St=e;var h=0;do{if(ka&&(La=null),il=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,be=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=fy,d=i(a,l)}while(ka);return d}function zS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?sl(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(St.flags|=1024),i}function Vf(){var e=ec!==0;return ec=0,e}function kf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Lf(e){if(tc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}tc=!1}Gi=0,be=$t=St=null,ka=!1,il=ec=0,La=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?St.memoizedState=be=e:be=be.next=e,be}function me(){if($t===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=be===null?St.memoizedState:be.next;if(i!==null)be=i,$t=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?St.memoizedState=be=e:be=be.next=e}return be}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var i=il;return il+=1,La===null&&(La=[]),e=Eg(La,e,i),i=St,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?hy:Qf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===dt)return He(e)}throw Error(r(438,String(e)))}function Pf(e){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nc(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=me();return Uf(i,$t,e)}function Uf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,N=null,j=i,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ct&Y)===Y:(Gi&Y)===Y){var z=j.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Na&&(F=!0);else if((Gi&z)===z){j=j.next,z===Na&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=Y,_=d):N=N.next=Y,St.lanes|=z,Ms|=z;Y=j.action,jr&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=z,_=d):N=N.next=z,St.lanes|=Y,Ms|=Y;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=E,!gn(d,e.memoizedState)&&(Se=!0,F&&(a=Da,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jf(e){var i=me(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Se=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(e,i,a){var l=St,h=me(),d=Mt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!gn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,Se=!0),h=h.queue,Hf(Vg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Mg.bind(null,l,h,a,i),null),Zt===null)throw Error(r(349));d||(Gi&127)!==0||Og(l,i,a)}return a}function Og(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=nc(),St.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Mg(e,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Lg(e)}function Vg(e,i,a){return a(function(){kg(i)&&Lg(e)})}function kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Lg(e){var i=Nr(e,2);i!==null&&hn(i,e,2)}function zf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),jr){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function Pg(e,i,a,l){return e.baseState=a,Uf(e,$t,typeof l=="function"?l:Ki)}function BS(e,i,a,l,h){if(oc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var E=a(h,l),N=G.S;N!==null&&N(_,E),jg(e,i,E)}catch(j){Bf(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),jg(e,i,d)}catch(j){Bf(e,i,j)}}function jg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(e,i,l)},function(l){return Bf(e,i,l)}):zg(e,i,a)}function zg(e,i,a){i.status="fulfilled",i.value=a,Bg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ug(e,a)))}function Bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}e.action=null}function Bg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function qg(e,i){if(Mt){var a=Zt.formState;if(a!==null){t:{var l=St;if(Mt){if(te){e:{for(var h=te,d=Ln;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=Un(h.nextSibling),l=h.data==="F!";break t}}As(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,St,l),l.dispatch=a,l=zf(!1),d=Yf.bind(null,St,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=BS.bind(null,St,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Fg(e){var i=me();return Gg(i,$t,e)}function Gg(e,i,a){if(i=Uf(e,i,Hg)[0],e=sc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(_){throw _===Oa?Qu:_}else l=i;i=me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(St.flags|=2048,Pa(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,e]}function HS(e,i){e.action=i}function Kg(e){var i=me(),a=$t;if(a!==null)return Gg(i,a,e);me(),i=i.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Pa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=St.updateQueue,i===null&&(i=nc(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Yg(){return me().memoizedState}function rc(e,i,a,l){var h=nn();St.flags|=e,h.memoizedState=Pa(1|i,{destroy:void 0},a,l===void 0?null:l)}function ac(e,i,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Of(l,$t.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(St.flags|=e,h.memoizedState=Pa(1|i,d,a,l))}function Qg(e,i){rc(8390656,8,e,i)}function Hf(e,i){ac(2048,8,e,i)}function qS(e){St.flags|=4;var i=St.updateQueue;if(i===null)i=nc(),St.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Xg(e){var i=me().memoizedState;return qS({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function $g(e,i){return ac(4,2,e,i)}function Jg(e,i){return ac(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Zg(e,i,a){a=a!=null?a.concat([e]):null,ac(4,4,Wg.bind(null,i,e),a)}function qf(){}function ty(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ey(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=e(),jr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Ff(e,i,a){return a===void 0||(Gi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=n_(),St.lanes|=e,Ms|=e,a)}function ny(e,i,a,l){return gn(a,i)?a:Va.current!==null?(e=Ff(e,a,l),gn(e,i)||(Se=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=a):(e=n_(),St.lanes|=e,Ms|=e,i)}function iy(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=G.T,E={};G.T=E,Yf(e,!1,i,a);try{var N=h(),j=G.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=US(N,l);rl(e,i,F,bn(e))}else rl(e,i,l,bn(e))}catch(Y){rl(e,i,{then:function(){},status:"rejected",reason:Y},bn())}finally{nt.p=d,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function FS(){}function Gf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=sy(e).queue;iy(e,h,i,ft,a===null?FS:function(){return ry(e),a(l)})}function sy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ry(e){var i=sy(e);i.next===null&&(i=e.alternate.memoizedState),rl(e,i.next.queue,{},bn())}function Kf(){return He(bl)}function ay(){return me().memoizedState}function oy(){return me().memoizedState}function GS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=Is(a);var l=Cs(i,e,a);l!==null&&(hn(l,i,a),tl(l,i,a)),i={cache:Tf()},e.payload=i;return}i=i.return}}function KS(e,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?uy(i,a):(a=cf(e,i,a,l),a!==null&&(hn(a,e,l),cy(a,i,l)))}function ly(e,i,a){var l=bn();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))uy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,_))return Bu(e,i,h,0),Zt===null&&zu(),!1}catch{}finally{}if(a=cf(e,i,h,l),a!==null)return hn(a,e,l),cy(a,i,l),!0}return!1}function Yf(e,i,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(i)throw Error(r(479))}else i=cf(e,a,l,2),i!==null&&hn(i,e,2)}function oc(e){var i=e.alternate;return e===St||i!==null&&i===St}function uy(e,i){ka=tc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function cy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}var al={readContext:He,use:ic,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};al.useEffectEvent=ue;var hy={readContext:He,use:ic,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return rc(4194308,4,e,i)},useInsertionEffect:function(e,i){rc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(jr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(jr){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=KS.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=ly.bind(null,St,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=nn();return Ff(a,e,i)},useTransition:function(){var e=zf(!1);return e=iy.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=St,h=nn();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Zt===null)throw Error(r(349));(Ct&127)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Vg.bind(null,l,d,e),[e]),l.flags|=2048,Pa(9,{destroy:void 0},Mg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Zt.identifierPrefix;if(Mt){var a=Ai,l=Si;a=(l&~(1<<32-he(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=jS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Kf,useFormState:qg,useActionState:qg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,St,!0,a),a.dispatch=i,[e,i]},useMemoCache:Pf,useCacheRefresh:function(){return nn().memoizedState=GS.bind(null,St)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:He,use:ic,useCallback:ty,useContext:He,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ey,useReducer:sc,useRef:Yg,useState:function(){return sc(Ki)},useDebugValue:qf,useDeferredValue:function(e,i){var a=me();return ny(a,$t.memoizedState,e,i)},useTransition:function(){var e=sc(Ki)[0],i=me().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Kf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=me();return Pg(a,$t,e,i)},useMemoCache:Pf,useCacheRefresh:oy};Qf.useEffectEvent=Xg;var fy={readContext:He,use:ic,useCallback:ty,useContext:He,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ey,useReducer:jf,useRef:Yg,useState:function(){return jf(Ki)},useDebugValue:qf,useDeferredValue:function(e,i){var a=me();return $t===null?Ff(a,e,i):ny(a,$t.memoizedState,e,i)},useTransition:function(){var e=jf(Ki)[0],i=me().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Kf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=me();return $t!==null?Pg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:oy};fy.useEffectEvent=Xg;function Xf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),h=Is(l);h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(hn(i,e,l),tl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),h=Is(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(e,h,l),i!==null&&(hn(i,e,l),tl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=Is(a);l.tag=2,i!=null&&(l.callback=i),i=Cs(e,l,a),i!==null&&(hn(i,e,a),tl(i,e,a))}};function dy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function my(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function py(e){ju(e)}function gy(e){console.error(e)}function yy(e){ju(e)}function lc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(e,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,i)},a}function vy(e){return e=Is(e),e.tag=3,e}function Ey(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){_y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){_y(i,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function YS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ec():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(e,l,h)),!1;case 22:return a.flags|=65536,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(e,l,h)),!1}throw Error(r(435,a.tag))}return bd(e,l,h),Ec(),!1}if(Mt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(e=Error(r(422),{cause:l}),Xo(Mn(e,a)))):(l!==gf&&(i=Error(r(423),{cause:l}),Xo(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=Jf(e.stateNode,l,h),If(e,h),ce!==4&&(ce=2)),!1;var d=Error(r(520),{cause:l});if(d=Mn(d,a),ml===null?ml=[d]:ml.push(d),ce!==4&&(ce=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Jf(a.stateNode,l,e),If(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,e,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(r(461)),Se=!1;function qe(e,i,a,l){i.child=e===null?Ag(i,null,a,l):Ur(i,e.child,a,l)}function Ty(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Vr(i),l=Mf(e,i,a,_,d,h),E=Vf(),e!==null&&!Se?(kf(e,i,h),Yi(e,i,h)):(Mt&&E&&mf(i),i.flags|=1,qe(e,i,l,h),i.child)}function by(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(e,i,d,l,h)):(e=qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ad(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(_,l)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=Bi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Sy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ko(d,l)&&e.ref===i.ref)if(Se=!1,i.pendingProps=l=d,ad(e,h))(e.flags&131072)!==0&&(Se=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return Zf(e,i,a,l,h)}function Ay(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return wy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):xf(),Cg(i);else return l=i.lanes=536870912,wy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),Ig(i,d),Ns(),i.memoizedState=null):(e!==null&&Yu(i,null),xf(),Ns());return qe(e,i,h,a),i.child}function ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wy(e,i,a,l,h){var d=Sf();return d=d===null?null:{parent:Te._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Yu(i,null),xf(),Cg(i),e!==null&&xa(e,i,l,!0),i.childLanes=h,null}function uc(e,i){return i=hc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ry(e,i,a){return Ur(i,e.child,null,a),e=uc(i,i.pendingProps),e.flags|=2,vn(i),i.memoizedState=null,e}function QS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Mt){if(l.mode==="hidden")return e=uc(i,l),i.lanes=536870912,ol(null,e);if(Df(i),(e=te)?(e=U_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ug(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw As(i);return i.lanes=536870912,null}return uc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Ry(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Se||xa(e,i,a,!1),h=(a&e.childLanes)!==0,Se||h){if(l=Zt,l!==null&&(_=Co(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Nr(e,_),hn(l,e,_),Wf;Ec(),i=Ry(e,i,a)}else e=d.treeContext,te=Un(_.nextSibling),Be=i,Mt=!0,Ss=null,Ln=!1,e!==null&&fg(i,e),i=uc(i,l),i.flags|=4096;return i}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function cc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Zf(e,i,a,l,h){return Vr(i),a=Mf(e,i,a,l,void 0,h),l=Vf(),e!==null&&!Se?(kf(e,i,h),Yi(e,i,h)):(Mt&&l&&mf(i),i.flags|=1,qe(e,i,a,h),i.child)}function Iy(e,i,a,l,h,d){return Vr(i),i.updateQueue=null,a=Ng(i,l,a,h),xg(e),l=Vf(),e!==null&&!Se?(kf(e,i,d),Yi(e,i,d)):(Mt&&l&&mf(i),i.flags|=1,qe(e,i,a,d),i.child)}function Cy(e,i,a,l,h){if(Vr(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,N=zr(a,E);d.props=N;var j=d.context,F=a.contextType;_=wa,typeof F=="object"&&F!==null&&(_=He(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==_)&&my(i,d,l,_),Rs=!1;var z=i.memoizedState;d.state=z,nl(i,l,d,h),el(),j=i.memoizedState,E||z!==j||Rs?(typeof Y=="function"&&(Xf(i,a,Y,l),j=i.memoizedState),(N=Rs||dy(i,a,N,l,z,j,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(e,i),_=i.memoizedProps,F=zr(a,_),d.props=F,Y=i.pendingProps,z=d.context,j=a.contextType,N=wa,typeof j=="object"&&j!==null&&(N=He(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||z!==N)&&my(i,d,l,N),Rs=!1,z=i.memoizedState,d.state=z,nl(i,l,d,h),el();var q=i.memoizedState;_!==Y||z!==q||Rs||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(Xf(i,a,E,l),q=i.memoizedState),(F=Rs||dy(i,a,F,l,z,q,N)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=N,l=F):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ur(i,e.child,null,h),i.child=Ur(i,null,a,h)):qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function xy(e,i,a,l){return Or(),i.flags|=256,qe(e,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:_g()}}function nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Tn),e}function Ny(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Mt){if(h?xs(i):Ns(),(e=te)?(e=U_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ug(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw As(i);return Ud(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ns(),h=i.mode,E=hc({mode:"hidden",children:E},h),l=Dr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=ed(a),l.childLanes=nd(e,_,a),i.memoizedState=td,ol(null,l)):(xs(i),id(i,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(d)i.flags&256?(xs(i),i.flags&=-257,i=sd(e,i,a)):i.memoizedState!==null?(Ns(),i.child=e.child,i.flags|=128,i=null):(Ns(),E=l.fallback,h=i.mode,l=hc({mode:"visible",children:l.children},h),E=Dr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Ur(i,e.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=nd(e,_,a),i.memoizedState=td,i=ol(null,l));else if(xs(i),Ud(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(r(419)),l.stack="",l.digest=_,Xo({value:l,source:null,stack:null}),i=sd(e,i,a)}else if(Se||xa(e,i,a,!1),_=(a&e.childLanes)!==0,Se||_){if(_=Zt,_!==null&&(l=Co(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Nr(e,l),hn(_,e,l),Wf;Pd(E)||Ec(),i=sd(e,i,a)}else Pd(E)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,te=Un(E.nextSibling),Be=i,Mt=!0,Ss=null,Ln=!1,e!==null&&fg(i,e),i=id(i,l.children),i.flags|=4096);return i}return h?(Ns(),E=l.fallback,h=i.mode,N=e.child,j=N.sibling,l=Bi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Bi(j,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,ol(null,l),l=i.child,E=e.child.memoizedState,E===null?E=ed(a):(h=E.cachePool,h!==null?(N=Te._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=_g(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=nd(e,_,a),i.memoizedState=td,ol(e.child,l)):(xs(i),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function id(e,i){return i=hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hc(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function sd(e,i,a){return Ur(i,e.child,null,a),e=id(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Dy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),vf(e.return,i,a)}function rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Oy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=de.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(de,_),qe(e,i,l,a),l=Mt?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dy(e,a,i);else if(e.tag===19)Dy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(i,!0,a,null,d,l);break;case"together":rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(xa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function XS(e,i,a){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),ws(i,Te,e.memoizedState.cache),Or();break;case 27:case 5:fr(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ny(e,i,a):(xs(i),e=Yi(e,i,a),e!==null?e.sibling:null);xs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(de,de.current),l)break;return null;case 22:return i.lanes=0,Ay(e,i,a,i.pendingProps);case 24:ws(i,Te,e.memoizedState.cache)}return Yi(e,i,a)}function My(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Se=!0;else{if(!ad(e,a)&&(i.flags&128)===0)return Se=!1,XS(e,i,a);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(i.flags&1048576)!==0&&hg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Lr(i.elementType),i.type=e,typeof e=="function")hf(e)?(l=zr(e,l),i.tag=1,i=Cy(null,i,e,l,a)):(i.tag=0,i=Zf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){i.tag=11,i=Ty(null,i,e,l,a);break t}else if(h===R){i.tag=14,i=by(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zr(l,i.pendingProps),Cy(e,i,l,h,a);case 3:t:{if(Ce(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(e,i),nl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ws(i,Te,l),l!==d.cache&&Ef(i,[Te],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xy(e,i,l,a);break t}else if(l!==h){h=Mn(Error(r(424)),i),Xo(h),i=xy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Un(e.firstChild),Be=i,Mt=!0,Ss=null,Ln=!0,a=Ag(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Or(),l===h){i=Yi(e,i,a);break t}qe(e,i,l,a)}i=i.child}return i;case 26:return cc(e,i),e===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Mt||(a=i.type,e=i.pendingProps,l=Ic(At.current).createElement(a),l[_e]=i,l[ke]=e,Fe(l,a,e),ve(l),i.stateNode=l):i.memoizedState=F_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fr(i),e===null&&Mt&&(l=i.stateNode=B_(i.type,i.pendingProps,At.current),Be=i,Ln=!0,h=te,Us(i.type)?(jd=h,te=Un(l.firstChild)):te=h),qe(e,i,i.pendingProps.children,a),cc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Mt&&((h=l=te)&&(l=wA(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Be=i,te=Un(l.firstChild),Ln=!1,h=!0):h=!1),h||As(i)),fr(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,zS,null,null,a),bl._currentValue=h),cc(e,i),qe(e,i,l,a),i.child;case 6:return e===null&&Mt&&((e=a=te)&&(a=RA(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Be=i,te=null,e=!0):e=!1),e||As(i)),null;case 13:return Ny(e,i,a);case 4:return Ce(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ur(i,null,l,a):qe(e,i,l,a),i.child;case 11:return Ty(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ws(i,i.type,l.value),qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vr(i),h=He(h),l=l(h),i.flags|=1,qe(e,i,l,a),i.child;case 14:return by(e,i,i.type,i.pendingProps,a);case 15:return Sy(e,i,i.type,i.pendingProps,a);case 19:return Oy(e,i,a);case 31:return QS(e,i,a);case 22:return Ay(e,i,a,i.pendingProps);case 24:return Vr(i),l=He(Te),e===null?(h=Sf(),h===null&&(h=Zt,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),ws(i,Te,h)):((e.lanes&a)!==0&&(Rf(e,i),nl(i,null,null,a),el()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,Te,l)):(l=d.cache,ws(i,Te,l),l!==h.cache&&Ef(i,[Te],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qi(e){e.flags|=4}function od(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(a_())e.flags|=8192;else throw Pr=Xu,Af}else e.flags&=-16777217}function Vy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!X_(i))if(a_())e.flags|=8192;else throw Pr=Xu,Af}function fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_u():536870912,e.lanes|=i,Ba|=i)}function ll(e,i){if(!Mt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function $S(e,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(Te),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?Qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Qi(i),d!==null?(ee(i),Vy(i,d)):(ee(i),od(i,h,null,l,a))):d?d!==e.memoizedState?(Qi(i),ee(i),Vy(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qi(i),ee(i),od(i,h,e,l,a)),null;case 27:if(aa(i),a=At.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ee(i),null}e=rt.current,Ca(i)?dg(i):(e=B_(h,l,a),i.stateNode=e,Qi(i))}return ee(i),null;case 5:if(aa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ee(i),null}if(d=rt.current,Ca(i))dg(i);else{var _=Ic(At.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[_e]=i,d[ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(i)}}return ee(i),od(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=At.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N_(e.nodeValue,a)),e||As(i,!0)}else e=Ic(e).createTextNode(l),e[_e]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ca(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ee(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=i}else Or(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),ee(i),null);case 4:return se(),e===null&&xd(i.stateNode.containerInfo),ee(i),null;case 10:return Fi(i.type),ee(i),null;case 19:if(Q(de),l=i.memoizedState,l===null)return ee(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Zu(e),d!==null){for(i.flags|=128,ll(l,!1),e=d.updateQueue,i.updateQueue=e,fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)lg(a,e),a=a.sibling;return it(de,de.current&1|2),Mt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>yc&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(e=Zu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,fc(i,e),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Mt)return ee(i),null}else 2*tn()-l.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=de.current,it(de,h?a&1|2:a&1),Mt&&Hi(i,l.treeForkCount),e):(ee(i),null);case 22:case 23:return vn(i),Nf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Q(kr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(Te),ee(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function JS(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fi(Te),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Or()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(de),null;case 4:return se(),null;case 10:return Fi(i.type),null;case 22:case 23:return vn(i),Nf(),e!==null&&Q(kr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fi(Te),null;case 25:return null;default:return null}}function ky(e,i){switch(pf(i),i.tag){case 3:Fi(Te),se();break;case 26:case 27:case 5:aa(i);break;case 4:se();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Q(de);break;case 10:Fi(i.type);break;case 22:case 23:vn(i),Nf(),e!==null&&Q(kr);break;case 24:Fi(Te)}}function ul(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Ds(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var N=a,j=E;try{j()}catch(F){Yt(h,N,F)}}}l=l.next}while(l!==d)}}catch(F){Yt(i,i.return,F)}}function Ly(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Rg(i,a)}catch(l){Yt(e,e.return,l)}}}function Py(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function wi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Uy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function ld(e,i,a){try{var l=e.stateNode;vA(l,e.type,a,i),l[ke]=i}catch(h){Yt(e,e.return,h)}}function jy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Us(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(cd(e,i,a),e=e.sibling;e!==null;)cd(e,i,a),e=e.sibling}function dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,i,a),e=e.sibling;e!==null;)dc(e,i,a),e=e.sibling}function zy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[_e]=e,i[ke]=a}catch(d){Yt(e,e.return,d)}}var Xi=!1,Ae=!1,hd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function WS(e,i){if(e=e.containerInfo,Od=Vc,e=Zp(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,N=-1,j=0,F=0,Y=e,z=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==d||l!==0&&Y.nodeType!==3||(N=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===a&&++j===h&&(E=_),z===d&&++F===l&&(N=_),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},Vc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var at=zr(a.type,h);e=l.getSnapshotBeforeUpdate(at,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),l&4&&ul(5,a);break;case 1:if(Ji(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Ly(a),l&512&&cl(a,a.return);break;case 3:if(Ji(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Ji(e,a),i===null&&l&4&&Uy(a),l&512&&cl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),l&4&&Gy(e,a);break;case 13:Ji(e,a),l&4&&Ky(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=oA.bind(null,a),IA(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ae,h=Xi;var d=Ae;Xi=l,(Ae=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),Xi=h,Ae=d}break;case 30:break;default:Ji(e,a)}}function qy(e){var i=e.alternate;i!==null&&(e.alternate=null,qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,on=!1;function $i(e,i,a){for(a=a.child;a!==null;)Fy(e,i,a),a=a.sibling}function Fy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ae||wi(a,i),$i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||wi(a,i);var l=ae,h=on;Us(a.type)&&(ae=a.stateNode,on=!1),$i(e,i,a),vl(a.stateNode),ae=l,on=h;break;case 5:Ae||wi(a,i);case 6:if(l=ae,h=on,ae=null,$i(e,i,a),ae=l,on=h,ae!==null)if(on)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:ae!==null&&(on?(e=ae,L_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):L_(ae,a.stateNode));break;case 4:l=ae,h=on,ae=a.stateNode.containerInfo,on=!0,$i(e,i,a),ae=l,on=h;break;case 0:case 11:case 14:case 15:Ds(2,a,i),Ae||Ds(4,a,i),$i(e,i,a);break;case 1:Ae||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),$i(e,i,a);break;case 21:$i(e,i,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,$i(e,i,a),Ae=l;break;default:$i(e,i,a)}}function Gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){Yt(i,i.return,a)}}}function Ky(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){Yt(i,i.return,a)}}function ZS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new By),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new By),i;default:throw Error(r(435,e.tag))}}function mc(e,i){var a=ZS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=lA.bind(null,e,l);l.then(h,h)}})}function ln(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){ae=E.stateNode,on=!1;break t}break;case 5:ae=E.stateNode,on=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Fy(d,_,h),ae=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,e),i=i.sibling}var Zn=null;function Yy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),l&4&&(Ds(3,e,e.return),ul(3,e),Ds(5,e,e.return));break;case 1:ln(i,e),un(e),l&512&&(Ae||a===null||wi(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(ln(i,e),un(e),l&512&&(Ae||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[_e]=e,ve(d),l=d;break t;case"link":var _=Y_("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Y_("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[_e]=e,ve(d),l=d}e.stateNode=l}else Q_(h,e.type,e.stateNode);else e.stateNode=K_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,e.type,e.stateNode):K_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),l&512&&(Ae||a===null||wi(a,a.return)),a!==null&&l&4&&ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),l&512&&(Ae||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){Yt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ld(e,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(ln(i,e),un(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(at){Yt(e,e.return,at)}}break;case 3:if(Nc=null,h=Zn,Zn=Cc(i.containerInfo),ln(i,e),Zn=h,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(at){Yt(e,e.return,at)}hd&&(hd=!1,Qy(e));break;case 4:l=Zn,Zn=Cc(e.stateNode.containerInfo),ln(i,e),un(e),Zn=l;break;case 12:ln(i,e),un(e);break;case 31:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Xi,F=Ae;if(Xi=j||h,Ae=F||N,ln(i,e),Ae=F,Xi=j,un(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Xi||Ae||Br(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(N,N.return,at)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(at){Yt(N,N.return,at)}}}else if(i.tag===18){if(a===null){N=i;try{var q=N.stateNode;h?P_(q,!0):P_(N.stateNode,!1)}catch(at){Yt(N,N.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mc(e,a))));break;case 19:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(e);dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var E=ud(e);dc(e,E,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=ud(e);cd(e,j,N);break;default:throw Error(r(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function Br(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ds(4,i,i.return),Br(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),Br(i);break;case 27:vl(i.stateNode);case 26:case 5:wi(i,i.return),Br(i);break;case 22:i.memoizedState===null&&Br(i);break;case 30:Br(i);break;default:Br(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),ul(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)wg(N[h],E)}catch(j){Yt(l,l.return,j)}}a&&_&64&&Ly(d),cl(d,d.return);break;case 27:zy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Uy(d),cl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&Gy(h,d);break;case 13:Wi(h,d,a),a&&_&4&&Ky(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),cl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function fd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e))}function ti(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(e,i,a,l),i=i.sibling}function Xy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i,a,l),h&2048&&ul(9,i);break;case 1:ti(e,i,a,l);break;case 3:ti(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ti(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Yt(i,i.return,N)}}else ti(e,i,a,l);break;case 31:ti(e,i,a,l);break;case 13:ti(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(e,i,a,l):hl(e,i):d._visibility&2?ti(e,i,a,l):(d._visibility|=2,Ua(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:ti(e,i,a,l),h&2048&&dd(i.alternate,i);break;default:ti(e,i,a,l)}}function Ua(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,E,N,h),ul(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ua(d,_,E,N,h):hl(d,_):(F._visibility|=2,Ua(d,_,E,N,h)),h&&j&2048&&fd(_.alternate,_);break;case 24:Ua(d,_,E,N,h),h&&j&2048&&dd(_.alternate,_);break;default:Ua(d,_,E,N,h)}i=i.sibling}}function hl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&fd(l.alternate,l);break;case 24:hl(a,l),h&2048&&dd(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function ja(e,i,a){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)$y(e,i,a),e=e.sibling}function $y(e,i,a){switch(e.tag){case 26:ja(e,i,a),e.flags&fl&&e.memoizedState!==null&&jA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:ja(e,i,a);break;case 3:case 4:var l=Zn;Zn=Cc(e.stateNode.containerInfo),ja(e,i,a),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,ja(e,i,a),fl=l):ja(e,i,a));break;default:ja(e,i,a)}}function Jy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Zy(l,e)}Jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pc(e)):dl(e);break;default:dl(e)}}function pc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Zy(l,e)}Jy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ds(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}e=e.sibling}}function Zy(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(qy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var tA={getCacheForType:function(e){var i=He(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Te).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,Rt=null,Ct=0,Kt=0,En=null,Os=!1,za=!1,md=!1,Zi=0,ce=0,Ms=0,Hr=0,pd=0,Tn=0,Ba=0,ml=null,cn=null,gd=!1,gc=0,t_=0,yc=1/0,_c=null,Vs=null,Ne=0,ks=null,Ha=null,ts=0,yd=0,_d=null,e_=null,pl=0,vd=null;function bn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?wd():vu()}function n_(){if(Tn===0)if((Ct&536870912)===0||Mt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,i,a){(e===Zt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Ls(e,Ct,Tn,!1)),gr(e,a),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Hr|=a),ce===4&&Ls(e,Ct,Tn,!1)),Ri(e))}function i_(e,i,a){if((Bt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Fn(e,i),h=l?sA(e,i):Td(e,i,!0),d=l;do{if(h===0){za&&!l&&Ls(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!nA(a)){h=Td(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=ml;var N=E.current.memoizedState.isDehydrated;if(N&&(qa(E,_).flags|=256),_=Td(E,_,!1),_!==2){if(md&&!N){E.errorRecoveryDisabledLanes|=d,Hr|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(e,0),Ls(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ls(l,i,Tn,!Os);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=gc+300-tn(),10<h)){if(Ls(l,i,Tn,!Os),li(l,0,!0)!==0)break t;ts=i,l.timeoutHandle=V_(s_.bind(null,l,a,cn,_c,gd,i,Tn,Hr,Ba,Os,d,"Throttled",-0,0),h);break t}s_(l,a,cn,_c,gd,i,Tn,Hr,Ba,Os,d,null,-0,0)}}break}while(!0);Ri(e)}function s_(e,i,a,l,h,d,_,E,N,j,F,Y,z,q){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},$y(i,d,Y);var at=(d&62914560)===d?gc-tn():(d&4194048)===d?t_-tn():0;if(at=zA(Y,at),at!==null){ts=d,e.cancelPendingCommit=at(f_.bind(null,e,i,d,a,l,h,_,E,N,F,Y,null,z,q)),Ls(e,d,_,!j);return}}f_(e,i,d,a,l,h,_,E,N)}function nA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(e,i,a,l){i&=~pd,i&=~Hr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-he(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&yr(e,a,i)}function vc(){return(Bt&6)===0?(gl(0),!1):!0}function Ed(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,qi=Mr=null,Lf(e),Ma=null,Wo=0,e=Rt;for(;e!==null;)ky(e.alternate,e),e=e.return;Rt=null}}function qa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,Ed(),Zt=e,Rt=a=Bi(e.current,null),Ct=i,Kt=0,En=null,Os=!1,za=Fn(e,i),md=!1,Ba=Tn=pd=Hr=Ms=ce=0,cn=ml=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-he(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,zu(),a}function r_(e,i){St=null,G.H=al,i===Oa||i===Qu?(i=Tg(),Kt=3):i===Af?(i=Tg(),Kt=4):Kt=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Rt===null&&(ce=1,lc(e,Mn(i,e.current)))}function a_(){var e=_n.current;return e===null?!0:(Ct&4194048)===Ct?Pn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Pn:!1}function o_(){var e=G.H;return G.H=al,e===null?al:e}function l_(){var e=G.A;return G.A=tA,e}function Ec(){ce=4,Os||(Ct&4194048)!==Ct&&_n.current!==null||(za=!0),(Ms&134217727)===0&&(Hr&134217727)===0||Zt===null||Ls(Zt,Ct,Tn,!1)}function Td(e,i,a){var l=Bt;Bt|=2;var h=o_(),d=l_();(Zt!==e||Ct!==i)&&(_c=null,qa(e,i)),i=!1;var _=ce;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,N=En;switch(Kt){case 8:Ed(),_=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Kt;if(Kt=0,En=null,Fa(e,E,N,j),a&&za){_=0;break t}break;default:j=Kt,Kt=0,En=null,Fa(e,E,N,j)}}iA(),_=ce;break}catch(F){r_(e,F)}while(!0);return i&&e.shellSuspendCounter++,qi=Mr=null,Bt=l,G.H=h,G.A=d,Rt===null&&(Zt=null,Ct=0,zu()),_}function iA(){for(;Rt!==null;)u_(Rt)}function sA(e,i){var a=Bt;Bt|=2;var l=o_(),h=l_();Zt!==e||Ct!==i?(_c=null,yc=tn()+500,qa(e,i)):za=Fn(e,i);t:do try{if(Kt!==0&&Rt!==null){i=Rt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,Fa(e,i,d,1);break;case 2:case 9:if(vg(d)){Kt=0,En=null,c_(i);break}i=function(){Kt!==2&&Kt!==9||Zt!==e||(Kt=7),Ri(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:vg(d)?(Kt=0,En=null,c_(i)):(Kt=0,En=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Rt.tag){case 26:_=Rt.memoizedState;case 5:case 27:var E=Rt;if(_?X_(_):E.stateNode.complete){Kt=0,En=null;var N=E.sibling;if(N!==null)Rt=N;else{var j=E.return;j!==null?(Rt=j,Tc(j)):Rt=null}break e}}Kt=0,En=null,Fa(e,i,d,5);break;case 6:Kt=0,En=null,Fa(e,i,d,6);break;case 8:Ed(),ce=6;break t;default:throw Error(r(462))}}rA();break}catch(F){r_(e,F)}while(!0);return qi=Mr=null,G.H=l,G.A=h,Bt=a,Rt!==null?0:(Zt=null,Ct=0,zu(),ce)}function rA(){for(;Rt!==null&&!$h();)u_(Rt)}function u_(e){var i=My(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?Tc(e):Rt=i}function c_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:Lf(i);default:ky(a,i),i=Rt=lg(i,Zi),i=My(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?Tc(e):Rt=i}function Fa(e,i,a,l){qi=Mr=null,Lf(i),Ma=null,Wo=0;var h=i.return;try{if(YS(e,h,i,a,Ct)){ce=1,lc(e,Mn(a,e.current)),Rt=null;return}}catch(d){if(h!==null)throw Rt=h,d;ce=1,lc(e,Mn(a,e.current)),Rt=null;return}i.flags&32768?(Mt||l===1?e=!0:za||(Ct&536870912)!==0?e=!1:(Os=e=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,e)):Tc(i)}function Tc(e){var i=e;do{if((i.flags&32768)!==0){h_(i,Os);return}e=i.return;var a=$S(i.alternate,i,Zi);if(a!==null){Rt=a;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);ce===0&&(ce=5)}function h_(e,i){do{var a=JS(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ce=6,Rt=null}function f_(e,i,a,l,h,d,_,E,N){e.cancelPendingCommit=null;do bc();while(Ne!==0);if((Bt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=uf,Zh(e,a,d,_,E,N),e===Zt&&(Rt=Zt=null,Ct=0),Ha=i,ks=e,ts=a,yd=d,_d=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uA(fs,function(){return y_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=nt.p,nt.p=2,_=Bt,Bt|=4;try{WS(e,i,a)}finally{Bt=_,nt.p=h,G.T=l}}Ne=1,d_(),m_(),p_()}}function d_(){if(Ne===1){Ne=0;var e=ks,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Yy(i,e);var d=Md,_=Zp(e.containerInfo),E=d.focusedElem,N=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Wp(E.ownerDocument.documentElement,E)){if(N!==null&&sf(E)){var j=N.start,F=N.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,pt=Math.min(N.start,at),Wt=N.end===void 0?pt:Math.min(N.end,at);!q.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var k=Jp(E,pt),D=Jp(E,Wt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),pt>Wt?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Vc=!!Od,Md=Od=null}finally{Bt=h,nt.p=l,G.T=a}}e.current=i,Ne=2}}function m_(){if(Ne===2){Ne=0;var e=ks,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Hy(e,i.alternate,i)}finally{Bt=h,nt.p=l,G.T=a}}Ne=3}}function p_(){if(Ne===4||Ne===3){Ne=0,fu();var e=ks,i=Ha,a=ts,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,Ha=ks=null,g_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Pi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{G.T=i,nt.p=h}}(ts&3)!==0&&bc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===vd?pl++:(pl=0,vd=e):pl=0,gl(0)}}function g_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$o(i)))}function bc(){return d_(),m_(),p_(),y_()}function y_(){if(Ne!==5)return!1;var e=ks,i=yd;yd=0;var a=Pi(ts),l=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=_d,_d=null;var d=ks,_=ts;if(Ne=0,Ha=ks=null,ts=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,Wy(d.current),Xy(d,d.current,_,a),Bt=E,gl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{nt.p=h,G.T=l,g_(e,i)}}function __(e,i,a){i=Mn(a,i),i=Jf(e.stateNode,i,2),e=Cs(e,i,2),e!==null&&(gr(e,2),Ri(e))}function Yt(e,i,a){if(e.tag===3)__(e,e,a);else for(;i!==null;){if(i.tag===3){__(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Mn(a,e),a=vy(2),l=Cs(i,a,2),l!==null&&(Ey(a,l,i,e),gr(l,2),Ri(l));break}}i=i.return}}function bd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new eA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),e=aA.bind(null,e,i,a),i.then(e,e))}function aA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Ct&a)===a&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>tn()-gc?(Bt&2)===0&&qa(e,0):pd|=a,Ba===Ct&&(Ba=0)),Ri(e)}function v_(e,i){i===0&&(i=_u()),e=Nr(e,i),e!==null&&(gr(e,i),Ri(e))}function oA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(e,a)}function lA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),v_(e,a)}function uA(e,i){return xe(e,i)}var Sc=null,Ga=null,Sd=!1,Ac=!1,Ad=!1,Ps=0;function Ri(e){e!==Ga&&e.next===null&&(Ga===null?Sc=Ga=e:Ga=Ga.next=e),Ac=!0,Sd||(Sd=!0,hA())}function gl(e,i){if(!Ad&&Ac){Ad=!0;do for(var a=!1,l=Sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-he(42|e)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=Ct,d=li(l,l===Zt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,S_(l,d));l=l.next}while(a);Ad=!1}}function cA(){E_()}function E_(){Ac=Sd=!1;var e=0;Ps!==0&&TA()&&(e=Ps);for(var i=tn(),a=null,l=Sc;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Ac=!0)),l=h}Ne!==0&&Ne!==5||gl(e),Ps!==0&&(Ps=0)}function T_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-he(d),E=1<<_,N=h[_];N===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Wh(E,i)):N<=i&&(e.expiredLanes|=E),d&=~E}if(i=Zt,a=Ct,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&hs(l),Pi(a)){case 2:case 8:a=Ro;break;case 32:a=fs;break;case 268435456:a=du;break;default:a=fs}return l=b_.bind(null,e),a=xe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&hs(l),e.callbackPriority=2,e.callbackNode=null,2}function b_(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bc()&&e.callbackNode!==a)return null;var l=Ct;return l=li(e,e===Zt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(i_(e,l,i),T_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?b_.bind(null,e):null)}function S_(e,i){if(bc())return null;i_(e,i,!0)}function hA(){SA(function(){(Bt&6)!==0?xe(wo,cA):E_()})}function wd(){if(Ps===0){var e=Na;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ps=e}return Ps}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function w_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function fA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[ke]||null).action),_=l.submitter;_&&(i=(i=_[ke]||null)?A_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new vi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var N=_?w_(h,_):new FormData(h);Gf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(E.preventDefault(),N=_?w_(h,_):new FormData(h),Gf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Id=lf[Rd],dA=Id.toLowerCase(),mA=Id[0].toUpperCase()+Id.slice(1);Wn(dA,"on"+mA)}Wn(ng,"onAnimationEnd"),Wn(ig,"onAnimationIteration"),Wn(sg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(NS,"onTransitionRun"),Wn(DS,"onTransitionStart"),Wn(OS,"onTransitionCancel"),Wn(rg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function R_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(F){ju(F)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(E=l[_],N=E.instance,j=E.currentTarget,E=E.listener,N!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(F){ju(F)}h.currentTarget=null,d=N}}}}function It(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(I_(i,e,2,!1),a.add(l))}function Cd(e,i,a){var l=0;i&&(l|=4),I_(a,e,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[wc]){e[wc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,Cd("selectionchange",!1,i))}}function I_(e,i,a,l){switch(nv(i)){case 2:var h=qA;break;case 8:h=FA;break;default:h=Fd}a=h.bind(null,i,a,e),h=void 0,!br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=fi(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}E=E.parentNode}}l=l.return}_s(function(){var j=d,F=xn(a),Y=[];t:{var z=ag.get(e);if(z!==void 0){var q=vi,at=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":q=Lu;break;case"focusin":at="focus",q=Rr;break;case"focusout":at="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case ng:case ig:case sg:q=xu;break;case rg:q=T;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=bt}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?z!==null?z+"Capture":null:z;pt=[];for(var D=j,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Qn(D,k),K!=null&&pt.push(_l(D,K,U))),Wt)break;D=D.return}0<pt.length&&(z=new q(z,at,null,a,F),Y.push({event:z,listeners:pt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Uo&&(at=a.relatedTarget||a.fromElement)&&(fi(at)||at[ci]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=j,at=at?fi(at):null,at!==null&&(Wt=u(at),pt=at.tag,at!==Wt||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(q=null,at=j),q!==at)){if(pt=Ho,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=zi,K="onPointerLeave",k="onPointerEnter",D="pointer"),Wt=q==null?z:mn(q),U=at==null?z:mn(at),z=new pt(K,D+"leave",q,a,F),z.target=Wt,z.relatedTarget=U,K=null,fi(F)===j&&(pt=new pt(k,D+"enter",at,a,F),pt.target=U,pt.relatedTarget=Wt,K=pt),Wt=K,q&&at)e:{for(pt=gA,k=q,D=at,U=0,K=k;K;K=pt(K))U++;K=0;for(var ct=D;ct;ct=pt(ct))K++;for(;0<U-K;)k=pt(k),U--;for(;0<K-U;)D=pt(D),K--;for(;U--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;q!==null&&C_(Y,z,q,pt,!1),at!==null&&Wt!==null&&C_(Y,Wt,at,pt,!0)}}t:{if(z=j?mn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ut=Gp;else if(qp(z))if(Kp)Ut=IS;else{Ut=wS;var lt=AS}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ma(j.elementType)&&(Ut=Gp):Ut=RS;if(Ut&&(Ut=Ut(e,j))){Fp(Y,Ut,a,F);break t}lt&&lt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(lt=j?mn(j):window,e){case"focusin":(qp(lt)||lt.contentEditable==="true")&&(ba=lt,rf=j,Yo=null);break;case"focusout":Yo=rf=ba=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,tg(Y,a,F);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":tg(Y,a,F)}var wt;if(zt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Ta?Ir(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(bi&&a.locale!=="ko"&&(Ta||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Ta&&(wt=zo()):(_i=F,jo="value"in _i?_i.value:_i.textContent,Ta=!0)),lt=Rc(j,xt),0<lt.length&&(xt=new Ti(xt,e,null,a,F),Y.push({event:xt,listeners:lt}),wt?xt.data=wt:(wt=Ea(a),wt!==null&&(xt.data=wt)))),(wt=Dn?ES(e,a):TS(e,a))&&(xt=Rc(j,"onBeforeInput"),0<xt.length&&(lt=new Ti("onBeforeInput","beforeinput",null,a,F),Y.push({event:lt,listeners:xt}),lt.data=wt)),fA(Y,e,j,a,F)}R_(Y,i)})}function _l(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(e,a),h!=null&&l.unshift(_l(e,h,d)),h=Qn(e,i),h!=null&&l.push(_l(e,h,d))),e.tag===3)return l;e=e.return}return[]}function gA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function C_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=Qn(a,d),j!=null&&_.unshift(_l(a,j,N))):h||(j=Qn(a,d),j!=null&&_.push(_l(a,j,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(_A,"")}function N_(e,i){return i=x_(i),x_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(e,""+l);break;case"className":pn(e,"class",l);break;case"tabIndex":pn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,l);break;case"style":Po(e,l,d);break;case"data":if(i!=="object"){pn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":It("beforetoggle",e),It("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,fa(e,a,l))}}function Dd(e,i,a,l,h,d){switch(a){case"style":Po(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":It("invalid",e);var E=d=_=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":_=F;break;case"checked":N=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:Jt(e,i,l,F,a,null)}}Su(e,d,E,N,j,_,h,!1);return;case"select":It("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Jt(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?ms(e,!!l,i,!1):a!=null&&ms(e,!!l,a,!0);return;case"textarea":It("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,i,_,E,a,null)}ps(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,N,l,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)It(yl[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,j,l,a,null)}return;default:if(ma(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Dd(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(e,i,E,l,a,null))}function vA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,N=null,j=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Y;default:l.hasOwnProperty(q)||Jt(e,i,q,null,l,Y)}}for(var z in l){var q=l[z];if(Y=a[z],l.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Y&&Jt(e,i,z,q,l,Y)}}da(e,_,E,N,j,F,d,h);return;case"select":q=_=E=z=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==N&&Jt(e,i,h,d,l,N)}i=E,a=_,l=q,z!=null?ms(e,!!a,z,!1):!!l!=!!a&&(i!=null?ms(e,!!a,i,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}Au(e,z,q);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Jt(e,i,at,null,l,z)}for(N in l)if(z=l[N],q=a[N],l.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,i,N,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!l.hasOwnProperty(pt)&&Jt(e,i,pt,null,l,z);for(j in l)if(z=l[j],q=a[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Jt(e,i,j,z,l,q)}return;default:if(ma(i)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!l.hasOwnProperty(Wt)&&Dd(e,i,Wt,void 0,l,z);for(F in l)z=l[F],q=a[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||Dd(e,i,F,z,l,q);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Jt(e,i,k,null,l,z);for(Y in l)z=l[Y],q=a[Y],!l.hasOwnProperty(Y)||z===q||z==null&&q==null||Jt(e,i,Y,z,l,q)}function D_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&D_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>E)break;var F=N.transferSize,Y=N.initiatorType;F&&D_(Y)&&(N=N.responseEnd,_+=F*(N<E?1:(E-j)/(N-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Od=null,Md=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function O_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(e){return k_.resolve(null).then(e).catch(AA)}:V_;function AA(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function L_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(e.ownerDocument.body);a=h}while(a);Xa(i)}function P_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function RA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function U_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var jd=null;function j_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function z_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function B_(e,i,a){switch(i=Ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function vl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var jn=new Map,H_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=nt.d;nt.d={f:CA,r:xA,D:NA,C:DA,L:OA,m:MA,X:kA,S:VA,M:LA};function CA(){var e=es.f(),i=vc();return e||i}function xA(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?ry(i):es.r(e)}var Ka=typeof document>"u"?null:document;function q_(e,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),ve(i),l.head.appendChild(i)))}}function NA(e){es.D(e),q_("dns-prefetch",e,null)}function DA(e,i){es.C(e,i),q_("preconnect",e,i)}function OA(e,i,a){es.L(e,i,a);var l=Ka;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ya(e);break;case"script":d=Qa(e)}jn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),Fe(i,"link",e),ve(i),l.head.appendChild(i)))}}function MA(e,i){es.m(e,i);var a=Ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(e)}if(!jn.has(d)&&(e=A({rel:"modulepreload",href:e},i),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),Fe(l,"link",e),ve(l),a.head.appendChild(l)}}}function VA(e,i,a){es.S(e,i,a);var l=Ka;if(l&&e){var h=di(l).hoistableStyles,d=Ya(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(El(d)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(d))&&zd(e,a);var N=_=l.createElement("link");ve(N),Fe(N,"link",e),N._p=new Promise(function(j,F){N.onload=j,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function kA(e,i){es.X(e,i);var a=Ka;if(a&&e){var l=di(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0},i),(i=jn.get(h))&&Bd(e,i),d=a.createElement("script"),ve(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function LA(e,i){es.M(e,i);var a=Ka;if(a&&e){var l=di(a).hoistableScripts,h=Qa(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Bd(e,i),d=a.createElement("script"),ve(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(e,i,a,l){var h=(h=At.current)?Cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ya(a.href);var d=di(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(El(e)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||PA(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ya(e){return'href="'+rn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function G_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function PA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),ve(i),e.head.appendChild(i))}function Qa(e){return'[src="'+rn(e)+'"]'}function Tl(e){return"script[async]"+e}function K_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,ve(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),Fe(l,"style",h),xc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ya(a.href);var d=e.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,ve(d),d;l=G_(a),(h=jn.get(h))&&zd(l,h),d=(e.ownerDocument||e).createElement("link"),ve(d);var _=d;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Fe(d,"link",l),i.state.loading|=4,xc(d,a.precedence,e),i.instance=d;case"script":return d=Qa(a.src),(h=e.querySelector(Tl(d)))?(i.instance=h,ve(h),h):(l=a,(h=jn.get(d))&&(l=A({},a),Bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,e));return i.instance}function xc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function Y_(e,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function Q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function UA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(El(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Dc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,ve(d);return}d=i.ownerDocument||i,l=G_(l),(h=jn.get(h))&&zd(l,h),d=d.createElement("link"),ve(d);var _=d;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function zA(e,i){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Hd===0&&(Hd=62500*EA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Hd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,i.forEach(BA,e),Oc=null,Dc.call(e))}function BA(e,i){if(!(i.state.loading&4)){var a=Oc.get(e);if(a)var l=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var bl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function HA(e,i,a,l,h,d,_,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $_(e,i,a,l,h,d,_,E,N,j,F,Y){return e=new HA(e,i,a,_,N,j,F,Y,E),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),e.current=d,d.stateNode=e,i=Tf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),e}function J_(e){return e?(e=wa,e):wa}function W_(e,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cs(e,l,i),a!==null&&(hn(a,e,i),tl(a,e,i))}function Z_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function qd(e,i){Z_(e,i),(e=e.alternate)&&Z_(e,i)}function tv(e){if(e.tag===13||e.tag===31){var i=Nr(e,67108864);i!==null&&hn(i,e,67108864),qd(e,67108864)}}function ev(e){if(e.tag===13||e.tag===31){var i=bn();i=_r(i);var a=Nr(e,i);a!==null&&hn(a,e,i),qd(e,i)}}var Vc=!0;function qA(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=2,Fd(e,i,a,l)}finally{nt.p=d,G.T=h}}function FA(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=8,Fd(e,i,a,l)}finally{nt.p=d,G.T=h}}function Fd(e,i,a,l){if(Vc){var h=Gd(l);if(h===null)Nd(e,i,l,kc,a),iv(e,l);else if(KA(h,e,i,a,l))l.stopPropagation();else if(iv(e,l),i&4&&-1<GA.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-he(_);E.entanglements[1]|=N,_&=~N}Ri(d),(Bt&6)===0&&(yc=tn()+500,gl(0))}}break;case 31:case 13:E=Nr(d,2),E!==null&&hn(E,d,2),vc(),qd(d,2)}if(d=Gd(l),d===null&&Nd(e,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(e,i,l,null,a)}}function Gd(e){return e=xn(e),Kd(e)}var kc=null;function Kd(e){if(kc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return kc=e,null}function nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case wo:return 2;case Ro:return 8;case fs:case Jh:return 32;case du:return 268435456;default:return 32}default:return 32}}var Yd=!1,js=null,zs=null,Bs=null,Sl=new Map,Al=new Map,Hs=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(e,i){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&tv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function KA(e,i,a,l,h){switch(i){case"focusin":return js=wl(js,e,i,a,l,h),!0;case"dragenter":return zs=wl(zs,e,i,a,l,h),!0;case"mouseover":return Bs=wl(Bs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,wl(Sl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,wl(Al.get(d)||null,e,i,a,l,h)),!0}return!1}function sv(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){ev(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Gn(e.priority,function(){ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=Cn(a),i!==null&&tv(i),e.blockedOn=a,!1;i.shift()}return!0}function rv(e,i,a){Lc(e)&&a.delete(i)}function YA(){Yd=!1,js!==null&&Lc(js)&&(js=null),zs!==null&&Lc(zs)&&(zs=null),Bs!==null&&Lc(Bs)&&(Bs=null),Sl.forEach(rv),Al.forEach(rv)}function Pc(e,i){e.blockedOn===i&&(e.blockedOn=null,Yd||(Yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,YA)))}var Uc=null;function av(e){Uc!==e&&(Uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(e){function i(N){return Pc(N,e)}js!==null&&Pc(js,e),zs!==null&&Pc(zs,e),Bs!==null&&Pc(Bs,e),Sl.forEach(i),Al.forEach(i);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&Hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ke]||null;if(typeof d=="function")_||av(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ke]||null)E=_.formAction;else if(Kd(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),av(a)}}}function ov(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qd(e){this._internalRoot=e}jc.prototype.render=Qd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();W_(a,l,e,i,null,null)},jc.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;W_(e.current,2,null,e,null,null),vc(),i[ci]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,e),a===0&&sv(e)}};var lv=t.version;if(lv!=="19.2.0")throw Error(r(527,lv,"19.2.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var QA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{qn=zc.inject(QA),je=zc}catch{}}return Il.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=py,d=gy,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$_(e,1,!1,null,null,a,l,null,h,d,_,ov),e[ci]=i.current,xd(e),new Qd(i)},Il.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=py,_=gy,E=yy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=$_(e,1,!0,i,a??null,l,h,N,d,_,E,ov),i.context=J_(null),a=i.current,l=bn(),l=_r(l),h=Is(l),h.callback=null,Cs(a,h,l),a=l,i.current.lanes=a,gr(i,a),Ri(i),e[ci]=i.current,xd(e),new jc(i)},Il.version="19.2.0",Il}var _v;function sw(){if(_v)return Jd.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=iw(),Jd.exports}var rw=sw();const aw=()=>{};var vv={};const EE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},ow=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,B=y&63;g||(B=64,f||(C=64)),r.push(n[b],n[A],n[C],n[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(EE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ow(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new lw;const C=u<<2|m>>4;if(r.push(C),y!==64){const B=m<<4&240|y>>2;if(r.push(B),A!==64){const $=y<<6&192|A;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uw=function(s){const t=EE(s);return TE.encodeByteArray(t,!0)},sh=function(s){return uw(s).replace(/\./g,"")},bE=function(s){try{return TE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hw=()=>cw().__FIREBASE_DEFAULTS__,fw=()=>{if(typeof process>"u"||typeof vv>"u")return;const s=vv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bE(s[1]);return t&&JSON.parse(t)},Rh=()=>{try{return aw()||hw()||fw()||dw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},SE=s=>Rh()?.emulatorHosts?.[s],mw=s=>{const t=SE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},AE=()=>Rh()?.config,wE=s=>Rh()?.[`_${s}`];class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(s){return(await fetch(s,{credentials:"include"})).ok}function gw(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const kl={};function yw(){const s={prod:[],emulator:[]};for(const t of Object.keys(kl))kl[t]?s.emulator.push(t):s.prod.push(t);return s}function _w(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let Ev=!1;function IE(s,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||kl[s]===t||kl[s]||Ev)return;kl[s]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=yw().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ev=!0,f()},C}function b(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=_w(r),B=n("text"),$=document.getElementById(B)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),et=n("preprendIcon"),ht=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const dt=C.element;m(dt),b(W,J);const Pt=y();g(ht,et),dt.append(ht,$,W,Pt),document.body.appendChild(dt)}u?($.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Ew(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sw(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Aw(){return!Ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function ww(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Rw="FirebaseError";class si extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Rw,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Iw(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new si(o,m,r)}}function Iw(s,t){return s.replace(Cw,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Cw=/\{\$([^}]+)}/g;function xw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function as(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(Tv(u)&&Tv(f)){if(!as(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Tv(s){return s!==null&&typeof s=="object"}function tu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Nl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function Nw(s,t){const n=new Dw(s,t);return n.subscribe.bind(n)}class Dw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ow(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ow(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function em(){}const Mw=1e3,Vw=2,kw=14400*1e3,Lw=.5;function bv(s,t=Mw,n=Vw){const r=t*Math.pow(n,s),o=Math.round(Lw*r*(Math.random()-.5)*2);return Math.min(kw,r+o)}function Ve(s){return s&&s._delegate?s._delegate:s}class ii{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class Pw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new pw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(s){return s===qr?void 0:s}function jw(s){return s.instantiationMode==="EAGER"}class zw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Pw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const Bw={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Hw=Nt.INFO,qw={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Fw=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=qw[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ih{constructor(t){this.name=t,this._logLevel=Hw,this._logHandler=Fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const Gw=(s,t)=>t.some(n=>s instanceof n);let Sv,Av;function Kw(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,_m=new WeakMap,OE=new WeakMap,nm=new WeakMap,Km=new WeakMap;function Qw(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n($s(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&DE.set(n,s)}).catch(()=>{}),Km.set(t,s),t}function Xw(s){if(_m.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});_m.set(s,t)}let vm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return _m.get(s);if(t==="objectStoreNames")return s.objectStoreNames||OE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $w(s){vm=s(vm)}function Jw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(im(this),t,...n);return OE.set(r,t.sort?t.sort():[t]),$s(r)}:Yw().includes(s)?function(...t){return s.apply(im(this),t),$s(DE.get(this))}:function(...t){return $s(s.apply(im(this),t))}}function Ww(s){return typeof s=="function"?Jw(s):(s instanceof IDBTransaction&&Xw(s),Gw(s,Kw())?new Proxy(s,vm):s)}function $s(s){if(s instanceof IDBRequest)return Qw(s);if(nm.has(s))return nm.get(s);const t=Ww(s);return t!==s&&(nm.set(s,t),Km.set(t,s)),t}const im=s=>Km.get(s);function ME(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=$s(f);return r&&f.addEventListener("upgradeneeded",g=>{r($s(f.result),g.oldVersion,g.newVersion,$s(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Zw=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],sm=new Map;function wv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=t1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Zw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return sm.set(t,u),u}$w(s=>({...s,get:(t,n,r)=>wv(t,n)||s.get(t,n,r),has:(t,n)=>!!wv(t,n)||s.has(t,n)}));class e1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n1(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",Rv="0.14.6";const os=new Ih("@firebase/app"),i1="@firebase/app-compat",s1="@firebase/analytics-compat",r1="@firebase/analytics",a1="@firebase/app-check-compat",o1="@firebase/app-check",l1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",b1="@firebase/remote-config-compat",S1="@firebase/storage",A1="@firebase/storage-compat",w1="@firebase/firestore",R1="@firebase/ai",I1="@firebase/firestore-compat",C1="firebase",x1="12.6.0";const Tm="[DEFAULT]",N1={[Em]:"fire-core",[i1]:"fire-core-compat",[r1]:"fire-analytics",[s1]:"fire-analytics-compat",[o1]:"fire-app-check",[a1]:"fire-app-check-compat",[l1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[b1]:"fire-rc-compat",[S1]:"fire-gcs",[A1]:"fire-gcs-compat",[w1]:"fire-fst",[I1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[C1]:"fire-js-all"};const rh=new Map,D1=new Map,bm=new Map;function Iv(s,t){try{s.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Vi(s){const t=s.name;if(bm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;bm.set(t,s);for(const n of rh.values())Iv(n,s);for(const n of D1.values())Iv(n,s);return!0}function ia(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Sn(s){return s==null?!1:s.settings!==void 0}const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new na("app","Firebase",O1);class M1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const go=x1;function VE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Tm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(n||(n=AE()),!n)throw Js.create("no-options");const u=rh.get(o);if(u){if(as(n,u.options)&&as(r,u.config))return u;throw Js.create("duplicate-app",{appName:o})}const f=new zw(o);for(const g of bm.values())f.addComponent(g);const m=new M1(n,r,f);return rh.set(o,m),m}function Ym(s=Tm){const t=rh.get(s);if(!t&&s===Tm&&AE())return VE();if(!t)throw Js.create("no-app",{appName:s});return t}function Bn(s,t,n){let r=N1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}Vi(new ii(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const V1="firebase-heartbeat-database",k1=1,ql="firebase-heartbeat-store";let rm=null;function kE(){return rm||(rm=ME(V1,k1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),rm}async function L1(s){try{const n=(await kE()).transaction(ql),r=await n.objectStore(ql).get(LE(s));return await n.done,r}catch(t){if(t instanceof si)os.warn(t.message);else{const n=Js.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function Cv(s,t){try{const r=(await kE()).transaction(ql,"readwrite");await r.objectStore(ql).put(t,LE(s)),await r.done}catch(n){if(n instanceof si)os.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function LE(s){return`${s.name}!${s.options.appId}`}const P1=1024,U1=30;class j1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>U1){const o=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xv(),{heartbeatsToSend:n,unsentEntries:r}=z1(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function xv(){return new Date().toISOString().substring(0,10)}function z1(s,t=P1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Nv(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function H1(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function q1(s){Vi(new ii("platform-logger",t=>new e1(t),"PRIVATE")),Vi(new ii("heartbeat",t=>new j1(t),"PRIVATE")),Bn(Em,Rv,s),Bn(Em,Rv,"esm2020"),Bn("fire-js","")}q1("");var F1="firebase",G1="12.6.0";Bn(F1,G1,"app");const PE="@firebase/installations",Qm="0.6.19";const UE=1e4,jE=`w:${Qm}`,zE="FIS_v2",K1="https://firebaseinstallations.googleapis.com/v1",Y1=3600*1e3,Q1="installations",X1="Installations";const $1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qr=new na(Q1,X1,$1);function BE(s){return s instanceof si&&s.code.includes("request-failed")}function HE({projectId:s}){return`${K1}/projects/${s}/installations`}function qE(s){return{token:s.token,requestStatus:2,expiresIn:W1(s.expiresIn),creationTime:Date.now()}}async function FE(s,t){const r=(await t.json()).error;return Qr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function J1(s,{refreshToken:t}){const n=GE(s);return n.append("Authorization",Z1(t)),n}async function KE(s){const t=await s();return t.status>=500&&t.status<600?s():t}function W1(s){return Number(s.replace("s","000"))}function Z1(s){return`${zE} ${s}`}async function tR({appConfig:s,heartbeatServiceProvider:t},{fid:n}){const r=HE(s),o=GE(s),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:zE,appId:s.appId,sdkVersion:jE},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await KE(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:qE(y.authToken)}}else throw await FE("Create Installation",g)}function YE(s){return new Promise(t=>{setTimeout(t,s)})}function eR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const nR=/^[cdef][\w-]{21}$/,Sm="";function iR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=sR(s);return nR.test(n)?n:Sm}catch{return Sm}}function sR(s){return eR(s).substr(0,22)}function Ch(s){return`${s.appName}!${s.appId}`}const QE=new Map;function XE(s,t){const n=Ch(s);$E(n,t),rR(n,t)}function $E(s,t){const n=QE.get(s);if(n)for(const r of n)r(t)}function rR(s,t){const n=aR();n&&n.postMessage({key:s,fid:t}),oR()}let Fr=null;function aR(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=s=>{$E(s.data.key,s.data.fid)}),Fr}function oR(){QE.size===0&&Fr&&(Fr.close(),Fr=null)}const lR="firebase-installations-database",uR=1,Xr="firebase-installations-store";let am=null;function Xm(){return am||(am=ME(lR,uR,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Xr)}}})),am}async function ah(s,t){const n=Ch(s),o=(await Xm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&XE(s,t.fid),t}async function JE(s){const t=Ch(s),r=(await Xm()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(t),await r.done}async function xh(s,t){const n=Ch(s),o=(await Xm()).transaction(Xr,"readwrite"),u=o.objectStore(Xr),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&XE(s,m.fid),m}async function $m(s){let t;const n=await xh(s.appConfig,r=>{const o=cR(r),u=hR(s,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Sm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function cR(s){const t=s||{fid:iR(),registrationStatus:0};return WE(t)}function hR(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qr.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=fR(s,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:dR(s)}:{installationEntry:t}}async function fR(s,t){try{const n=await tR(s,t);return ah(s.appConfig,n)}catch(n){throw BE(n)&&n.customData.serverCode===409?await JE(s.appConfig):await ah(s.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function dR(s){let t=await Dv(s.appConfig);for(;t.registrationStatus===1;)await YE(100),t=await Dv(s.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $m(s);return r||n}return t}function Dv(s){return xh(s,t=>{if(!t)throw Qr.create("installation-not-found");return WE(t)})}function WE(s){return mR(s)?{fid:s.fid,registrationStatus:0}:s}function mR(s){return s.registrationStatus===1&&s.registrationTime+UE<Date.now()}async function pR({appConfig:s,heartbeatServiceProvider:t},n){const r=gR(s,n),o=J1(s,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:jE,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await KE(()=>fetch(r,m));if(g.ok){const y=await g.json();return qE(y)}else throw await FE("Generate Auth Token",g)}function gR(s,{fid:t}){return`${HE(s)}/${t}/authTokens:generate`}async function Jm(s,t=!1){let n;const r=await xh(s.appConfig,u=>{if(!ZE(u))throw Qr.create("not-registered");const f=u.authToken;if(!t&&vR(f))return u;if(f.requestStatus===1)return n=yR(s,t),u;{if(!navigator.onLine)throw Qr.create("app-offline");const m=TR(u);return n=_R(s,m),m}});return n?await n:r.authToken}async function yR(s,t){let n=await Ov(s.appConfig);for(;n.authToken.requestStatus===1;)await YE(100),n=await Ov(s.appConfig);const r=n.authToken;return r.requestStatus===0?Jm(s,t):r}function Ov(s){return xh(s,t=>{if(!ZE(t))throw Qr.create("not-registered");const n=t.authToken;return bR(n)?{...t,authToken:{requestStatus:0}}:t})}async function _R(s,t){try{const n=await pR(s,t),r={...t,authToken:n};return await ah(s.appConfig,r),n}catch(n){if(BE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await JE(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await ah(s.appConfig,r)}throw n}}function ZE(s){return s!==void 0&&s.registrationStatus===2}function vR(s){return s.requestStatus===2&&!ER(s)}function ER(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+Y1}function TR(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function bR(s){return s.requestStatus===1&&s.requestTime+UE<Date.now()}async function SR(s){const t=s,{installationEntry:n,registrationPromise:r}=await $m(t);return r?r.catch(console.error):Jm(t).catch(console.error),n.fid}async function AR(s,t=!1){const n=s;return await wR(n),(await Jm(n,t)).token}async function wR(s){const{registrationPromise:t}=await $m(s);t&&await t}function RR(s){if(!s||!s.options)throw om("App Configuration");if(!s.name)throw om("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!s.options[n])throw om(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function om(s){return Qr.create("missing-app-config-values",{valueName:s})}const tT="installations",IR="installations-internal",CR=s=>{const t=s.getProvider("app").getImmediate(),n=RR(t),r=ia(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xR=s=>{const t=s.getProvider("app").getImmediate(),n=ia(t,tT).getImmediate();return{getId:()=>SR(n),getToken:o=>AR(n,o)}};function NR(){Vi(new ii(tT,CR,"PUBLIC")),Vi(new ii(IR,xR,"PRIVATE"))}NR();Bn(PE,Qm);Bn(PE,Qm,"esm2020");const oh="analytics",DR="firebase_id",OR="origin",MR=60*1e3,VR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wm="https://www.googletagmanager.com/gtag/js";const sn=new Ih("@firebase/analytics");const kR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new na("analytics","Analytics",kR);function LR(s){if(!s.startsWith(Wm)){const t=wn.create("invalid-gtag-resource",{gtagURL:s});return sn.warn(t.message),""}return s}function eT(s){return Promise.all(s.map(t=>t.catch(n=>n)))}function PR(s,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,t)),n}function UR(s,t){const n=PR("firebase-js-sdk-policy",{createScriptURL:LR}),r=document.createElement("script"),o=`${Wm}?l=${s}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function jR(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function zR(s,t,n,r,o,u){const f=r[o];try{if(f)await t[f];else{const g=(await eT(n)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(m){sn.error(m)}s("config",o,u)}async function BR(s,t,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await eT(n);for(const g of f){const y=m.find(A=>A.measurementId===g),b=y&&t[y.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,o||{})}catch(u){sn.error(u)}}function HR(s,t,n,r){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await BR(s,t,n,m,g)}else if(u==="config"){const[m,g]=f;await zR(s,t,n,r,m,g)}else if(u==="consent"){const[m,g]=f;s("consent",m,g)}else if(u==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){sn.error(m)}}return o}function qR(s,t,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=HR(u,s,t,n),{gtagCore:u,wrappedGtag:window[o]}}function FR(s){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Wm)&&n.src.includes(s))return n;return null}const GR=30,KR=1e3;class YR{constructor(t={},n=KR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const nT=new YR;function QR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function XR(s){const{appId:t,apiKey:n}=s,r={method:"GET",headers:QR(n)},o=VR.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function $R(s,t=nT,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw wn.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new ZR;return setTimeout(async()=>{m.abort()},MR),iT({appId:r,apiKey:o,measurementId:u},f,m,t)}async function iT(s,{throttleEndTimeMillis:t,backoffCount:n},r,o=nT){const{appId:u,measurementId:f}=s;try{await JR(r,t)}catch(m){if(f)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await XR(s);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!WR(g)){if(o.deleteThrottleMetadata(u),f)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?bv(n,o.intervalMillis,GR):bv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(u,b),sn.debug(`Calling attemptFetch again in ${y} millis`),iT(s,b,r,o)}}function JR(s,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(wn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function WR(s){if(!(s instanceof si)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class ZR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function tI(s,t,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await t,f={...r,send_to:u};s("event",n,f)}}async function eI(s,t,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await t;s("config",o,{update:!0,user_properties:n})}}async function nI(){if(xE())try{await NE()}catch(s){return sn.warn(wn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return sn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iI(s,t,n,r,o,u,f){const m=$R(s);m.then(C=>{n[C.measurementId]=C.appId,s.options.measurementId&&C.measurementId!==s.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>sn.error(C)),t.push(m);const g=nI().then(C=>{if(C)return r.getId()}),[y,b]=await Promise.all([m,g]);FR(u)||UR(u,y.measurementId),o("js",new Date);const A=f?.config??{};return A[OR]="firebase",A.update=!0,b!=null&&(A[DR]=b),o("config",y.measurementId,A),y.measurementId}class sI{constructor(t){this.app=t}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Mv=[];const Vv={};let lm="dataLayer",rI="gtag",kv,Zm,Lv=!1;function aI(){const s=[];if(CE()&&s.push("This is a browser extension environment."),ww()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:t});sn.warn(n.message)}}function oI(s,t,n){aI();const r=s.options.appId;if(!r)throw wn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(no[r]!=null)throw wn.create("already-exists",{id:r});if(!Lv){jR(lm);const{wrappedGtag:u,gtagCore:f}=qR(no,Mv,Vv,lm,rI);Zm=u,kv=f,Lv=!0}return no[r]=iI(s,Mv,Vv,t,kv,lm,n),new sI(s)}function lI(s=Ym()){s=Ve(s);const t=ia(s,oh);return t.isInitialized()?t.getImmediate():uI(s)}function uI(s,t={}){const n=ia(s,oh);if(n.isInitialized()){const o=n.getImmediate();if(as(t,n.getOptions()))return o;throw wn.create("already-initialized")}return n.initialize({options:t})}function cI(s,t,n){s=Ve(s),eI(Zm,no[s.app.options.appId],t,n).catch(r=>sn.error(r))}function hI(s,t,n,r){s=Ve(s),tI(Zm,no[s.app.options.appId],t,n,r).catch(o=>sn.error(o))}const Pv="@firebase/analytics",Uv="0.10.19";function fI(){Vi(new ii(oh,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return oI(r,o,n)},"PUBLIC")),Vi(new ii("analytics-internal",s,"PRIVATE")),Bn(Pv,Uv),Bn(Pv,Uv,"esm2020");function s(t){try{const n=t.getProvider(oh).getImmediate();return{logEvent:(r,o,u)=>hI(n,r,o,u),setUserProperties:(r,o)=>cI(n,r,o)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}fI();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dI=sT,rT=new na("auth","Firebase",sT());const lh=new Ih("@firebase/auth");function mI(s,...t){lh.logLevel<=Nt.WARN&&lh.warn(`Auth (${go}): ${s}`,...t)}function Yc(s,...t){lh.logLevel<=Nt.ERROR&&lh.error(`Auth (${go}): ${s}`,...t)}function Hn(s,...t){throw ep(s,...t)}function ni(s,...t){return ep(s,...t)}function tp(s,t,n){const r={...dI(),[t]:n};return new na("auth","Firebase",r).create(t,{appName:s.name})}function rs(s){return tp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Hn(s,"argument-error"),tp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return rT.create(s,...t)}function gt(s,t,...n){if(!s)throw ep(t,...n)}function is(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Yc(t),new Error(t)}function ls(s,t){s||is(t)}function Am(){return typeof self<"u"&&self.location?.href||""}function gI(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gI()||CE()||"connection"in navigator)?navigator.onLine:!0}function _I(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ls(n>t,"Short delay should be less than long delay!"),this.isMobile=vw()||bw()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(s,t){ls(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class aT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TI=new eu(3e4,6e4);function or(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function lr(s,t,n,r,o={}){return oT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=tu({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return Tw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&po(s.emulatorConfig.host)&&(y.credentials="include"),aT.fetch()(await lT(s,s.config.apiHost,n,m),y)})}async function oT(s,t,n){s._canInitEmulator=!1;const r={...vI,...t};try{const o=new SI(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(s,"user-disabled",f);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tp(s,b,y);Hn(s,b)}}catch(o){if(o instanceof si)throw o;Hn(s,"network-request-failed",{message:String(o)})}}async function nu(s,t,n,r,o={}){const u=await lr(s,t,n,r,o);return"mfaPendingCredential"in u&&Hn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function lT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?np(s.config,o):`${s.config.apiScheme}://${o}`;return EI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function bI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),TI.get())})}}function Bc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ni(s,t,r);return o.customData._tokenResponse=n,o}function zv(s){return s!==void 0&&s.enterprise!==void 0}class AI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return bI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wI(s,t){return lr(s,"GET","/v2/recaptchaConfig",or(s,t))}async function RI(s,t){return lr(s,"POST","/v1/accounts:delete",t)}async function uh(s,t){return lr(s,"POST","/v1/accounts:lookup",t)}function Ll(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function II(s,t=!1){const n=Ve(s),r=await n.getIdToken(t),o=ip(r);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ll(um(o.auth_time)),issuedAtTime:Ll(um(o.iat)),expirationTime:Ll(um(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function ip(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=bE(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bv(s){const t=ip(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Fl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof si&&CI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function CI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class xI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const t=s.auth,n=await s.getIdToken(),r=await Fl(s,uh(t,{idToken:n}));gt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?uT(o.providerUserInfo):[],f=DI(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function NI(s){const t=Ve(s);await ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DI(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function uT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function OI(s,t){const n=await oT(s,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await lT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&po(s.emulatorConfig.host)&&(g.credentials="include"),aT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MI(s,t){return lr(s,"POST","/v2/accounts:revokeToken",or(s,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Bv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await OI(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new io;return r&&(gt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return is("not implemented")}}function Fs(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return II(this,t)}reload(){return NI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(rs(this.auth));const t=await this.getIdToken();return await Fl(this,RI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:C,isAnonymous:B,providerData:$,stsTokenManager:J}=n;gt(A&&J,t,"internal-error");const W=io.fromJSON(this.name,J);gt(typeof A=="string",t,"internal-error"),Fs(r,t.name),Fs(o,t.name),gt(typeof C=="boolean",t,"internal-error"),gt(typeof B=="boolean",t,"internal-error"),Fs(u,t.name),Fs(f,t.name),Fs(m,t.name),Fs(g,t.name),Fs(y,t.name),Fs(b,t.name);const et=new ei({uid:A,auth:t,email:o,emailVerified:C,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:y,lastLoginAt:b});return $&&Array.isArray($)&&(et.providerData=$.map(ht=>({...ht}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,n,r=!1){const o=new io;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ch(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(r);const g=new ei({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Hv=new Map;function ss(s){ls(s instanceof Function,"Expected a class definition");let t=Hv.get(s);return t?(ls(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Hv.set(s,t),t)}class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cT.type="NONE";const qv=cT;function Qc(s,t,n){return`firebase:${s}:${t}:${n}`}class so{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new so(ss(qv),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ss(qv);const f=Qc(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const C=await uh(t,{idToken:b}).catch(()=>{});if(!C)break;A=await ei._fromGetAccountInfoResponse(t,C,b)}else A=ei._fromJSON(t,b);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,t,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new so(u,t,r))}}function Fv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gT(t))return"Blackberry";if(yT(t))return"Webos";if(fT(t))return"Safari";if((t.includes("chrome/")||dT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function hT(s=Ze()){return/firefox\//i.test(s)}function fT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dT(s=Ze()){return/crios\//i.test(s)}function mT(s=Ze()){return/iemobile/i.test(s)}function pT(s=Ze()){return/android/i.test(s)}function gT(s=Ze()){return/blackberry/i.test(s)}function yT(s=Ze()){return/webos/i.test(s)}function sp(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VI(s=Ze()){return sp(s)&&!!window.navigator?.standalone}function kI(){return Sw()&&document.documentMode===10}function _T(s=Ze()){return sp(s)||pT(s)||yT(s)||gT(s)||/windows phone/i.test(s)||mT(s)}function vT(s,t=[]){let n;switch(s){case"Browser":n=Fv(Ze());break;case"Worker":n=`${Fv(Ze())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}class LI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PI(s,t={}){return lr(s,"GET","/v2/passwordPolicy",or(s,t))}const UI=6;class jI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class zI{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gv(this),this.idTokenSubscription=new Gv(this),this.beforeStateQueue=new LI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uh(this,{idToken:t}),r=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ch(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_I()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject(rs(this));const n=t?Ve(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PI(this),n=new jI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new na("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ss(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&mI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ur(s){return Ve(s)}class Gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Nw(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BI(s){Nh=s}function ET(s){return Nh.loadJS(s)}function HI(){return Nh.recaptchaEnterpriseScript}function qI(){return Nh.gapiScript}function FI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class GI{constructor(){this.enterprise=new KI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class KI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const YI="recaptcha-enterprise",TT="NO_RECAPTCHA";class QI{constructor(t){this.type=YI,this.auth=ur(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new AI(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;zv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(TT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=HI();g.length!==0&&(g+=m),ET(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Kv(s,t,n,r=!1,o=!1){const u=new QI(s);let f;if(o)f=TT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(s,t,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Kv(s,t,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function XI(s,t){const n=ia(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(as(u,t??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:t})}function $I(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function JI(s,t,n){const r=ur(s);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=bT(t),{host:f,port:m}=WI(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(as(y,r.config.emulator)&&as(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,po(f)?(RE(`${u}//${f}${g}`),IE("Auth",!0)):ZI()}function bT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function WI(s){const t=bT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Yv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Yv(f)}}}function Yv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function ZI(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,n){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function tC(s,t){return lr(s,"POST","/v1/accounts:signUp",t)}async function eC(s,t){return nu(s,"POST","/v1/accounts:signInWithPassword",or(s,t))}async function nC(s,t){return nu(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}async function iC(s,t){return nu(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}class Gl extends rp{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Gl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Gl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(t,n,"signInWithPassword",eC);case"emailLink":return nC(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(t,r,"signUpPassword",tC);case"emailLink":return iC(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ro(s,t){return nu(s,"POST","/v1/accounts:signInWithIdp",or(s,t))}const sC="http://localhost";class $r extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new $r(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ro(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tu(n)}return t}}function rC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aC(s){const t=xl(Nl(s)).link,n=t?xl(Nl(t)).deep_link_id:null,r=xl(Nl(s)).deep_link_id;return(r?xl(Nl(r)).link:null)||r||n||t||s}class ap{constructor(t){const n=xl(Nl(t)),r=n.apiKey??null,o=n.oobCode??null,u=rC(n.mode??null);gt(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=aC(t);try{return new ap(n)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,n){return Gl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=ap.parseLink(n);return gt(r,"argument-error"),Gl._fromEmailAndCode(t,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class op{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends op{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ks extends iu{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class ns extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $r._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class Ys extends iu{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Qs extends iu{constructor(){super("twitter.com")}static credential(t,n){return $r._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function oC(s,t){return nu(s,"POST","/v1/accounts:signUp",or(s,t))}class Jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ei._fromIdTokenResponse(t,r,o),f=Qv(r);return new Jr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=Qv(r);return new Jr({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function Qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends si{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new hh(t,n,r,o)}}function ST(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,u,t,r):u})}async function lC(s,t,n=!1){const r=await Fl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Jr._forOperation(s,"link",r)}async function uC(s,t,n=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const u=await Fl(s,ST(r,o,t,s),n);gt(u.idToken,r,"internal-error");const f=ip(u.idToken);gt(f,r,"internal-error");const{sub:m}=f;return gt(s.uid===m,r,"user-mismatch"),Jr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hn(r,"user-mismatch"),u}}async function AT(s,t,n=!1){if(Sn(s.app))return Promise.reject(rs(s));const r="signIn",o=await ST(s,r,t),u=await Jr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function cC(s,t){return AT(ur(s),t)}async function wT(s){const t=ur(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hC(s,t,n){if(Sn(s.app))return Promise.reject(rs(s));const r=ur(s),f=await Rm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&wT(s),g}),m=await Jr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function fC(s,t,n){return Sn(s.app)?Promise.reject(rs(s)):cC(Ve(s),yo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(s),r})}function dC(s,t,n,r){return Ve(s).onIdTokenChanged(t,n,r)}function mC(s,t,n){return Ve(s).beforeAuthStateChanged(t,n)}function pC(s,t,n,r){return Ve(s).onAuthStateChanged(t,n,r)}function gC(s){return Ve(s).signOut()}const fh="__sak";class RT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=1e3,_C=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);kI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_C):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const vC=IT;class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CT.type="SESSION";const xT=CT;function EC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await EC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function lp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class TC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=lp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function bC(s){Ci().location.href=s}function NT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){return navigator?.serviceWorker?.controller||null}function wC(){return NT()?self:null}const DT="firebaseLocalStorageDb",RC=1,dh="firebaseLocalStorage",OT="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(s,t){return s.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function IC(){const s=indexedDB.deleteDatabase(DT);return new su(s).toPromise()}function Im(){const s=indexedDB.open(DT,RC);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:OT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?t(r):(r.close(),await IC(),t(await Im()))})})}async function Xv(s,t,n){const r=Oh(s,!0).put({[OT]:t,value:n});return new su(r).toPromise()}async function CC(s,t){const n=Oh(s,!1).get(t),r=await new su(n).toPromise();return r===void 0?null:r.value}function $v(s,t){const n=Oh(s,!0).delete(t);return new su(n).toPromise()}const xC=800,NC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>NC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(wC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new TC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Im();return await Xv(t,fh,"1"),await $v(t,fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>CC(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$v(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const DC=MT;new eu(3e4,6e4);function VT(s,t){return t?ss(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class up extends rp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function OC(s){return AT(s.auth,new up(s),s.bypassAuthState)}function MC(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),uC(n,new up(s),s.bypassAuthState)}async function VC(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),lC(n,new up(s),s.bypassAuthState)}class kT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:Hn(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kC=new eu(2e3,1e4);async function LC(s,t,n){if(Sn(s.app))return Promise.reject(ni(s,"operation-not-supported-in-this-environment"));const r=ur(s);pI(s,t,op);const o=VT(r,n);return new Gr(r,"signInViaPopup",t,o).executeNotNull()}class Gr extends kT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kC.get())};t()}}Gr.currentPopupAction=null;const PC="pendingRedirect",Xc=new Map;class UC extends kT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const r=await jC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(s,t){const n=HC(t),r=BC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function zC(s,t){Xc.set(s._key(),t)}function BC(s){return ss(s._redirectPersistence)}function HC(s){return Qc(PC,s.config.apiKey,s.name)}async function qC(s,t,n=!1){if(Sn(s.app))return Promise.reject(rs(s));const r=ur(s),o=VT(r,t),f=await new UC(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const FC=600*1e3;class GC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!LT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(t))}saveEventToCache(t){this.cachedEventUids.add(Jv(t)),this.lastProcessedEventTime=Date.now()}}function Jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function LT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function KC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(s);default:return!1}}async function YC(s,t={}){return lr(s,"GET","/v1/projects",t)}const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function $C(s){if(s.config.emulator)return;const{authorizedDomains:t}=await YC(s);for(const n of t)try{if(JC(n))return}catch{}Hn(s,"unauthorized-domain")}function JC(s){const t=Am(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!XC.test(n))return!1;if(QC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const WC=new eu(3e4,6e4);function Wv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function ZC(s){return new Promise((t,n)=>{function r(){Wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(ni(s,"network-request-failed"))},timeout:WC.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const o=FI("iframefcb");return Ci()[o]=()=>{gapi.load?r():n(ni(s,"network-request-failed"))},ET(`${qI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw $c=null,t})}let $c=null;function t2(s){return $c=$c||ZC(s),$c}const e2=new eu(5e3,15e3),n2="__/auth/iframe",i2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a2(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?np(t,i2):`https://${s.config.authDomain}/${n2}`,r={apiKey:t.apiKey,appName:s.name,v:go},o=r2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${tu(r).slice(1)}`}async function o2(s){const t=await t2(s),n=Ci().gapi;return gt(n,s,"internal-error"),t.open({where:document.body,url:a2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ni(s,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},e2.get());function g(){Ci().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}const l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,c2=600,h2="_blank",f2="http://localhost";class Zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(s,t,n,r=u2,o=c2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...l2,width:r.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=dT(y)?h2:n),hT(y)&&(t=t||f2,g.scrollbars="yes");const b=Object.entries(g).reduce((C,[B,$])=>`${C}${B}=${$},`,"");if(VI(y)&&m!=="_self")return m2(t||"",m),new Zv(null);const A=window.open(t||"",m,b);gt(A,s,"popup-blocked");try{A.focus()}catch{}return new Zv(A)}function m2(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const p2="__/auth/handler",g2="emulator/auth/handler",y2=encodeURIComponent("fac");async function t0(s,t,n,r,o,u){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:go,eventId:o};if(t instanceof op){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",xw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(t instanceof iu){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),y=g?`#${y2}=${encodeURIComponent(g)}`:"";return`${_2(s)}?${tu(m).slice(1)}${y}`}function _2({config:s}){return s.emulator?np(s,g2):`https://${s.authDomain}/${p2}`}const cm="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=qC,this._overrideRedirectResult=zC}async _openPopup(t,n,r,o){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t0(t,n,r,Am(),o);return d2(t,u,lp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await t0(t,n,r,Am(),o);return bC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ls(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await o2(t),r=new GC(t);return n.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(cm,{type:cm},o=>{const u=o?.[0]?.[cm];u!==void 0&&n(!!u),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$C(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||fT()||sp()}}const E2=v2;var e0="@firebase/auth",n0="1.11.1";class T2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function b2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S2(s){Vi(new ii("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(s)},y=new zI(r,o,u,g);return $I(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Vi(new ii("auth-internal",t=>{const n=ur(t.getProvider("auth").getImmediate());return(r=>new T2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(e0,n0,b2(s)),Bn(e0,n0,"esm2020")}const A2=300,w2=wE("authIdTokenMaxAge")||A2;let i0=null;const R2=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w2)return;const o=n?.token;i0!==o&&(i0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function I2(s=Ym()){const t=ia(s,"auth");if(t.isInitialized())return t.getImmediate();const n=XI(s,{popupRedirectResolver:E2,persistence:[DC,vC,xT]}),r=wE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=R2(u.toString());mC(n,f,()=>f(n.currentUser)),dC(n,m=>f(m))}}const o=SE("auth");return o&&JI(n,`http://${o}`),n}function C2(){return document.getElementsByTagName("head")?.[0]??document}BI({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S2("Browser");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,PT;(function(){var s;function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,O,L){for(var x=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)x[ie-2]=arguments[ie];return w.prototype[O].apply(V,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],O=R.g[2];let L=R.g[3],x;x=w+(L^I&(O^L))+V[0]+3614090360&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(O^w&(I^O))+V[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(I^L&(w^I))+V[2]+606105819&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(w^O&(L^w))+V[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=w+(L^I&(O^L))+V[4]+4118548399&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(O^w&(I^O))+V[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(I^L&(w^I))+V[6]+2821735955&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(w^O&(L^w))+V[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=w+(L^I&(O^L))+V[8]+1770035416&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(O^w&(I^O))+V[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(I^L&(w^I))+V[10]+4294925233&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(w^O&(L^w))+V[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=w+(L^I&(O^L))+V[12]+1804603682&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(O^w&(I^O))+V[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(I^L&(w^I))+V[14]+2792965006&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(w^O&(L^w))+V[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=w+(O^L&(I^O))+V[1]+4129170786&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(w^I))+V[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^I&(L^w))+V[11]+643717713&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(O^L))+V[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(I^O))+V[5]+3593408605&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(w^I))+V[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^I&(L^w))+V[15]+3634488961&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(O^L))+V[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(I^O))+V[9]+568446438&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(w^I))+V[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^I&(L^w))+V[3]+4107603335&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(O^L))+V[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(I^O))+V[13]+2850285829&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(w^I))+V[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^I&(L^w))+V[7]+1735328473&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(O^L))+V[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=w+(I^O^L)+V[5]+4294588738&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^O)+V[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^I)+V[11]+1839030562&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^w)+V[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=w+(I^O^L)+V[1]+2763975236&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^O)+V[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^I)+V[7]+4139469664&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^w)+V[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=w+(I^O^L)+V[13]+681279174&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^O)+V[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^I)+V[3]+3572445317&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^w)+V[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=w+(I^O^L)+V[9]+3654602809&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^O)+V[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^I)+V[15]+530742520&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^w)+V[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=w+(O^(I|~L))+V[0]+4096336452&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~O))+V[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~I))+V[14]+2878612391&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~w))+V[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=w+(O^(I|~L))+V[12]+1700485571&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~O))+V[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~I))+V[10]+4293915773&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~w))+V[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=w+(O^(I|~L))+V[8]+1873313359&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~O))+V[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~I))+V[6]+2734768916&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~w))+V[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=w+(O^(I|~L))+V[4]+4149444226&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~O))+V[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~I))+V[2]+718787259&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(V[O++]=R.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<w;)if(V[O++]=R[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[w++]=this.g[I]>>>V&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function f(R,w){this.h=w;const I=[];let V=!0;for(let O=R.length-1;O>=0;O--){const L=R[O]|0;V&&L==w||(I[O]=L,V=!1)}this.g=I}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return W(y(-R));const w=[];let I=1;for(let V=0;R>=I;V++)w[V]=R/I|0,I*=4294967296;return new f(w,0)}function b(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return W(b(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=A;for(let L=0;L<R.length;L+=8){var O=Math.min(8,R.length-L);const x=parseInt(R.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(x))):(V=V.j(I),V=V.add(y(x)))}return V}var A=g(0),C=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(J(this))return-W(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(J(this))return"-"+W(this).toString(R);const w=y(Math.pow(R,6));var I=this;let V="";for(;;){const O=Pt(I,w).g;I=et(I,O.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,$(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function J(R){return R.h==-1}s.l=function(R){return R=et(this,R),J(R)?-1:$(R)?0:1};function W(R){const w=R.g.length,I=[];for(let V=0;V<w;V++)I[V]=~R.g[V];return new f(I,~R.h).add(C)}s.abs=function(){return J(this)?W(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(R.i(O)&65535),x=(L>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=x>>>16,L&=65535,x&=65535,I[O]=x<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function et(R,w){return R.add(W(w))}s.j=function(R){if($(this)||$(R))return A;if(J(this))return J(R)?W(this).j(W(R)):W(W(this).j(R));if(J(R))return W(this.j(W(R)));if(this.l(B)<0&&R.l(B)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const L=this.i(V)>>>16,x=this.i(V)&65535,ie=R.i(O)>>>16,Ie=R.i(O)&65535;I[2*V+2*O]+=x*Ie,ht(I,2*V+2*O),I[2*V+2*O+1]+=L*Ie,ht(I,2*V+2*O+1),I[2*V+2*O+1]+=x*ie,ht(I,2*V+2*O+1),I[2*V+2*O+2]+=L*ie,ht(I,2*V+2*O+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new f(I,0)};function ht(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function dt(R,w){this.g=R,this.h=w}function Pt(R,w){if($(w))throw Error("division by zero");if($(R))return new dt(A,A);if(J(R))return w=Pt(W(R),w),new dt(W(w.g),W(w.h));if(J(w))return w=Pt(R,W(w)),new dt(W(w.g),w.h);if(R.g.length>30){if(J(R)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var I=C,V=w;V.l(R)<=0;)I=qt(I),V=qt(V);var O=ot(I,1),L=ot(V,1);for(V=ot(V,2),I=ot(I,2);!$(V);){var x=L.add(V);x.l(R)<=0&&(O=O.add(I),L=x),V=ot(V,1),I=ot(I,1)}return w=et(R,O.j(w)),new dt(O,w)}for(O=A;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),x=L.j(w);J(x)||x.l(R)>0;)I-=V,L=y(I),x=L.j(w);$(L)&&(L=C),O=O.add(L),R=et(R,x)}return new dt(O,R)}s.B=function(R){return Pt(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&R.i(V);return new f(I,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|R.i(V);return new f(I,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^R.i(V);return new f(I,this.h^R.h)};function qt(R){const w=R.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(I,R.h)}function ot(R,w){const I=w>>5;w%=32;const V=R.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=w>0?R.i(L+I)>>>w|R.i(L+I+1)<<32-w:R.i(L+I);return new f(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Ws=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,Dl,jT,Jc,Cm,zT,BT,HT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in v))break t;v=v[P]}c=c[c.length-1],T=v[c],p=p(T),p!=T&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&v.push([T,p[T]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,P,H){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return p.prototype[P].apply(T,tt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const p=c.length;if(p>0){const v=Array(p);for(let T=0;T<p;T++)v[T]=c[T];return v}return[]}function $(c,p){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const H=P.length||0;c.length=v+H;for(let tt=0;tt<H;tt++)c[v+tt]=P[tt]}else c.push(P)}}class J{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(c){f.setTimeout(()=>{throw c},0)}function et(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ht{constructor(){this.h=this.g=null}add(p,v){const T=dt.get();T.set(p,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new J(()=>new Pt,c=>c.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,ot=!1,R=new ht,w=()=>{const c=Promise.resolve(void 0);qt=()=>{c.then(I)}};function I(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){W(v)}var p=dt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(ie,O),ie.prototype.init=function(c,p){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,p,v,T,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,p,v){for(const T in c)p.call(v,c[T],T,c)}function Ft(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,p){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)c[v]=T[v];for(let H=0;H<Q.length;H++)v=Q[H],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,p,v,T,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const tt=At(c,p,T,P);return tt>-1?(p=c[tt],v||(p.fa=!1)):(p=new nt(p,this.src,H,!!T,P),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var T=c.g[v],P=Array.prototype.indexOf.call(T,p,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(ft(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function At(c,p,v,T){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==T)return P}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(c,p,v,T,P){if(Array.isArray(p)){for(let H=0;H<p.length;H++)se(c,p[H],v,T,P);return null}return v=Ao(v),c&&c[Ie]?c.J(p,v,m(T)?!!T.capture:!1,P):fr(c,p,v,!1,T,P)}function fr(c,p,v,T,P,H){if(!p)throw Error("Invalid event type");const tt=m(P)?!!P.capture:!!P;let bt=dr(c);if(bt||(c[Vt]=bt=new rt(c)),v=bt.add(p,v,T,tt,H),v.proxy)return v;if(T=aa(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)L||(P=tt),P===void 0&&(P=!1),c.addEventListener(p.toString(),T,P);else if(c.attachEvent)c.attachEvent(ri(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return p.call(c.src,c.listener,v)}const p=bo;return c}function oa(c,p,v,T,P){if(Array.isArray(p))for(var H=0;H<p.length;H++)oa(c,p[H],v,T,P);else T=m(T)?!!T.capture:!!T,v=Ao(v),c&&c[Ie]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=At(p,v,T,P),v>-1&&(ft(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=dr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=At(p,v,T,P)),(v=c>-1?p[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])_t(p.i,c);else{var v=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(v,T,c.capture):p.detachEvent?p.detachEvent(ri(v),T):p.addListener&&p.removeListener&&p.removeListener(T),(v=dr(p))?(_t(v,c),v.h==0&&(v.src=null,p[Vt]=null)):ft(c)}}}function ri(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function bo(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,T=c.ha||c.src;c.fa&&la(c),c=v.call(T,p)}return c}function dr(c){return c=c[Vt],c instanceof rt?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(ge,V),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(c,p,v,T){oa(this,c,p,v,T)};function xe(c,p){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var P=p;p=new O(T,c),it(p,P)}P=!0;let H,tt;if(v)for(tt=v.length-1;tt>=0;tt--)H=p.g=v[tt],P=hs(H,T,!0,p)&&P;if(H=p.g=c,P=hs(H,T,!0,p)&&P,P=hs(H,T,!1,p)&&P,v)for(tt=0;tt<v.length;tt++)H=p.g=v[tt],P=hs(H,T,!1,p)&&P}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let T=0;T<v.length;T++)ft(v[T]);delete c.g[p],c.h--}}this.G=null},ge.prototype.J=function(c,p,v,T){return this.i.add(String(c),p,!1,v,T)},ge.prototype.K=function(c,p,v,T){return this.i.add(String(c),p,!0,v,T)};function hs(c,p,v,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let H=0;H<p.length;++H){const tt=p[H];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,fe=tt.ha||tt.src;tt.fa&&_t(c.i,tt),P=bt.call(fe,T)!==!1&&P}}return P&&!T.defaultPrevented}function $h(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function fu(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){V.call(this),this.h=c,this.g={}}A(mr,V);var wo=[];function Ro(c){Lt(c.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},c),c.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Ro(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,Jh=f.JSON.parse,du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function pu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}A(je,O);function In(){O.call(this,"c")}A(In,O);var he={},gu=null;function ua(){return gu=gu||new ge}he.Ia="serverreachability";function yu(c){O.call(this,he.Ia,c)}A(yu,O);function ai(c){const p=ua();xe(p,new yu(p))}he.STAT_EVENT="statevent";function pr(c,p){O.call(this,he.STAT_EVENT,c),this.stat=p}A(pr,O);function ye(c){const p=ua();xe(p,new pr(p,c))}he.Ja="timingevent";function oi(c,p){O.call(this,he.Ja,c),this.size=p}A(oi,O);function li(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Wh(c,p,v,T,P,H){c.info(function(){if(c.g)if(H){var tt="",bt=H.split("&");for(let zt=0;zt<bt.length;zt++){var fe=bt[zt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Dn=re.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+p+`
`+v+`
`+tt})}function _u(c,p,v,T,P,H,tt){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+p+`
`+v+`
`+H+" "+tt})}function ui(c,p,v,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zh(c,v)+(T?" "+T:"")})}function gr(c,p){c.info(function(){return"TIMEOUT: "+p})}Fn.prototype.info=function(){};function Zh(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return fs(H)}catch{return p}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function _r(){}A(_r,mu),_r.prototype.g=function(){return new XMLHttpRequest},Co=new _r;function Pi(c){return encodeURIComponent(String(c))}function vu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Gn(c,p,v,T){this.j=c,this.i=p,this.l=v,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var _e={},ke={};function ci(c,p,v){c.M=1,c.A=vr(Ee(p)),c.u=v,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),hi(c),c.B=Ee(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ma(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Kn,c.g=Vu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(wo[0]=P.toString()),P=wo);for(let H=0;H<P.length;H++){const tt=se(v,P[H],T||p.handleEvent,!1,p.h||p);if(!tt)break;p.g[tt.key]=tt}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ai(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Xn(c)==3?p.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)t:{const bt=Xn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||fe==7||(fe==8||zt<=0?ai(3):ai(2)),fi(this);var p=this.g.ca();this.X=p;var v=tf(this);if(this.o=p==200,_u(this.i,this.v,this.B,this.l,this.S,bt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var H=T;break e}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,ye(12),mn(this),Cn(this);break t}}if(this.R){c=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Tu(this,v),re==ke){bt==4&&(this.m=4,ye(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,re,null),di(this,re);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(tt),tt.P=!0,ye(11))}}else ui(this.i,this.l,v,null),di(this,v);bt==4&&mn(this),this.o&&!this.K&&(bt==4?Nu(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),mn(this),Cn(this)}}}catch{}finally{}};function tf(c){if(!Eu(c))return c.g.la();const p=ze(c.g);if(p==="")return"";let v="";const T=p.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<T;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(P&&H==T-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Eu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,p){var v=c.C,T=p.indexOf(`
`,v);return T==-1?ke:(v=Number(p.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>p.length?ke:(p=p.slice(T,T+v),c.C=T+v,p)))}Gn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),p)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ai(),ye(17)),mn(this),this.m=2,Cn(this)):ha(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Nu(c.j,c)}function mn(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ro(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Es(v);else break t;Rr(v),ye(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&va(v),!x(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let zt=P[p];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Dn=zt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=zt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const $n=zt[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Jn=c.g;if(Jn){const Ir=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var H=T.h;H.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(T.G){const Ea=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,Gt(T.J,T.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=c;if(T.na=Mu(T,T.L?T.ba:null,T.W),tt.L){Oo(T.h,tt);var bt=tt,fe=T.O;fe&&(bt.H=fe),bt.D&&(fi(bt),hi(bt)),T.g=tt}else Cu(T);v.i.length>0&&Ei(v)}else zt[0]!="stop"&&zt[0]!="close"||Ti(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ti(v,7):Bo(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ai(4)}catch{}}var ve=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Do(c,p){c.g?c.g.add(p):c.h=p}function Oo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return B(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let P,H=null;T>=0?(P=c[v].substring(0,T),H=c[v].substring(T+1)):P=c[v],p(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,Vo(this,Ru(c.i)),this.m=c.m):c&&(p=String(c).match(bu))?(this.l=!1,Le(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),ds(this,p[4]),this.h=gi(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Er(p,da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Er(p,da,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Er(v,v.charAt(0)=="/"?ko:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Er(v,Au)),c.join("")},pn.prototype.resolve=function(c){const p=Ee(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var T=c.h;if(v)ds(p,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=p.h.lastIndexOf("/");P!=-1&&(T=p.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let tt=0;tt<P.length;){const bt=P[tt++];bt=="."?T&&tt==P.length&&H.push(""):bt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&tt==P.length&&H.push("")):(H.push(bt),T=!0)}T=H.join("/")}else T=P}return v?p.h=T:v=c.i.toString()!=="",v?Vo(p,Ru(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ee(c){return new pn(c)}function Le(c,p,v){c.j=v?gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Vo(c,p,v){p instanceof ps?(c.i=p,pa(c.i,c.l)):(v||(p=Er(p,ms)),c.i=new ps(p,c.l))}function Gt(c,p,v){c.i.set(p,v)}function vr(c){return Gt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Er(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Su=/[#\?:]/g,ko=/[#\?]/g,ms=/[#\?@]/g,Au=/#/g;function ps(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(c,p){an(this),this.i=null,c=gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){an(c),p=gs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Lo(c,p){return an(c),p=gs(c,p),c.g.has(p)}s.forEach=function(c,p){an(this),this.g.forEach(function(v,T){v.forEach(function(P){c.call(p,P,T,this)},this)},this)};function Po(c,p){an(c);let v=[];if(typeof p=="string")Lo(c,p)&&(v=v.concat(c.g.get(gs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return an(this),this.i=null,c=gs(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Po(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(gs(c,p),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var v=p[T];const P=Pi(v);v=Po(this,v);for(let H=0;H<v.length;H++){let tt=P;v[H]!==""&&(tt+="="+Pi(v[H])),c.push(tt)}}return this.i=c.join("&")};function Ru(c){const p=new ps;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(wu(this,T),ma(this,P,v))},c)),c.j=p}function Yn(c,p){const v=new Fn;if(f.Image){const T=new Image;T.onload=b(xn,v,"TestLoadImage: loaded",!0,p,T),T.onerror=b(xn,v,"TestLoadImage: error",!1,p,T),T.onabort=b(xn,v,"TestLoadImage: abort",!1,p,T),T.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function Uo(c,p){const v=new Fn,T=new AbortController,P=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?xn(v,"TestPingServer: ok",!0,p):xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,p)})}function xn(c,p,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ys(){this.g=new du}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(yi,mu),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(c,p){ge.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Tr,ge),s=Tr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_s(this):Qn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,_s(this))},s.Na=function(c){this.g&&(this.response=c,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let p="";return Lt(c,function(v,T){p+=T,p+=":",p+=v,p+=`\r
`}),p}function br(c,p,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Nn(v),typeof c=="string"?v!=null&&Pi(v):Gt(c,p,v))}function Xt(c){ge.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,ge);var _i=/^https?$/i,jo=["POST","PUT"];s=Xt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Sr(this,H);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(jo,p,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of v)this.g.setRequestHeader(H,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Sr(this,H)}};function Sr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zo(c),Ui(c)}function zo(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var T;if(T=H===0){let tt=String(c.D).match(bu)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),T=!_i.test(tt?tt.toLowerCase():"")}v=T}if(v)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",zo(c)}}finally{Ui(c)}}}}function Ui(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||xe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jh(p)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const p={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(x(c[T]))continue;var v=vu(c[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[P]||[];p[P]=H,H.push(v)}Ft(p,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function vs(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,T){ye(0),this.W=c,this.H=p||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Ei(this)};function Bo(c){if(ya(c),c.I==3){var p=c.V++,v=Ee(c.J);if(Gt(v,"SID",c.M),Gt(v,"RID",p),Gt(v,"TYPE","terminate"),wr(c,v),p=new Gn(c,c.j,p),p.M=2,p.A=vr(Ee(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Vu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}Ou(c)}function Es(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ya(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!No(c.h)&&!c.m){c.m=!0;var p=c.Ea;qt||w(),ot||(qt(),ot=!0),R.add(p,c),c.D=0}}function _a(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,p),Du(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Iu(this,P,p),v=Ee(this.J),Gt(v,"RID",c),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),wr(this,v),H&&(this.R?p="headers="+Pi(Nn(H))+"&"+p:this.u&&br(v,this.u,H)),Do(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",p),Gt(v,"SID","null"),P.U=!0,ci(P,v,null)):ci(P,v,p),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||No(this.h)||Ho(this))};function Ho(c,p){var v;p?v=p.l:v=c.V++;const T=Ee(c.J);Gt(T,"SID",c.M),Gt(T,"RID",v),Gt(T,"AID",c.K),wr(c,T),c.u&&c.o&&br(T,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,v),ci(v,T,p)}function wr(c,p){c.H&&Lt(c.H,function(v,T){Gt(p,T,v)}),c.l&&Lt({},function(v,T){Gt(p,T,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const T=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let bt=-1;for(;;){const fe=["count="+v];bt==-1?v>0?(bt=P[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let zt=!0;for(let re=0;re<v;re++){var H=P[re].g;const Dn=P[re].map;if(H-=bt,H<0)bt=Math.max(0,P[re].g-100),zt=!1;else try{H="req"+H+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,$n]of tt){let Jn=$n;m($n)&&(Jn=fs($n)),fe.push(H+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw fe.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Dn)}}if(zt){tt=fe.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),p.G=c,tt}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;qt||w(),ot||(qt(),ot=!0),R.add(p,c),c.A=0}}function Rr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),Du(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Es(this),xu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ee(c.na);Gt(p,"RID","rpc"),Gt(p,"SID",c.M),Gt(p,"AID",c.K),Gt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Gt(p,"TO",c.ia),Gt(p,"TYPE","xmlhttp"),wr(c,p),c.u&&c.o&&br(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vr(Ee(p)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Rr(this),ye(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,p){var v=null;if(c.g==p){va(c),qo(c),c.g=null;var T=2}else if(pi(c.h,p))v=p.G,Oo(c.h,p),T=1;else return;if(c.I!=0){if(p.o)if(T==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;T=ua(),xe(T,new oi(T,v)),Ei(c)}else Cu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(T==1&&_a(c,p)||T==2&&Rr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Du(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ti(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),T=c.Ua;const P=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(T,"https"),vr(T),P?Yn(T.toString(),v):Uo(T.toString(),v)}else ye(2);c.I=0,c.l&&c.l.pa(p),Ou(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const p=Mo(c.h);(p.length!=0||c.i.length!=0)&&($(c.ja,p),$(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Mu(c,p,v){var T=v instanceof pn?Ee(v):new pn(v);if(T.g!="")p&&(T.g=p+"."+T.g),ds(T,T.u);else{var P=f.location;T=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const H=new pn(null);T&&Le(H,T),p&&(H.g=p),P&&ds(H,P),v&&(H.h=v),T=H}return v=c.G,p=c.wa,v&&p&&Gt(T,v,p),Gt(T,"VER",c.ka),wr(c,T),T}function Vu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new yi({ab:v})):new Xt(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,p){return new en(c,p)};function en(c,p){ge.call(this),this.g=new vs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!x(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zi(this)}A(en,ge),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Bo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fs(c),c=v);p.i.push(new ve(p.Ya++,c)),p.I==3&&Ei(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,en.Z.N.call(this)};function Lu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Lu,je);function Pu(){In.call(this),this.status=1}A(Pu,In);function zi(c){this.g=c}A(zi,ku),zi.prototype.ra=function(){xe(this.g,"a")},zi.prototype.qa=function(c){xe(this.g,new Lu(c))},zi.prototype.pa=function(c){xe(this.g,new Pu)},zi.prototype.oa=function(){xe(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,HT=function(){return new Ts},BT=function(){return ua()},zT=he,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Jc=yr,Io.COMPLETE="complete",jT=Io,pu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Dl=pu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,UT=Xt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",a0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let _o="12.3.0";const Wr=new Ih("@firebase/firestore");function Wa(){return Wr.logLevel}function st(s,...t){if(Wr.logLevel<=Nt.DEBUG){const n=t.map(cp);Wr.debug(`Firestore (${_o}): ${s}`,...n)}}function us(s,...t){if(Wr.logLevel<=Nt.ERROR){const n=t.map(cp);Wr.error(`Firestore (${_o}): ${s}`,...n)}}function oo(s,...t){if(Wr.logLevel<=Nt.WARN){const n=t.map(cp);Wr.warn(`Firestore (${_o}): ${s}`,...n)}}function cp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,qT(s,r,n)}function qT(s,t,n){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Ht(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||qT(t,o,r)}function Tt(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends si{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class FT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class D2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new FT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class O2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const r=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class hp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=k2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Dt(s,t){return s<t?-1:s>t?1:0}function xm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return hm(o)===hm(u)?Dt(o,u):hm(o)?1:-1}return Dt(s.length,t.length)}const L2=55296,P2=57343;function hm(s){const t=s.charCodeAt(0);return t>=L2&&t<=P2}function lo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const l0="__name__";class Ii{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ii.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const r=Ii.isNumericId(t),o=Ii.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):xm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class oe extends Ii{construct(t,n,r){return new oe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ii{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return U2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Ke([l0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}function j2(s,t,n){if(!n)throw new ut(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function z2(s,t,n,r){if(t===!0&&r===!0)throw new ut(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function u0(s){if(!mt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function GT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Zr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(s);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Re(s,t){const n={typeString:s};return t&&(n.value=t),n}function ru(s,t){if(!GT(s))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ut(Z.INVALID_ARGUMENT,n);return!0}const c0=-62135596800,h0=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*h0);return new ne(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<c0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-c0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function B2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new ne(n+1,0):new ne(n,r));return new er(o,mt.empty(),t)}function H2(s){return new er(s.readTime,s.key,Kl)}class er{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new er(vt.min(),mt.empty(),Kl)}static max(){return new er(vt.max(),mt.empty(),Kl)}}function q2(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Dt(s.largestBatchId,t.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==F2)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,r)=>{n(t)}))}static reject(t){return new X(((n,r)=>{r(t)}))}static waitFor(t){return new X(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next((o=>o?X.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new X(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((b=>{f[y]=b,++m,m===u&&r(f)}),(b=>o(b)))}}))}static doWhile(t,n){return new X(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function K2(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;const dp=-1;function Vh(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function Y2(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const KT="";function Q2(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=f0(t)),t=X2(s.get(n),t);return f0(t)}function X2(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case KT:n+="";break;default:n+=u}}return n}function f0(s){return s+KT+""}function d0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function cr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function YT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ge(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new Me(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QT("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const n=$2.exec(s);if(Ht(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const XT="server_timestamp",$T="__type__",JT="__previous_value__",WT="__local_write_time__";function mp(s){return(s?.mapValue?.fields||{})[$T]?.stringValue===XT}function kh(s){const t=s.mapValue.fields[JT];return mp(t)?kh(t):t}function Yl(s){const t=nr(s.mapValue.fields[WT].timestampValue);return new ne(t.seconds,t.nanos)}class J2{constructor(t,n,r,o,u,f,m,g,y,b){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const ph="(default)";class Ql{constructor(t,n){this.projectId=t,this.database=n||ph}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ph}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}const ZT="__type__",W2="__max__",Fc={mapValue:{}},tb="__vector__",gh="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?mp(s)?4:tx(s)?9007199254740991:Z2(s)?10:11:yt(28295,{value:s})}function ki(s,t){if(s===t)return!0;const n=sr(s);if(n!==sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Yl(s).isEqual(Yl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=nr(o.timestampValue),m=nr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return ir(o.bytesValue).isEqual(ir(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return lo(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(d0(f)!==d0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Xl(s,t){return(s.values||[]).find((n=>ki(n,t)))!==void 0}function uo(s,t){if(s===t)return 0;const n=sr(s),r=sr(t);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=pe(u.integerValue||u.doubleValue),g=pe(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,t);case 3:return p0(s.timestampValue,t.timestampValue);case 4:return p0(Yl(s),Yl(t));case 5:return xm(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=ir(u),g=ir(f);return m.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Dt(m[y],g[y]);if(b!==0)return b}return Dt(m.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Dt(pe(u.latitude),pe(f.latitude));return m!==0?m:Dt(pe(u.longitude),pe(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return g0(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[gh]?.arrayValue,b=g[gh]?.arrayValue,A=Dt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:g0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const C=xm(g[A],b[A]);if(C!==0)return C;const B=uo(m[g[A]],y[b[A]]);if(B!==0)return B}return Dt(g.length,b.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function p0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const n=nr(s),r=nr(t),o=Dt(n.seconds,r.seconds);return o!==0?o:Dt(n.nanos,r.nanos)}function g0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=uo(n[o],r[o]);if(u)return u}return Dt(n.length,r.length)}function co(s){return Nm(s)}function Nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Nm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Wc(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kh(s);return t?16+Wc(t):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Wc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return cr(r.fields,((u,f)=>{o+=u.length+Wc(f)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function Dm(s){return!!s&&"integerValue"in s}function pp(s){return!!s&&"arrayValue"in s}function y0(s){return!!s&&"nullValue"in s}function _0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function Z2(s){return(s?.mapValue?.fields||{})[ZT]?.stringValue===tb}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Pl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return t}return{...s}}function tx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=Ke.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Pl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){cr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new dn(Pl(this.value))}}function eb(s){const t=[];return cr(s.fields,((n,r)=>{const o=new Ke([n]);if(Zc(r)){const u=eb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new An(t)}class Je{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),dn.empty(),0)}static newFoundDocument(t,n,r,o){return new Je(t,1,n,vt.min(),r,o,0)}static newNoDocument(t,n){return new Je(t,2,n,vt.min(),vt.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,vt.min(),vt.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(t,n){this.position=t,this.inclusive=n}}function v0(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(f.referenceValue),n.key):r=uo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],t.position[n]))return!1;return!0}class _h{constructor(t,n="asc"){this.field=t,this.dir=n}}function ex(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class nb{}class De extends nb{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ix(t,n,r):n==="array-contains"?new ax(t,r):n==="in"?new ox(t,r):n==="not-in"?new lx(t,r):n==="array-contains-any"?new ux(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sx(t,r):new rx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends nb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Li(t,n)}matches(t){return ib(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ib(s){return s.op==="and"}function sb(s){return nx(s)&&ib(s)}function nx(s){for(const t of s.filters)if(t instanceof Li)return!1;return!0}function Om(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+co(s.value);if(sb(s))return s.filters.map((t=>Om(t))).join(",");{const t=s.filters.map((n=>Om(n))).join(",");return`${s.op}(${t})`}}function rb(s,t){return s instanceof De?(function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(s,t):s instanceof Li?(function(r,o){return o instanceof Li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&rb(f,o.filters[m])),!0):!1})(s,t):void yt(19439)}function ab(s){return s instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(s):s instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(ab).join(" ,")+"}"})(s):"Filter"}class ix extends De{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class sx extends De{constructor(t,n){super(t,"in",n),this.keys=ob("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class rx extends De{constructor(t,n){super(t,"not-in",n),this.keys=ob("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ob(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class ax extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pp(n)&&Xl(n.arrayValue,this.value)}}class ox extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class lx extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class ux extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}class cx{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function T0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new cx(s,t,n,r,o,u,f)}function gp(s){const t=Tt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Om(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>co(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>co(r))).join(",")),t.Te=n}return t.Te}function yp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!ex(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!rb(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!E0(s.startAt,t.startAt)&&E0(s.endAt,t.endAt)}function Mm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Lh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hx(s,t,n,r,o,u,f,m){return new Lh(s,t,n,r,o,u,f,m)}function _p(s){return new Lh(s)}function b0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fx(s){return s.collectionGroup!==null}function Ul(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Me(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new _h(u,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new _h(Ke.keyField(),r))}return t.Ie}function xi(s){const t=Tt(s);return t.Ee||(t.Ee=dx(t,Ul(s))),t.Ee}function dx(s,t){if(s.limitType==="F")return T0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return T0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Vm(s,t,n){return new Lh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Ph(s,t){return yp(xi(s),xi(t))&&s.limitType===t.limitType}function lb(s){return`${gp(xi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ab(o))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Uh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Ul(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Ul(r),o)||r.endAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Ul(r),o))})(s,t)}function mx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ub(s){return(t,n)=>{let r=!1;for(const o of Ul(s)){const u=px(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function px(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?uo(g,y):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const gx=new le(mt.comparator);function cs(){return gx}const cb=new le(mt.comparator);function Ol(...s){let t=cb;for(const n of s)t=t.insert(n.key,n);return t}function hb(s){let t=cb;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Kr(){return jl()}function fb(){return jl()}function jl(){return new sa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const yx=new le(mt.comparator),_x=new Me(mt.comparator);function Ot(...s){let t=_x;for(const n of s)t=t.add(n);return t}const vx=new Me(Dt);function Ex(){return vx}function vp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(t)?"-0":t}}function db(s){return{integerValue:""+s}}function Tx(s,t){return Y2(t)?db(t):vp(s,t)}class jh{constructor(){this._=void 0}}function bx(s,t,n){return s instanceof vh?(function(o,u){const f={fields:{[$T]:{stringValue:XT},[WT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=kh(u)),u&&(f.fields[JT]=u),{mapValue:f}})(n,t):s instanceof ho?pb(s,t):s instanceof $l?gb(s,t):(function(o,u){const f=mb(o,u),m=S0(f)+S0(o.Ae);return Dm(f)&&Dm(o.Ae)?db(m):vp(o.serializer,m)})(s,t)}function Sx(s,t,n){return s instanceof ho?pb(s,t):s instanceof $l?gb(s,t):n}function mb(s,t){return s instanceof Eh?(function(r){return Dm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class vh extends jh{}class ho extends jh{constructor(t){super(),this.elements=t}}function pb(s,t){const n=yb(t);for(const r of s.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends jh{constructor(t){super(),this.elements=t}}function gb(s,t){let n=yb(t);for(const r of s.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class Eh extends jh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function S0(s){return pe(s.integerValue||s.doubleValue)}function yb(s){return pp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ax{constructor(t,n){this.field=t,this.transform=n}}function wx(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof ho&&o instanceof ho||r instanceof $l&&o instanceof $l?lo(r.elements,o.elements,ki):r instanceof Eh&&o instanceof Eh?ki(r.Ae,o.Ae):r instanceof vh&&o instanceof vh})(s.transform,t.transform)}class Rx{constructor(t,n){this.version=t,this.transformResults=n}}class Ni{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class zh{}function _b(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Eb(s.key,Ni.none()):new au(s.key,s.data,Ni.none());{const n=s.data,r=dn.empty();let o=new Me(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new hr(s.key,r,new An(o.toArray()),Ni.none())}}function Ix(s,t,n){s instanceof au?(function(o,u,f){const m=o.value.clone(),g=w0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof hr?(function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(vb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function zl(s,t,n,r){return s instanceof au?(function(u,f,m,g){if(!th(u.precondition,f))return m;const y=u.value.clone(),b=R0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof hr?(function(u,f,m,g){if(!th(u.precondition,f))return m;const y=R0(u.fieldTransforms,g,f),b=f.data;return b.setAll(vb(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function Cx(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=mb(r.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(r.field,u))}return n||null}function A0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&lo(r,o,((u,f)=>wx(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends zh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends zh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vb(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function w0(s,t,n){const r=new Map;Ht(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,Sx(f,m,n[o]))}return r}function R0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,bx(u,f,t))}return r}class Eb extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xx extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Ix(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=zl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=zl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=fb();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=_b(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((n,r)=>A0(n,r)))&&lo(this.baseMutations,t.baseMutations,((n,r)=>A0(n,r)))}}class Ep{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return yx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Ep(t,n,r,o)}}class Dx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ox{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,kt;function Mx(s){switch(s){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Tb(s){if(s===void 0)return us("GRPC error has no .code"),Z.UNKNOWN;switch(s){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:s})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function Vx(){return new TextEncoder}const kx=new Ws([4294967295,4294967295],0);function I0(s){const t=Vx().encode(s),n=new PT;return n.update(t),new Uint8Array(n.digest())}function C0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ws([n,r],0),new Ws([o,u],0)]}class Tp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ws.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Ws.fromNumber(r)));return o.compare(kx)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=I0(t),[r,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Tp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=I0(t),[r,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Bh(vt.min(),o,new le(Dt),cs(),Ot())}}class ou{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ou(r,n,Ot(),Ot(),Ot())}}class eh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class bb{constructor(t,n){this.targetId=t,this.Ce=n}}class Sb{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),r=Ot();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:u})}})),new ou(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=N0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lx{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Gc(),this.He=Gc(),this.Ye=new le(Dt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mm(u))if(r===0){const f=new mt(u.path);this.et(n,f,Je.newNoDocument(f,vt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ir(r).toUint8Array()}catch(g){if(g instanceof QT)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,u)}catch(g){return oo(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Mm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Ot();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Bh(t,n,this.Ye,this.je,r);return this.je=cs(),this.Je=Gc(),this.He=Gc(),this.Ye=new le(Dt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new x0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Me(Dt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Me(Dt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gc(){return new le(mt.comparator)}function N0(){return new le(mt.comparator)}const Px={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class zx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function km(s,t){return s.useProto3Json||Vh(t)?t:{value:t}}function Th(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ab(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Bx(s,t){return Th(s,t.toTimestamp())}function Di(s){return Ht(!!s,49232),vt.fromTimestamp((function(n){const r=nr(n);return new ne(r.seconds,r.nanos)})(s))}function bp(s,t){return Lm(s,t).canonicalString()}function Lm(s,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function wb(s){const t=oe.fromString(s);return Ht(Nb(t),10190,{key:t.toString()}),t}function Pm(s,t){return bp(s.databaseId,t.path)}function fm(s,t){const n=wb(t);if(n.get(1)!==s.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(Ib(n))}function Rb(s,t){return bp(s.databaseId,t)}function Hx(s){const t=wb(s);return t.length===4?oe.emptyPath():Ib(t)}function Um(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ib(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function D0(s,t,n){return{name:Pm(s,t),fields:n.value.mapValue.fields}}function qx(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?Z.UNKNOWN:Tb(y.code);return new ut(b,y.message||"")})(f);n=new Sb(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=fm(s,r.document.name),u=Di(r.document.updateTime),f=r.document.createTime?Di(r.document.createTime):vt.min(),m=new dn({mapValue:{fields:r.document.fields}}),g=Je.newFoundDocument(o,u,f,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new eh(y,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=fm(s,r.document),u=r.readTime?Di(r.readTime):vt.min(),f=Je.newNoDocument(o,u),m=r.removedTargetIds||[];n=new eh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=fm(s,r.document),u=r.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Ox(o,u),m=r.targetId;n=new bb(m,f)}}return n}function Fx(s,t){let n;if(t instanceof au)n={update:D0(s,t.key,t.value)};else if(t instanceof Eb)n={delete:Pm(s,t.key)};else if(t instanceof hr)n={update:D0(s,t.key,t.data),updateMask:Zx(t.fieldMask)};else{if(!(t instanceof xx))return yt(16599,{Vt:t.type});n={verify:Pm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ho)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Bx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function Gx(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(vt.min())&&(f=Di(u)),new Rx(f,o.transformResults||[])})(n,t)))):[]}function Kx(s,t){return{documents:[Rb(s,t.path)]}}function Yx(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rb(s,o);const u=(function(y){if(y.length!==0)return xb(Li.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(C){return{field:to(C.field),direction:$x(C.dir)}})(b)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function Qx(s){let t=Hx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const C=Cb(A);return C instanceof Li&&sb(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((C=>(function($){return new _h(eo($.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let C;return C=typeof A=="object"?A.value:A,Vh(C)?null:C})(n.limit));let g=null;n.startAt&&(g=(function(A){const C=!!A.before,B=A.values||[];return new yh(B,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const C=!A.before,B=A.values||[];return new yh(B,C)})(n.endAt)),hx(t,o,f,u,m,"F",g,y)}function Xx(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return De.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((r=>Cb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function $x(s){return Px[s]}function Jx(s){return Ux[s]}function Wx(s){return jx[s]}function to(s){return{fieldPath:s.canonicalString()}}function eo(s){return Ke.fromServerFormat(s.fieldPath)}function xb(s){return s instanceof De?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:Jx(n.op),value:n.value}}})(s):s instanceof Li?(function(n){const r=n.getFilters().map((o=>xb(o)));return r.length===1?r[0]:{compositeFilter:{op:Wx(n.op),filters:r}}})(s):yt(54877,{filter:s})}function Zx(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Nb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Xs{constructor(t,n,r,o,u=vt.min(),f=vt.min(),m=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tN{constructor(t){this.yt=t}}function eN(s){const t=Qx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vm(t,t.limit,"L"):t}class nN{constructor(){this.Cn=new iN}addToCollectionParentIndex(t,n){return this.Cn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(er.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(er.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class iN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Me(oe.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Me(oe.comparator)).toArray()}}const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Db=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Db,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const M0="LruGarbageCollector",sN=1048576;function V0([s,t],[n,r]){const o=Dt(s,n);return o===0?Dt(t,r):o}class rN{constructor(t){this.Ir=t,this.buffer=new Me(V0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(M0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?st(M0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class oN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(Mh.ce);const r=new rN(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(O0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),Wa()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function lN(s,t){return new oN(s,t)}class uN{constructor(){this.changes=new sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class hN{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&zl(r.mutation,o,An.empty(),ne.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ot()){const o=Kr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Ol();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Kr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ot())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=cs();const f=jl(),m=(function(){return jl()})();return n.forEach(((g,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof hr)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),zl(b.mutation,y,b.mutation.getFieldMask(),ne.now())):f.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new cN(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=jl();let o=new le(((f,m)=>f-m)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=r.get(g)||An.empty();b=m.applyToLocalView(y,b),r.set(g,b);const A=(o.get(m.batchId)||Ot()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=fb();b.forEach((C=>{if(!u.has(C)){const B=_b(n.get(C),r.get(C));B!==null&&A.set(C,B),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):X.resolve(Kr());let m=Kl,g=u;return f.next((y=>X.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((C=>{g=g.insert(b,C)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Ot()))).next((b=>({batchId:m,changes:hb(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let o=Ol();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(t,u).next((m=>X.forEach(m,(g=>{const y=(function(A,C){return new Lh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((b=>{b.forEach(((A,C)=>{f=f.insert(A,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Je.newInvalidDocument(b)))}));let m=Ol();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&zl(b.mutation,y,An.empty(),ne.now()),Uh(n,y)&&(m=m.insert(g,y))})),m}))}}class fN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eN(o.bundledQuery),readTime:Di(o.readTime)}})(n)),X.resolve()}}class dN{constructor(){this.overlays=new le(mt.comparator),this.qr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Kr();return X.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),X.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const o=Kr(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new le(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=Kr(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Kr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return X.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Dx(n,r));let u=this.qr.get(n);u===void 0&&(u=Ot(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class mN{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}class Sp{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ue(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new mt(new oe([])),r=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new oe([])),r=new Ue(n,t),o=new Ue(n,t+1);let u=Ot();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Dt(t.Yr,n.Yr)}static Kr(t,n){return Dt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}class pN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Nx(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Me(Dt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new mt(u),0);let m=new Me(Dt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Ue(n,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gN{constructor(t){this.ri=t,this.docs=(function(){return new le(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=cs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=cs();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||q2(H2(b),r)<=0||(o.has(b.key)||Uh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,r,o){yt(9500)}ii(t,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new yN(this)}getSize(t){return X.resolve(this.size)}}class yN extends uN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),X.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class _N{constructor(t){this.persistence=t,this.si=new sa((n=>gp(n)),yp),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Sp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),X.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.Pr(n),X.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),X.waitFor(u).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),X.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this._i.containsKey(n))}}class Ob{constructor(t,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=t(this),this.Pi=new _N(this),this.indexManager=new nN,this.remoteDocumentCache=(function(o){return new gN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tN(n),this.Ii=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new pN(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){st("MemoryPersistence","Starting transaction:",t);const o=new vN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class vN extends G2{constructor(t){super(),this.currentSequenceNumber=t}}class Ap{constructor(t){this.persistence=t,this.Ri=new Sp,this.Vi=null}static mi(t){return new Ap(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bh{constructor(t,n){this.persistence=t,this.pi=new sa((r=>Q2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=lN(this,n)}static mi(t,n){return new bh(t,n)}Ei(){}di(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return X.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?X.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(r++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),X.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}br(t,n,r){return X.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class wp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ot(),o=Ot();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(t,n.fromCache,r,o)}}class EN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Aw()?8:K2(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new EN;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(Wa()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Wa()<=Nt.DEBUG&&st("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Wa()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):X.resolve())}ys(t,n){if(b0(n))return X.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ot(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Vm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,o){return b0(n)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?X.resolve(null):(Wa()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(t,f,n,B2(o,Kl)).next((m=>m)))}))}Ds(t,n){let r=new Me(ub(t));return n.forEach(((o,u)=>{Uh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Wa()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,er.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Rp="LocalStore",bN=3e8;class SN{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new le(Dt),this.xs=new sa((u=>gp(u)),yp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function AN(s,t,n,r){return new SN(s,t,n,r)}async function Mb(s,t){const n=Tt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=Ot();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function wN(s,t){const n=Tt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const A=y.batch,C=A.keys();let B=X.resolve();return C.forEach(($=>{B=B.next((()=>b.getEntry(g,$))).next((J=>{const W=y.docVersions.get($);Ht(W!==null,48541),J.version.compareTo(W)<0&&(A.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),b.addEntry(J)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Vb(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function RN(s,t){const n=Tt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((b,A)=>{const C=o.get(A);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A))));let B=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,r)),o=o.insert(A,B),(function(J,W,et){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=bN?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(C,B,b)&&m.push(n.Pi.updateTargetData(u,B))}));let g=cs(),y=Ot();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(IN(u,f,t.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!r.isEqual(vt.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return X.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function IN(s,t,n){let r=Ot(),o=Ot();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=cs();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):st(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function CN(s,t){const n=Tt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function xN(s,t){const n=Tt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,X.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new Xs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function jm(s,t,n){const r=Tt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;st(Rp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function k0(s,t,n){const r=Tt(s);let o=vt.min(),u=Ot();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const A=Tt(g),C=A.xs.get(b);return C!==void 0?X.resolve(A.Ms.get(C)):A.Pi.getTargetData(y,b)})(r,f,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Ot()))).next((m=>(NN(r,mx(t),m),{documents:m,Qs:u})))))}function NN(s,t,n){let r=s.Os.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class L0{constructor(){this.activeTargetIds=Ex()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DN{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ON{Oo(t){}shutdown(){}}const P0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(P0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(P0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function zm(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const dm="RestConnection",MN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=zm(),m=this.zo(t,n.toUriEncodedString());st(dm,`Sending RPC '${t}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=po(y);return this.Jo(t,m,g,r,b).then((A=>(st(dm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw oo(dm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=MN[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class kN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class LN extends VN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=zm();return new Promise(((m,g)=>{const y=new UT;y.setWithCredentials(!0),y.listenOnce(jT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const A=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Jc.TIMEOUT:st(Xe,`RPC '${t}' ${f} timed out`),g(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const C=y.getStatus();if(st(Xe,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const J=(function(et){const ht=et.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ht)>=0?ht:Z.UNKNOWN})($.status);g(new ut(J,$.message))}else g(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${f} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",b,r,15)}))}T_(t,n,r){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=HT(),m=BT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const b=u.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${b}`,g);const A=f.createWebChannel(b,g);this.I_(A);let C=!1,B=!1;const $=new kN({Yo:W=>{B?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(C||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),C=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),J=(W,et,ht)=>{W.listen(et,(dt=>{try{ht(dt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return J(A,Dl.EventType.OPEN,(()=>{B||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),J(A,Dl.EventType.CLOSE,(()=>{B||(B=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(A))})),J(A,Dl.EventType.ERROR,(W=>{B||(B=!0,oo(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),$.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),J(A,Dl.EventType.MESSAGE,(W=>{if(!B){const et=W.data[0];Ht(!!et,16349);const ht=et,dt=ht?.error||ht[0]?.error;if(dt){st(Xe,`RPC '${t}' stream ${o} received error:`,dt);const Pt=dt.status;let qt=(function(w){const I=we[w];if(I!==void 0)return Tb(I)})(Pt),ot=dt.message;qt===void 0&&(qt=Z.INTERNAL,ot="Unknown error status: "+Pt+" with message "+dt.message),B=!0,$.a_(new ut(qt,ot)),A.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,et),$.u_(et)}})),J(m,zT.STAT_EVENT,(W=>{W.stat===Cm.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Cm.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function mm(){return typeof document<"u"?document:null}function Hh(s){return new zx(s,!0)}class kb{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const j0="PersistentStream";class Lb{constructor(t,n,r,o,u,f,m,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(j0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PN extends Lb{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=qx(this.serializer,t),r=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Di(f.readTime):vt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Mm(g)?{documents:Kx(u,g)}:{query:Yx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ab(u,f.resumeToken);const y=km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const y=km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=Xx(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Um(this.serializer),n.removeTarget=t,this.q_(n)}}class UN extends Lb{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Gx(t.writeResults,t.commitTime),r=Di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Um(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>Fx(this.serializer,r)))};this.q_(n)}}class jN{}class zN extends jN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Lm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Lm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class HN{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ra(this)&&(st(ta,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Ra=new BN(r,o)}}async function qh(s){if(ra(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function Pb(s,t){const n=Tt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Np(n)?xp(n):To(n).O_()&&Cp(n,t))}function Ip(s,t){const n=Tt(s),r=To(n);n.Ia.delete(t),r.O_()&&Ub(n,t),n.Ia.size===0&&(r.O_()?r.L_():ra(n)&&n.Ra.set("Unknown"))}function Cp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}To(s).Y_(t)}function Ub(s,t){s.Va.Ue(t),To(s).Z_(t)}function xp(s){s.Va=new Lx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function Np(s){return ra(s)&&!To(s).x_()&&s.Ia.size>0}function ra(s){return Tt(s).Ea.size===0}function jb(s){s.Va=void 0}async function qN(s){s.Ra.set("Online")}async function FN(s){s.Ia.forEach(((t,n)=>{Cp(s,t)}))}async function GN(s,t){jb(s),Np(s)?(s.Ra.ha(t),xp(s)):s.Ra.set("Unknown")}async function KN(s,t,n){if(s.Ra.set("Online"),t instanceof Sb&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){st(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sh(s,r)}else if(t instanceof eh?s.Va.Ze(t):t instanceof bb?s.Va.st(t):s.Va.tt(t),!n.isEqual(vt.min()))try{const r=await Vb(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),Ub(u,g);const A=new Xs(b.target,g,y,b.sequenceNumber);Cp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){st(ta,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,t,n){if(!Eo(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),n||(n=()=>Vb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await qh(s)}))}function zb(s,t){return t().catch((n=>Sh(s,n,t)))}async function Fh(s){const t=Tt(s),n=rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dp;for(;YN(t);)try{const o=await CN(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,QN(t,o)}catch(o){await Sh(t,o)}Bb(t)&&Hb(t)}function YN(s){return ra(s)&&s.Ta.length<10}function QN(s,t){s.Ta.push(t);const n=rr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function Bb(s){return ra(s)&&!rr(s).x_()&&s.Ta.length>0}function Hb(s){rr(s).start()}async function XN(s){rr(s).ra()}async function $N(s){const t=rr(s);for(const n of s.Ta)t.ea(n.mutations)}async function JN(s,t,n){const r=s.Ta.shift(),o=Ep.from(r,t,n);await zb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Fh(s)}async function WN(s,t){t&&rr(s).X_&&await(async function(r,o){if((function(f){return Mx(f)&&f!==Z.ABORTED})(o.code)){const u=r.Ta.shift();rr(r).B_(),await zb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Fh(r)}})(s,t),Bb(s)&&Hb(s)}async function z0(s,t){const n=Tt(s);n.asyncQueue.verifyOperationInProgress(),st(ta,"RemoteStore received new credentials");const r=ra(n);n.Ea.add(3),await lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qh(n)}async function ZN(s,t){const n=Tt(s);t?(n.Ea.delete(2),await qh(n)):t||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(n,r,o){const u=Tt(n);return u.sa(),new PN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:qN.bind(null,s),t_:FN.bind(null,s),r_:GN.bind(null,s),H_:KN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Np(s)?xp(s):s.Ra.set("Unknown")):(await s.ma.stop(),jb(s))}))),s.ma}function rr(s){return s.fa||(s.fa=(function(n,r,o){const u=Tt(n);return u.sa(),new UN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XN.bind(null,s),r_:WN.bind(null,s),ta:$N.bind(null,s),na:JN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Fh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Dp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new Dp(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(s,t){if(us("AsyncQueue",`${t}: ${s}`),Eo(s))return new ut(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class B0{constructor(){this.ga=new le(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class mo{constructor(t,n,r,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new mo(t,n,ao.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class tD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class eD{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Tt(n),u=o.queries;o.queries=H0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function H0(){return new sa((s=>lb(s)),Ph)}async function nD(s,t){const n=Tt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new tD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Mp(n)}async function iD(s,t){const n=Tt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sD(s,t){const n=Tt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Mp(n)}function rD(s,t,n){const r=Tt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Mp(s){s.Ca.forEach((t=>{t.next()}))}var Bm,q0;(q0=Bm||(Bm={})).Ma="default",q0.Cache="cache";class aD{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new mo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bm.Cache}}class qb{constructor(t){this.key=t}}class Fb{constructor(t){this.key=t}}class oD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=ub(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new B0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const C=o.get(b),B=Uh(this.query,A)?A:null,$=!!C&&this.mutatedKeys.has(C.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;C&&B?C.data.isEqual(B.data)?$!==J&&(r.track({type:3,doc:B}),W=!0):this.su(C,B)||(r.track({type:2,doc:B}),W=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(m=!0)):!C&&B?(r.track({type:0,doc:B}),W=!0):C&&!B&&(r.track({type:1,doc:C}),W=!0,(g||y)&&(m=!0)),W&&(B?(f=f.add(B),u=J?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((b,A)=>(function(B,$){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return J(B)-J($)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new mo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Fb(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new qb(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class lD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uD{constructor(t){this.key=t,this.hu=!1}}class cD{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>lb(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new le(mt.comparator),this.Au=new Map,this.Ru=new Sp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hD(s,t,n=!0){const r=$b(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Gb(r,t,n,!0),o}async function fD(s,t){const n=$b(s);await Gb(n,t,!0,!1)}async function Gb(s,t,n,r){const o=await xN(s.localStore,xi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await dD(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&Pb(s.remoteStore,o),m}async function dD(s,t,n,r,o){s.pu=(A,C,B)=>(async function(J,W,et,ht){let dt=W.view.ru(et);dt.Cs&&(dt=await k0(J.localStore,W.query,!1).then((({documents:R})=>W.view.ru(R,dt))));const Pt=ht&&ht.targetChanges.get(W.targetId),qt=ht&&ht.targetMismatches.get(W.targetId)!=null,ot=W.view.applyChanges(dt,J.isPrimaryClient,Pt,qt);return G0(J,W.targetId,ot.au),ot.snapshot})(s,A,C,B);const u=await k0(s.localStore,t,!0),f=new oD(t,u.Qs),m=f.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);G0(s,n,y.au);const b=new lD(t,n,f);return s.Tu.set(t,b),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function mD(s,t,n){const r=Tt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Ph(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ip(r.remoteStore,o.targetId),Hm(r,o.targetId)})).catch(vo)):(Hm(r,o.targetId),await jm(r.localStore,o.targetId,!0))}async function pD(s,t){const n=Tt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ip(n.remoteStore,r.targetId))}async function gD(s,t,n){const r=SD(s);try{const o=await(function(f,m){const g=Tt(f),y=ne.now(),b=m.reduce(((B,$)=>B.add($.key)),Ot());let A,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=cs(),J=Ot();return g.Ns.getEntries(B,b).next((W=>{$=W,$.forEach(((et,ht)=>{ht.isValidDocument()||(J=J.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,$))).next((W=>{A=W;const et=[];for(const ht of m){const dt=Cx(ht,A.get(ht.key).overlayedDocument);dt!=null&&et.push(new hr(ht.key,dt,eb(dt.value.mapValue),Ni.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,et,m)})).next((W=>{C=W;const et=W.applyToLocalDocumentSet(A,J);return g.documentOverlayCache.saveOverlays(B,W.batchId,et)}))})).then((()=>({batchId:C.batchId,changes:hb(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new le(Dt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await uu(r,o.changes),await Fh(r.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function Kb(s,t){const n=Tt(s);try{const r=await RN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await uu(n,r,t)}catch(r){await vo(r)}}function F0(s,t,n){const r=Tt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Tt(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,A)=>{for(const C of A.Sa)C.va(m)&&(y=!0)})),y&&Mp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yD(s,t,n){const r=Tt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new le(mt.comparator);f=f.insert(u,Je.newNoDocument(u,vt.min()));const m=Ot().add(u),g=new Bh(vt.min(),new Map,new le(Dt),f,m);await Kb(r,g),r.du=r.du.remove(u),r.Au.delete(t),kp(r)}else await jm(r.localStore,t,!1).then((()=>Hm(r,t,n))).catch(vo)}async function _D(s,t){const n=Tt(s),r=t.batch.batchId;try{const o=await wN(n.localStore,t);Qb(n,r,null),Yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,o)}catch(o){await vo(o)}}async function vD(s,t,n){const r=Tt(s);try{const o=await(function(f,m){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ht(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(r.localStore,t);Qb(r,t,n),Yb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await uu(r,o)}catch(o){await vo(o)}}function Yb(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function Qb(s,t,n){const r=Tt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Hm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||Xb(s,r)}))}function Xb(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Ip(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),kp(s))}function G0(s,t,n){for(const r of n)r instanceof qb?(s.Ru.addReference(r.key,t),ED(s,r)):r instanceof Fb?(st(Vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||Xb(s,r.key)):yt(19791,{wu:r})}function ED(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(st(Vp,"New document in limbo: "+n),s.Eu.add(r),kp(s))}function kp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(oe.fromString(t)),r=s.fu.next();s.Au.set(r,new uD(n)),s.du=s.du.insert(n,r),Pb(s.remoteStore,new Xs(xi(_p(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function uu(s,t,n){const r=Tt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=wp.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,y){const b=Tt(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(C=>X.forEach(C.Es,(B=>b.persistence.referenceDelegate.addReference(A,C.targetId,B))).next((()=>X.forEach(C.ds,(B=>b.persistence.referenceDelegate.removeReference(A,C.targetId,B)))))))))}catch(A){if(!Eo(A))throw A;st(Rp,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const B=b.Ms.get(C),$=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(C,J)}}})(r.localStore,u))}async function TD(s,t){const n=Tt(s);if(!n.currentUser.isEqual(t)){st(Vp,"User change. New user:",t.toKey());const r=await Mb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ut(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Ls)}}function bD(s,t){const n=Tt(s),r=n.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let o=Ot();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function $b(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yD.bind(null,t),t.Pu.H_=sD.bind(null,t.eventManager),t.Pu.yu=rD.bind(null,t.eventManager),t}function SD(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return AN(this.persistence,new TN,t.initialUser,this.serializer)}Cu(t){return new Ob(Ap.mi,this.serializer)}Du(t){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class AD extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Ob((r=>bh.mi(r,n)),this.serializer)}}class qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TD.bind(null,this.syncEngine),await ZN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eD})()}createDatastore(t){const n=Hh(t.databaseInfo.databaseId),r=(function(u){return new LN(u)})(t.databaseInfo);return(function(u,f,m,g){return new zN(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new HN(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>F0(this.syncEngine,n,0)),(function(){return U0.v()?new U0:new ON})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,b){const A=new cD(o,u,f,m,g,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Tt(n);st(ta,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class wD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ar="FirestoreClient";class RD{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{st(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(st(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Op(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function pm(s,t){s.asyncQueue.verifyOperationInProgress(),st(ar,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Mb(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function K0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await ID(s);st(ar,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>z0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>z0(t.remoteStore,o))),s._onlineComponents=t}async function ID(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ar,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await pm(s,new Ah)}}else st(ar,"Using default OfflineComponentProvider"),await pm(s,new AD(void 0));return s._offlineComponents}async function Jb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ar,"Using user provided OnlineComponentProvider"),await K0(s,s._uninitializedComponentsProvider._online)):(st(ar,"Using default OnlineComponentProvider"),await K0(s,new qm))),s._onlineComponents}function CD(s){return Jb(s).then((t=>t.syncEngine))}async function xD(s){const t=await Jb(s),n=t.eventManager;return n.onListen=hD.bind(null,t.syncEngine),n.onUnlisten=mD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pD.bind(null,t.syncEngine),n}function ND(s,t,n={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new wD({next:C=>{b.Nu(),f.enqueueAndForget((()=>iD(u,A)));const B=C.docs.has(m);!B&&C.fromCache?y.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&C.fromCache&&g&&g.source==="server"?y.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),A=new aD(_p(m.path),b,{includeMetadataChanges:!0,qa:!0});return nD(u,A)})(await xD(s),s.asyncQueue,t,n,r))),r.promise}function Wb(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Y0=new Map;const Zb="firestore.googleapis.com",Q0=!0;class X0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=Q0}else this.host=t.host,this.ssl=t.ssl??Q0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Db;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sN)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lp{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new x2;switch(r.type){case"firstParty":return new M2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y0.get(n);r&&(st("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())})(this),Promise.resolve()}}function DD(s,t,n,r={}){s=Zr(s,Lp);const o=po(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(RE(`https://${m}`),IE("Firestore",!0)),u.host!==Zb&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!as(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=$e.MOCK_USER;else{y=gw(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(A)}s._authCredentials=new N2(new FT(y,b))}}class Pp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Pp(this.firestore,t,this._query)}}class Oe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ru(n,Oe._jsonSchema))return new Oe(t,r||null,new mt(oe.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Jl extends Pp{constructor(t,n,r){super(t,n,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new mt(t))}withConverter(t){return new Jl(this.firestore,t,this._path)}}function gm(s,t,...n){if(s=Ve(s),arguments.length===1&&(t=hp.newId()),j2("doc","path",t),s instanceof Lp){const r=oe.fromString(t,...n);return u0(r),new Oe(s,null,new mt(r))}{if(!(s instanceof Oe||s instanceof Jl))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...n));return u0(r),new Oe(s.firestore,s instanceof Jl?s.converter:null,new mt(r))}}const $0="AsyncQueue";class J0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&st($0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;st($0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",W0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Dp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function W0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Gh extends Lp{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new J0(t),this._firestoreClient=void 0,await t}}}function OD(s,t){const n=typeof s=="object"?s:Ym(),r=typeof s=="string"?s:ph,o=ia(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=mw("firestore");u&&DD(o,...u)}return o}function tS(s){if(s._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MD(s),s._firestoreClient}function MD(s){const t=s._freezeSettings(),n=(function(o,u,f,m){return new J2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Wb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new RD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ye.fromBase64String(t))}catch(n){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Re("string",zn._jsonSchemaVersion),bytes:Re("string")};class Kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yh{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Re("string",Oi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Re("string",Mi._jsonSchemaVersion),vectorValues:Re("object")};const VD=/^__.*__$/;class kD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}class eS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new hr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function nS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Qh{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(nS(this.Ac)&&VD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(t)}Cc(t,n,r,o=!1){return new Qh({Ac:t,methodName:n,Dc:r,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iS(s){const t=s._freezeSettings(),n=Hh(s._databaseId);return new LD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function PD(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);jp("Data must be an object, but it was:",f,r);const m=sS(r,f);let g,y;if(u.merge)g=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const C=Fm(t,A,n);if(!f.contains(C))throw new ut(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);aS(b,C)||b.push(C)}g=new An(b),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new kD(new dn(m),g,y)}class Xh extends Yh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}function UD(s,t,n){return new Qh({Ac:3,Dc:t.settings.Dc,methodName:s._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Up extends Yh{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=UD(this,t,!0),r=this.vc.map((u=>cu(u,n))),o=new ho(r);return new Ax(t.path,o)}isEqual(t){return t instanceof Up&&as(this.vc,t.vc)}}function jD(s,t,n,r){const o=s.Cc(1,t,n);jp("Data must be an object, but it was:",o,r);const u=[],f=dn.empty();cr(r,((g,y)=>{const b=zp(t,g,n);y=Ve(y);const A=o.yc(b);if(y instanceof Xh)u.push(b);else{const C=cu(y,A);C!=null&&(u.push(b),f.set(b,C))}}));const m=new An(u);return new eS(f,m,o.fieldTransforms)}function zD(s,t,n,r,o,u){const f=s.Cc(1,t,n),m=[Fm(t,r,n)],g=[o];if(u.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(Fm(t,u[C])),g.push(u[C+1]);const y=[],b=dn.empty();for(let C=m.length-1;C>=0;--C)if(!aS(y,m[C])){const B=m[C];let $=g[C];$=Ve($);const J=f.yc(B);if($ instanceof Xh)y.push(B);else{const W=cu($,J);W!=null&&(y.push(B),b.set(B,W))}}const A=new An(y);return new eS(b,A,f.fieldTransforms)}function cu(s,t){if(rS(s=Ve(s)))return jp("Unsupported field value:",t,s),sS(s,t);if(s instanceof Yh)return(function(r,o){if(!nS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=cu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ne.fromDate(r);return{timestampValue:Th(o.serializer,u)}}if(r instanceof ne){const u=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Ab(o.serializer,r._byteString)};if(r instanceof Oe){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mi)return(function(f,m){return{mapValue:{fields:{[ZT]:{stringValue:tb},[gh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return vp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fp(r)}`)})(s,t)}function sS(s,t){const n={};return YT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((r,o)=>{const u=cu(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function rS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof Oi||s instanceof zn||s instanceof Oe||s instanceof Yh||s instanceof Mi)}function jp(s,t,n){if(!rS(n)||!GT(n)){const r=fp(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Fm(s,t,n){if((t=Ve(t))instanceof Kh)return t._internalPath;if(typeof t=="string")return zp(s,t);throw wh("Field path arguments must be of type string or ",s,!1,void 0,n)}const BD=new RegExp("[~\\*/\\[\\]]");function zp(s,t,n){if(t.search(BD)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Kh(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function wh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new ut(Z.INVALID_ARGUMENT,m+s+g)}function aS(s,t){return s.some((n=>n.isEqual(t)))}class oS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HD extends oS{data(){return super.data()}}function lS(s,t){return typeof t=="string"?zp(s,t):t instanceof Kh?t._internalPath:t._delegate._internalPath}class qD{convertValue(t,n="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return cr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[gh].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Oi(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=kh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(t));default:return null}}convertTimestamp(t){const n=nr(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=oe.fromString(t);Ht(Nb(r),9688,{name:t});const o=new Ql(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(n)||us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function FD(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Vl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends oS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(lS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Re("string",Yr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class nh extends Yr{data(t={}){return super.data(t)}}class Bl{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:GD(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}function KD(s){s=Zr(s,Oe);const t=Zr(s.firestore,Gh);return ND(tS(t),s._key).then((n=>XD(t,s,n)))}Bl._jsonSchemaVersion="firestore/querySnapshot/1.0",Bl._jsonSchema={type:Re("string",Bl._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class YD extends qD{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function QD(s,t,n){s=Zr(s,Oe);const r=Zr(s.firestore,Gh),o=FD(s.converter,t);return uS(r,[PD(iS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ni.none())])}function Z0(s,t,n,...r){s=Zr(s,Oe);const o=Zr(s.firestore,Gh),u=iS(o);let f;return f=typeof(t=Ve(t))=="string"||t instanceof Kh?zD(u,"updateDoc",s._key,t,n,r):jD(u,"updateDoc",s._key,t),uS(o,[f.toMutation(s._key,Ni.exists(!0))])}function uS(s,t){return(function(r,o){const u=new Zs;return r.asyncQueue.enqueueAndForget((async()=>gD(await CD(r),o,u))),u.promise})(tS(s),t)}function XD(s,t,n){const r=n.docs.get(t._key),o=new YD(s);return new Yr(s,o,t._key,r,new Vl(n.hasPendingWrites,n.fromCache),t.converter)}function $D(...s){return new Up("arrayUnion",s)}(function(t,n=!0){(function(o){_o=o})(go),Vi(new ii("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Gh(new D2(r.getProvider("auth-internal")),new V2(f,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bn(r0,a0,t),Bn(r0,a0,"esm2020")})();const JD={apiKey:"AIzaSyAOC7HKO557OZIY2sOKubjaazk1ZxpKxdo",authDomain:"workout-tracker-52fc7.firebaseapp.com",projectId:"workout-tracker-52fc7",storageBucket:"workout-tracker-52fc7.firebasestorage.app",messagingSenderId:"1032877044952",appId:"1:1032877044952:web:68598ac1b2618cc24213ad",measurementId:"G-T8H89EHWH0"},Bp=VE(JD);lI(Bp);const $a=I2(Bp),WD=new ns,ym=OD(Bp),Cl=["The only bad workout is the one that didn't happen.","Suffer now and live the rest of your life as a champion. - Muhammad Ali","Light weight baby! - Ronnie Coleman","Your body can stand almost anything. Its your mind that you have to convince.","Success starts with self-discipline.","Pain is weakness leaving the body.","The body achieves what the mind believes.","Don't stop when you're tired. Stop when you're done.","The pain you feel today will be the strength you feel tomorrow.","Discipline is doing what needs to be done, even if you don't want to do it."],ZD=()=>{const[s,t]=Qt.useState(Cl[0]);return Qt.useEffect(()=>{t(Cl[Math.floor(Math.random()*Cl.length)]);const n=setInterval(()=>{t(Cl[Math.floor(Math.random()*Cl.length)])},3e3);return()=>clearInterval(n)},[]),S.jsxs("div",{className:"loading-screen",children:[S.jsx("div",{className:"spinner"}),S.jsx("p",{className:"loading-text",children:"Summoning the Iron Titan..."}),S.jsxs("p",{className:"quote-text",children:['"',s,'"']}),S.jsx("style",{children:`
        .loading-screen {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: #0f1115;
          display: flex; flex-direction: column; align-items: center; justify-content: center;
          z-index: 9999;
          padding: 20px;
          text-align: center;
        }
        .spinner {
          width: 50px; height: 50px;
          border: 4px solid rgba(139, 92, 246, 0.3);
          border-top: 4px solid #8B5CF6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 24px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { 
          color: #9ca3af; 
          font-size: 1rem; 
          margin-bottom: 16px;
          animation: pulse 2s infinite; 
        }
        .quote-text {
          color: white;
          font-size: 1.1rem;
          font-style: italic;
          max-width: 80%;
          line-height: 1.5;
          font-weight: 500;
          animation: fadeIn 0.5s ease-in;
        }
        @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
      `})]})},cS=Qt.createContext(),tE={name:"Athlete",xp:0,level:1,streak:0,lastWorkoutDate:null,badges:[],boss:{hp:1e3,maxHp:1e3,level:1,name:"Iron Titan"}},tO=({children:s})=>{const[t,n]=Qt.useState(()=>localStorage.getItem("workout-tracker-theme")||"dark");Qt.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("workout-tracker-theme",t)},[t]);const r=()=>{n(ot=>ot==="dark"?"light":"dark")},[o,u]=Qt.useState(null),[f,m]=Qt.useState(!0),[g,y]=Qt.useState(null),[b,A]=Qt.useState(()=>localStorage.getItem("gemini_api_key")||""),[C,B]=Qt.useState([]);Qt.useEffect(()=>{const ot=pC($a,async R=>{if(R){u(R);try{const w=gm(ym,"users",R.uid),I=await KD(w);if(I.exists())y(I.data());else{const V={user:{...tE,name:R.displayName||R.email?.split("@")[0]||"Athlete"},workouts:[]};await QD(w,V),y(V)}}catch(w){console.error("Error fetching user data:",w);const I=localStorage.getItem(`workout-tracker-data-${R.uid}`);if(I)y(JSON.parse(I));else{const V={user:{...tE,name:R.displayName||R.email?.split("@")[0]||"Athlete"},workouts:[]};y(V)}}}else u(null),y(null);m(!1)});return()=>ot()},[]);const $=async()=>{m(!0);try{if($a.app.options.apiKey==="YOUR_API_KEY")throw new Error("Firebase not configured. Please update src/firebase.js with your keys.");return await LC($a,WD),{success:!0}}catch(ot){return console.error("Google Login Error:",ot),m(!1),{success:!1,error:ot.message}}},J=async(ot,R)=>{m(!0);try{return await fC($a,ot,R),{success:!0}}catch(w){return console.error("Login Error:",w),m(!1),{success:!1,error:w.message}}},W=async(ot,R)=>{m(!0);try{return await hC($a,ot,R),{success:!0}}catch(w){return console.error("Signup Error:",w),m(!1),{success:!1,error:w.message}}},et=async()=>{try{await gC($a)}catch(ot){console.error("Logout Error:",ot)}},ht=async ot=>{if(y(R=>({...R,workouts:[ot,...R.workouts]})),o)try{const R=gm(ym,"users",o.uid);await Z0(R,{workouts:$D(ot)})}catch(R){console.error("Error saving workout:",R)}},dt=async ot=>{if(y(R=>({...R,user:{...R.user,...ot}})),o)try{const R=gm(ym,"users",o.uid),w={};for(const[I,V]of Object.entries(ot))w[`user.${I}`]=V;await Z0(R,w)}catch(R){console.error("Error updating stats:",R)}},Pt=ot=>{A(ot),localStorage.setItem("gemini_api_key",ot)},qt=async ot=>{if(!g?.user)return;const R=g.user.boss||{hp:1e3,maxHp:1e3,level:1,name:"Iron Titan"};let w=R.hp-ot,I=R.level,V=R.maxHp;w<=0&&(I+=1,V=Math.floor(V*1.5),w=V);const O={...R,hp:w,maxHp:V,level:I};dt({boss:O})};return S.jsx(cS.Provider,{value:{user:g?.user,workouts:g?.workouts||[],isAuthenticated:!!o,loading:f,theme:t,toggleTheme:r,loginWithGoogle:$,loginWithEmail:J,signupWithEmail:W,logout:et,addWorkout:ht,updateUserStats:dt,apiKey:b,saveApiKey:Pt,updateBossProgress:qt,currentWorkout:C,setCurrentWorkout:B},children:f?S.jsx(ZD,{}):s})},Rn=()=>Qt.useContext(cS),hS=({className:s=""})=>{const{theme:t,toggleTheme:n}=Rn();return S.jsxs("label",{className:`theme-switch ${s}`,children:[S.jsx("input",{type:"checkbox",checked:t==="light",onChange:n}),S.jsxs("span",{className:"slider round",children:[S.jsx("span",{className:"icon sun",children:""}),S.jsx("span",{className:"icon moon",children:""})]}),S.jsx("style",{children:`
                .theme-switch {
                    position: relative;
                    display: inline-block;
                    width: 60px;
                    height: 30px;
                }

                .theme-switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: var(--bg-card);
                    border: 1px solid var(--border);
                    transition: .4s;
                    border-radius: 34px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0 5px;
                    overflow: hidden;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 22px;
                    width: 22px;
                    left: 4px;
                    bottom: 3px;
                    background-color: var(--primary);
                    transition: .4s;
                    border-radius: 50%;
                    z-index: 2;
                }

                input:checked + .slider {
                    background-color: var(--bg-card);
                }

                input:checked + .slider:before {
                    transform: translateX(28px);
                }

                .icon {
                    font-size: 14px;
                    z-index: 1;
                    line-height: 1;
                }
                
                .sun { margin-left: 2px; }
                .moon { margin-right: 2px; }
            `})]})},eO=({children:s,activeTab:t,onTabChange:n})=>{const{theme:r}=Rn();return S.jsxs("div",{className:"app-container",children:[S.jsx("div",{className:"page-content",children:s}),S.jsxs("nav",{className:"bottom-nav glass-panel",children:[S.jsxs("button",{className:`nav-item ${t==="dashboard"?"active":""}`,onClick:()=>n("dashboard"),children:[S.jsx("span",{className:"nav-icon",children:""}),S.jsx("span",{className:"nav-label",children:"Home"})]}),S.jsxs("button",{className:`nav-item ${t==="history"?"active":""}`,onClick:()=>n("history"),children:[S.jsx("span",{className:"nav-icon",children:""}),S.jsx("span",{className:"nav-label",children:"History"})]}),S.jsx("button",{className:`nav-item ${t==="workout"?"active":""}`,onClick:()=>n("workout"),children:S.jsx("div",{className:"nav-fab",children:"+"})}),S.jsxs("button",{className:`nav-item ${t==="badges"?"active":""}`,onClick:()=>n("badges"),children:[S.jsx("span",{className:"nav-icon",children:""}),S.jsx("span",{className:"nav-label",children:"Badges"})]})]}),S.jsx("div",{className:"layout-theme-toggle",children:S.jsx(hS,{})}),S.jsx("style",{children:`
        .layout-theme-toggle {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 100;
        }
        
        .bottom-nav {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          width: calc(100% - 40px);
          max-width: 400px;
          height: 70px;
          border-radius: 24px;
          display: flex;
          justify-content: space-around;
          align-items: center;
          z-index: 100;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .nav-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          padding: 0;
          color: var(--text-muted);
          font-size: 0.75rem;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          width: 60px;
          cursor: pointer;
        }

        .nav-item.active {
          color: var(--primary);
          transform: translateY(-2px);
        }

        .nav-icon {
          font-size: 1.5rem;
          margin-bottom: 2px;
          filter: grayscale(100%);
          transition: filter 0.3s;
        }

        .nav-item.active .nav-icon {
          filter: grayscale(0%);
        }

        .nav-fab {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 2rem;
          font-weight: 300;
          box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
          transform: translateY(-20px);
          transition: transform 0.2s;
          border: 4px solid var(--bg-app);
        }

        .nav-item:active .nav-fab {
          transform: translateY(-18px) scale(0.95);
        }
      `})]})},nO=()=>new Date().toISOString().split("T")[0],fS=(s,t)=>!s||!t?!1:s.split("T")[0]===t.split("T")[0],iO=s=>{if(!s)return!1;const t=new Date,n=new Date(t);return n.setDate(n.getDate()-1),fS(s,n.toISOString())},dS=[{id:"first_workout",name:"Spartan Initiate",description:"Complete your first workout",icon:""},{id:"streak_3",name:"Hermes Speed",description:"Maintain a 3-day streak",icon:""},{id:"streak_7",name:"Hercules Strength",description:"Maintain a 7-day streak",icon:""},{id:"streak_30",name:"Titan Endurance",description:"Maintain a 30-day streak",icon:""},{id:"heavy_lifter",name:"Atlas Bearer",description:"Lift over 100kg in any exercise",icon:""},{id:"level_5",name:"Olympian",description:"Reach Level 5",icon:""}],sO=(s,t)=>{const n=nO();return s?fS(s,n)?t:iO(s)?t+1:1:1},rO=s=>{let t=50;return s.exercises.forEach(n=>{t+=n.sets.length*10}),t},mS=s=>Math.floor(s/100)+1,aO=(s,t)=>{const n=[],r=new Set(s.badges);return r.has("first_workout")||n.push("first_workout"),s.streak>=3&&!r.has("streak_3")&&n.push("streak_3"),s.streak>=7&&!r.has("streak_7")&&n.push("streak_7"),s.streak>=30&&!r.has("streak_30")&&n.push("streak_30"),s.level>=5&&!r.has("level_5")&&n.push("level_5"),n},oO=()=>{const{user:s}=Rn(),t=s?.boss||{name:"Iron Titan",level:1,hp:1e3,maxHp:1e3},n=Math.max(0,t.hp/t.maxHp*100);return S.jsxs("div",{className:"card boss-card glass-panel",children:[S.jsxs("div",{className:"boss-header",children:[S.jsxs("div",{className:"boss-info",children:[S.jsxs("span",{className:"boss-level",children:["LVL ",t.level]}),S.jsx("h3",{children:t.name})]}),S.jsxs("div",{className:"boss-hp-text",children:[Math.ceil(t.hp)," / ",t.maxHp," HP"]})]}),S.jsx("div",{className:"hp-bar-container",children:S.jsx("div",{className:"hp-bar-fill",style:{width:`${n}%`}})}),S.jsx("div",{className:"boss-visual",children:S.jsx("div",{className:"boss-avatar",children:""})}),S.jsx("style",{children:`
        .boss-card {
          background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(0, 0, 0, 0.4));
          border: 1px solid rgba(220, 38, 38, 0.3);
          margin-bottom: 20px;
          position: relative;
          overflow: hidden;
        }
        
        .boss-header {
          display: flex; justify-content: space-between; align-items: flex-end;
          margin-bottom: 8px;
        }
        
        .boss-level {
          font-size: 0.7rem; font-weight: 800; color: var(--error);
          letter-spacing: 1px;
        }
        
        .boss-hp-text {
          font-family: monospace; font-size: 0.9rem; color: var(--text-muted);
        }
        
        .hp-bar-container {
          width: 100%; height: 12px; background: rgba(0,0,0,0.5);
          border-radius: 6px; overflow: hidden;
          box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .hp-bar-fill {
          height: 100%; background: linear-gradient(90deg, #ef4444, #b91c1c);
          transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .boss-visual {
          position: absolute; right: -20px; bottom: -20px;
          font-size: 5rem; opacity: 0.2; transform: rotate(-10deg);
          pointer-events: none;
        }
      `})]})},lO=({onClose:s})=>{const{apiKey:t,saveApiKey:n,logout:r}=Rn(),[o,u]=Qt.useState(t),f=()=>{n(o),s()};return S.jsxs("div",{className:"modal-overlay",children:[S.jsxs("div",{className:"modal-content glass-panel",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"Settings"}),S.jsx("button",{className:"close-btn",onClick:s,children:""})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Gemini API Key"}),S.jsx("input",{type:"password",value:o,onChange:m=>u(m.target.value),placeholder:"Enter your API Key",className:"api-input"}),S.jsxs("p",{className:"text-sm text-muted",children:["Required for AI Sensei & Smart Features.",S.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"link",children:" Get Key"})]})]}),S.jsxs("div",{className:"actions",children:[S.jsx("button",{onClick:f,className:"btn-primary btn-full",children:"Save Settings"}),S.jsx("button",{onClick:r,className:"btn-secondary btn-full mt-2",children:"Logout"})]})]}),S.jsx("style",{children:`
        .modal-overlay {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: rgba(0,0,0,0.8); z-index: 200;
          display: flex; align-items: center; justify-content: center;
          backdrop-filter: blur(5px);
        }
        .modal-content {
            width: 90%; max-width: 400px; padding: 24px; border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 24px;
        }
        .close-btn {
            background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;
        }
        .api-input {
            width: 100%; padding: 12px; background: rgba(0,0,0,0.3);
            border: 1px solid var(--border); border-radius: 12px; color: white;
            margin-top: 8px;
        }
        .text-sm { font-size: 0.8rem; margin-top: 8px; color: var(--text-muted); }
        .link { color: var(--primary); text-decoration: underline; }
        .mt-2 { margin-top: 12px; }
      `})]})};var eE;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(eE||(eE={}));var nE;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(nE||(nE={}));var iE;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iE||(iE={}));const sE=["user","model","function","system"];var rE;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(rE||(rE={}));var aE;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(aE||(aE={}));var oE;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(oE||(oE={}));var lE;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(lE||(lE={}));var Hl;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Hl||(Hl={}));var uE;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(uE||(uE={}));var cE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(cE||(cE={}));var hE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(hE||(hE={}));class We extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ja extends We{constructor(t,n){super(t),this.response=n}}class pS extends We{constructor(t,n,r,o){super(t),this.status=n,this.statusText=r,this.errorDetails=o}}class tr extends We{}class gS extends We{}const uO="https://generativelanguage.googleapis.com",cO="v1beta",hO="0.24.1",fO="genai-js";var ea;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ea||(ea={}));class dO{constructor(t,n,r,o,u){this.model=t,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=u}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||cO;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||uO}/${r}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function mO(s){const t=[];return s?.apiClient&&t.push(s.apiClient),t.push(`${fO}/${hO}`),t.join(" ")}async function pO(s){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",mO(s.requestOptions)),n.append("x-goog-api-key",s.apiKey);let r=(t=s.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new tr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,u]of r.entries()){if(o==="x-goog-api-key")throw new tr(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new tr(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function gO(s,t,n,r,o,u){const f=new dO(s,t,n,r,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},EO(u)),{method:"POST",headers:await pO(f),body:o})}}async function hu(s,t,n,r,o,u={},f=fetch){const{url:m,fetchOptions:g}=await gO(s,t,n,r,o,u);return yO(m,g,f)}async function yO(s,t,n=fetch){let r;try{r=await n(s,t)}catch(o){_O(o,s)}return r.ok||await vO(r,s),r}function _O(s,t){let n=s;throw n.name==="AbortError"?(n=new gS(`Request aborted when fetching ${t.toString()}: ${s.message}`),n.stack=s.stack):s instanceof pS||s instanceof tr||(n=new We(`Error fetching from ${t.toString()}: ${s.message}`),n.stack=s.stack),n}async function vO(s,t){let n="",r;try{const o=await s.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new pS(`Error fetching from ${t.toString()}: [${s.status} ${s.statusText}] ${n}`,s.status,s.statusText,r)}function EO(s){const t={};if(s?.signal!==void 0||s?.timeout>=0){const n=new AbortController;s?.timeout>=0&&setTimeout(()=>n.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function Hp(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return TO(s)}else if(s.promptFeedback)throw new Ja(`Text not available. ${Gs(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fE(s)[0]}else if(s.promptFeedback)throw new Ja(`Function call not available. ${Gs(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ih(s.candidates[0]))throw new Ja(`${Gs(s)}`,s);return fE(s)}else if(s.promptFeedback)throw new Ja(`Function call not available. ${Gs(s)}`,s)},s}function TO(s){var t,n,r,o;const u=[];if(!((n=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function fE(s){var t,n,r,o;const u=[];if(!((n=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const bO=[Hl.RECITATION,Hl.SAFETY,Hl.LANGUAGE];function ih(s){return!!s.finishReason&&bO.includes(s.finishReason)}function Gs(s){var t,n,r;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((t=s.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((n=s.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const u=s.candidates[0];ih(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function Wl(s){return this instanceof Wl?(this.v=s,this):new Wl(s)}function SO(s,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(s,t||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(C){r[C]&&(o[C]=function(B){return new Promise(function($,J){u.push([C,B,$,J])>1||m(C,B)})})}function m(C,B){try{g(r[C](B))}catch($){A(u[0][3],$)}}function g(C){C.value instanceof Wl?Promise.resolve(C.value.v).then(y,b):A(u[0][2],C)}function y(C){m("next",C)}function b(C){m("throw",C)}function A(C,B){C(B),u.shift(),u.length&&m(u[0][0],u[0][1])}}const dE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function AO(s){const t=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=IO(t),[r,o]=n.tee();return{stream:RO(r),response:wO(o)}}async function wO(s){const t=[],n=s.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return Hp(CO(t));t.push(o)}}function RO(s){return SO(this,arguments,function*(){const n=s.getReader();for(;;){const{value:r,done:o}=yield Wl(n.read());if(o)break;yield yield Wl(Hp(r))}})}function IO(s){const t=s.getReader();return new ReadableStream({start(r){let o="";return u();function u(){return t.read().then(({value:f,done:m})=>{if(m){if(o.trim()){r.error(new We("Failed to parse stream"));return}r.close();return}o+=f;let g=o.match(dE),y;for(;g;){try{y=JSON.parse(g[1])}catch{r.error(new We(`Error parsing JSON response: "${g[1]}"`));return}r.enqueue(y),o=o.substring(g[0].length),g=o.match(dE)}return u()}).catch(f=>{let m=f;throw m.stack=f.stack,m.name==="AbortError"?m=new gS("Request aborted when reading from the stream"):m=new We("Error reading from the stream"),m})}}})}function CO(s){const t=s[s.length-1],n={promptFeedback:t?.promptFeedback};for(const r of s){if(r.candidates){let o=0;for(const u of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const f={};for(const m of u.content.parts)m.text&&(f.text=m.text),m.functionCall&&(f.functionCall=m.functionCall),m.executableCode&&(f.executableCode=m.executableCode),m.codeExecutionResult&&(f.codeExecutionResult=m.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function yS(s,t,n,r){const o=await hu(t,ea.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(n),r);return AO(o)}async function _S(s,t,n,r){const u=await(await hu(t,ea.GENERATE_CONTENT,s,!1,JSON.stringify(n),r)).json();return{response:Hp(u)}}function vS(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Zl(s){let t=[];if(typeof s=="string")t=[{text:s}];else for(const n of s)typeof n=="string"?t.push({text:n}):t.push(n);return xO(t)}function xO(s){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const u of s)"functionResponse"in u?(n.parts.push(u),o=!0):(t.parts.push(u),r=!0);if(r&&o)throw new We("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new We("No content is provided for sending chat message.");return r?t:n}function NO(s,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new tr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(o)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const u=Zl(s);r.contents=[u]}return{generateContentRequest:r}}function mE(s){let t;return s.contents?t=s:t={contents:[Zl(s)]},s.systemInstruction&&(t.systemInstruction=vS(s.systemInstruction)),t}function DO(s){return typeof s=="string"||Array.isArray(s)?{content:Zl(s)}:s}const pE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],OO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function MO(s){let t=!1;for(const n of s){const{role:r,parts:o}=n;if(!t&&r!=="user")throw new We(`First content should be with role 'user', got ${r}`);if(!sE.includes(r))throw new We(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(sE)}`);if(!Array.isArray(o))throw new We("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new We("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const g of pE)g in m&&(u[g]+=1);const f=OO[r];for(const m of pE)if(!f.includes(m)&&u[m]>0)throw new We(`Content with role '${r}' can't contain '${m}' part`);t=!0}}function gE(s){var t;if(s.candidates===void 0||s.candidates.length===0)return!1;const n=(t=s.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const yE="SILENT_ERROR";class VO{constructor(t,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(MO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,o,u,f,m,g;await this._sendPromise;const y=Zl(t),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},A=Object.assign(Object.assign({},this._requestOptions),n);let C;return this._sendPromise=this._sendPromise.then(()=>_S(this._apiKey,this.model,b,A)).then(B=>{var $;if(gE(B.response)){this._history.push(y);const J=Object.assign({parts:[],role:"model"},($=B.response.candidates)===null||$===void 0?void 0:$[0].content);this._history.push(J)}else{const J=Gs(B.response);J&&console.warn(`sendMessage() was unsuccessful. ${J}. Inspect response object for details.`)}C=B}).catch(B=>{throw this._sendPromise=Promise.resolve(),B}),await this._sendPromise,C}async sendMessageStream(t,n={}){var r,o,u,f,m,g;await this._sendPromise;const y=Zl(t),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},A=Object.assign(Object.assign({},this._requestOptions),n),C=yS(this._apiKey,this.model,b,A);return this._sendPromise=this._sendPromise.then(()=>C).catch(B=>{throw new Error(yE)}).then(B=>B.response).then(B=>{if(gE(B)){this._history.push(y);const $=Object.assign({},B.candidates[0].content);$.role||($.role="model"),this._history.push($)}else{const $=Gs(B);$&&console.warn(`sendMessageStream() was unsuccessful. ${$}. Inspect response object for details.`)}}).catch(B=>{B.message!==yE&&console.error(B)}),C}}async function kO(s,t,n,r){return(await hu(t,ea.COUNT_TOKENS,s,!1,JSON.stringify(n),r)).json()}async function LO(s,t,n,r){return(await hu(t,ea.EMBED_CONTENT,s,!1,JSON.stringify(n),r)).json()}async function PO(s,t,n,r){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:t}));return(await hu(t,ea.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),r)).json()}class _E{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=vS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const o=mE(t),u=Object.assign(Object.assign({},this._requestOptions),n);return _S(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}async generateContentStream(t,n={}){var r;const o=mE(t),u=Object.assign(Object.assign({},this._requestOptions),n);return yS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}startChat(t){var n;return new VO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=NO(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return kO(this.apiKey,this.model,r,o)}async embedContent(t,n={}){const r=DO(t),o=Object.assign(Object.assign({},this._requestOptions),n);return LO(this.apiKey,this.model,r,o)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return PO(this.apiKey,this.model,t,r)}}class UO{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new We("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new _E(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new tr("Cached content must contain a `name` field.");if(!t.model)throw new tr("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n?.[f]&&t[f]&&n?.[f]!==t[f]){if(f==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,g=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(m===g)continue}throw new tr(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${t[f]})`)}const u=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new _E(this.apiKey,u,r)}}const jO=async(s,t)=>{if(!s)throw new Error("API Key is missing");try{const r=new UO(s).getGenerativeModel({model:"gemini-1.5-flash"}),o=`
      You are an expert fitness coach (Sensei). Create a workout plan for me.
      
      My Profile:
      - Level: ${t.level||1}
      - Goal: ${t.goal||"General Fitness"}
      - Recent Activity: ${t.recentWorkouts?t.recentWorkouts.length:0} workouts this week.
      
      You can include exercises from Strength, Calisthenics, Yoga, Cardio, or Flexibility.
      For Yoga/Cardio, use 'sets' as 1, 'reps' as 1, and 'weight' as duration in minutes (if applicable) or 0.
      
      Output strictly in JSON format with this structure:
      {
        "name": "Workout Name",
        "description": "Brief motivation",
        "exercises": [
          { "name": "Exercise Name", "sets": 3, "reps": 10, "weight": 20, "notes": "Form tip" }
        ]
      }
      
      Do not include markdown formatting like \`\`\`json. Just the raw JSON.
    `,g=(await(await r.generateContent(o)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(g)}catch(n){throw console.error("AI Generation Error:",n),n}},zO=({onClose:s,onAccept:t})=>{const{apiKey:n,user:r,workouts:o}=Rn(),[u,f]=Qt.useState(!1),[m,g]=Qt.useState(null),[y,b]=Qt.useState(""),[A,C]=Qt.useState("Strength"),B=async()=>{if(!n){b("Please set your API Key in Settings first.");return}f(!0),b("");try{const $={level:r.level,goal:A,recentWorkouts:o.slice(0,5)},J=await jO(n,$);g(J)}catch{b("Failed to generate plan. Check your API Key.")}finally{f(!1)}};return S.jsxs("div",{className:"modal-overlay",children:[S.jsxs("div",{className:"modal-content glass-panel",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"Sensei AI"}),S.jsx("button",{className:"close-btn",onClick:s,children:""})]}),m?S.jsxs("div",{className:"plan-preview",children:[S.jsx("h3",{children:m.name}),S.jsx("p",{className:"plan-desc",children:m.description}),S.jsx("div",{className:"plan-exercises",children:m.exercises.map(($,J)=>S.jsxs("div",{className:"plan-item",children:[S.jsx("span",{className:"ex-name",children:$.name}),S.jsxs("span",{className:"ex-details",children:[$.sets,"x",$.reps," @ ",$.weight,"kg"]})]},J))}),S.jsx("button",{onClick:()=>t(m.exercises),className:"btn-primary btn-full mt-4",children:"Start This Workout"}),S.jsx("button",{onClick:()=>g(null),className:"btn-secondary btn-full mt-2",children:"Regenerate"})]}):S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"mb-4",children:"I will design a custom workout for you based on your history and level."}),S.jsxs("div",{className:"form-group mb-4",children:[S.jsx("label",{children:"Today's Focus"}),S.jsxs("select",{value:A,onChange:$=>C($.target.value),className:"select-input",children:[S.jsx("option",{value:"Strength",children:"Strength & Power"}),S.jsx("option",{value:"Hypertrophy",children:"Muscle Building"}),S.jsx("option",{value:"Endurance",children:"Endurance & Cardio"}),S.jsx("option",{value:"Recovery",children:"Active Recovery"})]})]}),y&&S.jsx("p",{className:"error-msg mb-4",children:y}),S.jsx("button",{onClick:B,className:"btn-primary btn-full",disabled:u,children:u?"Consulting the Scrolls...":"Generate Plan"})]})]}),S.jsx("style",{children:`
        .modal-overlay {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          background: rgba(0,0,0,0.8); z-index: 200;
          display: flex; align-items: center; justify-content: center;
          backdrop-filter: blur(5px);
        }
        .modal-content {
            width: 90%; max-width: 400px; padding: 24px; border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
            max-height: 80vh; overflow-y: auto;
        }
        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 24px;
        }
        .close-btn {
            background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;
        }
        .select-input {
            width: 100%; padding: 12px; background: rgba(0,0,0,0.3);
            border: 1px solid var(--border); border-radius: 12px; color: white;
            margin-top: 8px;
        }
        .mb-4 { margin-bottom: 16px; }
        .mt-4 { margin-top: 16px; }
        .mt-2 { margin-top: 8px; }
        .error-msg { color: var(--error); font-size: 0.9rem; }
        
        .plan-desc { color: var(--text-muted); font-style: italic; margin-bottom: 16px; }
        .plan-item {
            display: flex; justify-content: space-between;
            padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .ex-name { font-weight: 600; }
        .ex-details { color: var(--primary); }
      `})]})},vE=({onNavigate:s,onStartWorkout:t})=>{const{user:n,logout:r,workouts:o,setCurrentWorkout:u}=Rn(),[f,m]=Qt.useState(!1),[g,y]=Qt.useState(!1),b=mS(n.xp),A=(b+1)*1e3,C=b*1e3,B=(n.xp-C)/(A-C)*100,$=new Set(n.badges),J=dS.filter(et=>!$.has(et.id)).slice(0,2),W=et=>{u(et),y(!1),t()};return S.jsxs("div",{className:"dashboard",children:[S.jsxs("header",{className:"header flex-between",children:[S.jsxs("div",{children:[S.jsxs("h1",{className:"greeting",children:["Hello, ",S.jsx("span",{className:"text-gradient",children:n.name})]}),S.jsx("p",{className:"subtitle",children:"Ready to conquer today?"})]}),S.jsxs("div",{className:"header-actions",children:[S.jsx("button",{onClick:()=>m(!0),className:"btn-icon","aria-label":"Settings",children:""}),S.jsx("button",{onClick:r,className:"btn-icon","aria-label":"Logout",children:""})]})]}),S.jsx(oO,{}),S.jsx("div",{className:"ai-actions mb-4",children:S.jsxs("button",{className:"btn-sensei glass-panel",onClick:()=>y(!0),children:[S.jsx("span",{className:"sensei-icon",children:""}),S.jsxs("div",{className:"sensei-text",children:[S.jsx("h3",{children:"Ask Sensei"}),S.jsx("p",{children:"Get a personalized AI workout plan"})]}),S.jsx("span",{className:"arrow",children:""})]})}),S.jsxs("div",{className:"stats-grid",children:[S.jsxs("div",{className:"card stat-card glass-panel",children:[S.jsx("span",{className:"stat-icon",children:""}),S.jsxs("div",{className:"stat-info",children:[S.jsx("h3",{children:n.streak}),S.jsx("p",{children:"Day Streak"})]})]}),S.jsxs("div",{className:"card stat-card glass-panel",children:[S.jsx("span",{className:"stat-icon",children:""}),S.jsxs("div",{className:"stat-info",children:[S.jsx("h3",{children:n.xp}),S.jsx("p",{children:"Total XP"})]})]}),S.jsxs("div",{className:"card stat-card glass-panel full-width",children:[S.jsxs("div",{className:"level-info flex-between",children:[S.jsx("span",{className:"stat-icon",children:""}),S.jsxs("div",{className:"stat-text",children:[S.jsxs("h3",{children:["Level ",b]}),S.jsxs("p",{children:[A-n.xp," XP to next level"]})]})]}),S.jsx("div",{className:"progress-bar-bg",children:S.jsx("div",{className:"progress-bar-fill",style:{width:`${B}%`}})})]})]}),S.jsxs("section",{className:"section",children:[S.jsxs("div",{className:"flex-between mb-2",children:[S.jsx("h2",{children:"Next Milestones"}),S.jsx("span",{className:"see-all",onClick:()=>s("badges"),children:"View All"})]}),S.jsx("div",{className:"badges-scroll",children:J.length>0?J.map(et=>S.jsxs("div",{className:"badge-card locked glass-panel",children:[S.jsx("div",{className:"badge-icon",children:et.icon}),S.jsxs("div",{className:"badge-details",children:[S.jsx("h4",{children:et.name}),S.jsx("p",{children:et.description})]})]},et.id)):S.jsx("div",{className:"empty-state",children:S.jsx("p",{children:"You're a legend! All current badges earned."})})})]}),S.jsxs("section",{className:"section",children:[S.jsx("h2",{children:"Recent Activity"}),S.jsx("div",{className:"activity-list",children:o.length===0?S.jsxs("div",{className:"card empty-card",children:[S.jsx("p",{children:"No workouts yet. Start your legend today!"}),S.jsx("button",{onClick:()=>t(),className:"btn-primary mt-2",children:"Start First Workout"})]}):o.slice(0,3).map((et,ht)=>S.jsxs("div",{className:"card workout-card glass-panel",children:[S.jsxs("div",{className:"workout-header",children:[S.jsx("span",{className:"workout-date",children:new Date(et.date).toLocaleDateString()}),S.jsxs("span",{className:"workout-xp",children:["+",et.xpEarned||0," XP"]})]}),S.jsxs("div",{className:"workout-summary",children:[et.exercises.length," Exercises Completed"]})]},ht))})]}),f&&S.jsx(lO,{onClose:()=>m(!1)}),g&&S.jsx(zO,{onClose:()=>y(!1),onAccept:W}),S.jsx("style",{children:`
                .header {
                    margin-bottom: 24px;
                    padding-top: 10px;
                }
                .greeting {
                    font-size: 1.75rem;
                    margin-bottom: 4px;
                }
                .subtitle {
                    color: var(--text-muted);
                    font-size: 0.9rem;
                }
                .header-actions {
                    display: flex; gap: 12px;
                }
                
                .btn-sensei {
                    width: 100%;
                    display: flex;
                    align-items: center;
                    padding: 16px;
                    border: 1px solid var(--primary);
                    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(0,0,0,0));
                    border-radius: 16px;
                    cursor: pointer;
                    transition: transform 0.2s;
                    text-align: left;
                }
                .btn-sensei:active { transform: scale(0.98); }
                .sensei-icon { font-size: 2rem; margin-right: 16px; }
                .sensei-text h3 { color: var(--primary); margin-bottom: 4px; }
                .sensei-text p { color: var(--text-muted); font-size: 0.8rem; }
                .arrow { margin-left: auto; color: var(--primary); font-size: 1.5rem; }
                
                .stats-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 12px;
                    margin-bottom: 32px;
                }
                .stat-card {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 16px;
                    margin-bottom: 0;
                    background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
                }
                .stat-card.full-width {
                    grid-column: span 2;
                    align-items: stretch;
                    text-align: left;
                }
                .stat-icon {
                    font-size: 2rem;
                    margin-bottom: 8px;
                    filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
                }
                .stat-info h3 {
                    font-size: 1.5rem;
                    color: white;
                    margin-bottom: 2px;
                }
                .stat-info p {
                    font-size: 0.8rem;
                    color: var(--text-muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                .level-info {
                    margin-bottom: 12px;
                }
                .level-info .stat-icon {
                    font-size: 2.5rem;
                    margin-bottom: 0;
                    margin-right: 16px;
                }
                .progress-bar-bg {
                    height: 8px;
                    background: rgba(255,255,255,0.1);
                    border-radius: 4px;
                    overflow: hidden;
                }
                .progress-bar-fill {
                    height: 100%;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    border-radius: 4px;
                    transition: width 1s ease-out;
                }

                .section {
                    margin-bottom: 32px;
                }
                .mb-2 { margin-bottom: 16px; }
                .mb-4 { margin-bottom: 24px; }
                .mt-2 { margin-top: 16px; }
                
                .see-all {
                    color: var(--primary);
                    font-size: 0.9rem;
                    font-weight: 600;
                    cursor: pointer;
                }

                .badges-scroll {
                    display: flex;
                    gap: 12px;
                    overflow-x: auto;
                    padding-bottom: 10px;
                    margin: 0 -20px;
                    padding: 0 20px 20px 20px;
                    -webkit-overflow-scrolling: touch;
                }
                .badge-card {
                    min-width: 160px;
                    padding: 16px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.05);
                }
                .badge-card.locked {
                    opacity: 0.7;
                }
                .badge-icon {
                    font-size: 2.5rem;
                    margin-bottom: 12px;
                    filter: grayscale(100%);
                }
                .badge-details h4 {
                    font-size: 0.9rem;
                    margin-bottom: 4px;
                    color: var(--text-main);
                }
                .badge-details p {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                    line-height: 1.3;
                }

                .workout-card {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 16px;
                }
                .workout-date {
                    font-weight: 600;
                    color: var(--text-main);
                }
                .workout-xp {
                    color: var(--accent);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .workout-summary {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin-top: 4px;
                }
                .empty-card {
                    text-align: center;
                    padding: 32px;
                    color: var(--text-muted);
                }
            `})]})},BO=(s,t)=>{const n=t.filter(f=>f.exercises.some(m=>m.name===s)).sort((f,m)=>new Date(m.date)-new Date(f.date)).slice(0,3);if(!n.length)return null;const r=n[0].exercises.find(f=>f.name===s);if(!r||!r.sets||!r.sets.length)return null;const o=Math.max(...r.sets.map(f=>Number(f.weight)||0));return r.sets.filter(f=>Number(f.weight)===o&&Number(f.reps)>=8).length>=2?o+2.5:o},HO=["Bench Press","Squat","Deadlift","Overhead Press","Barbell Row","Dumbbell Press","Dumbbell Lunges","Leg Press","Lat Pulldown","Bicep Curl","Tricep Extension","Face Pull","Lateral Raise","Push Up","Pull Up","Dip","Chin Up","Muscle Up","Air Squat","Pistol Squat","L-Sit","Plank","Burpee","Handstand Push Up","Box Jump","Downward Dog","Upward Dog","Warrior I","Warrior II","Tree Pose","Crow Pose","Child's Pose","Sun Salutation A","Sun Salutation B","Corpse Pose (Savasana)","Running","Cycling","Jump Rope","Rowing Machine","Elliptical","Swimming","Sprinting","HIIT","Foam Rolling","Hamstring Stretch","Hip Flexor Stretch","Shoulder Dislocates"],qO=({onFinish:s})=>{const{user:t,workouts:n,addWorkout:r,updateUserStats:o,updateBossProgress:u,currentWorkout:f,setCurrentWorkout:m}=Rn(),[g,y]=Qt.useState(""),b=()=>{const J=g.trim();if(!J)return;const W=BO(J,n);m([...f,{id:Date.now(),name:J,targetWeight:W,sets:3,reps:10,weight:W||20}]),y("")},A=(J,W,et)=>{const ht=[...f];ht[J][W]=Number(et),m(ht)},C=J=>{const W=f.filter((et,ht)=>ht!==J);m(W)},B=()=>{if(f.length===0)return;const J={id:crypto.randomUUID(),date:new Date().toISOString(),exercises:f},W=rO(J),et=sO(t.lastWorkoutDate,t.streak),ht=t.xp+W,dt=mS(ht),Pt=f.reduce((w,I)=>w+I.sets*I.reps*I.weight,0),qt=Math.floor(Pt/50),ot={...t,streak:et,xp:ht,level:dt,lastWorkoutDate:new Date().toISOString()},R=aO(ot);r(J),o({streak:et,xp:ot.xp,level:ot.level,lastWorkoutDate:ot.lastWorkoutDate,badges:[...t.badges,...R]}),u(qt),m([]),s()},$=f.length*10;return S.jsxs("div",{className:"workout-session",children:[S.jsxs("header",{className:"flex-between mb-2",children:[S.jsx("h2",{children:"Workout Session"}),S.jsxs("div",{className:"xp-badge",children:["+",$," XP"]})]}),S.jsx("div",{className:"exercise-list",children:f.map((J,W)=>S.jsxs("div",{className:"card exercise-card glass-panel",children:[S.jsxs("div",{className:"exercise-header",children:[S.jsx("h3",{children:J.name}),S.jsx("button",{className:"btn-icon delete-btn",onClick:()=>C(W),children:""})]}),S.jsxs("div",{className:"exercise-inputs",children:[S.jsxs("div",{className:"input-col",children:[S.jsx("label",{children:"Sets"}),S.jsx("input",{type:"number",value:J.sets,onChange:et=>A(W,"sets",et.target.value),placeholder:"0",inputMode:"numeric"})]}),S.jsxs("div",{className:"input-col",children:[S.jsx("label",{children:"Reps"}),S.jsx("input",{type:"number",value:J.reps,onChange:et=>A(W,"reps",et.target.value),placeholder:"0",inputMode:"numeric"})]}),S.jsxs("div",{className:"input-col",children:[S.jsx("label",{children:"Lbs"}),S.jsx("input",{type:"number",value:J.weight,onChange:et=>A(W,"weight",et.target.value),placeholder:"0",inputMode:"numeric"})]})]})]},W))}),S.jsxs("div",{className:"add-exercise-section",children:[S.jsxs("div",{className:"exercise-input-group",children:[S.jsx("input",{list:"exercise-options",value:g,onChange:J=>y(J.target.value),className:"exercise-input",placeholder:"Type or select exercise..."}),S.jsx("datalist",{id:"exercise-options",children:HO.map(J=>S.jsx("option",{value:J},J))})]}),S.jsx("button",{onClick:b,className:"btn-secondary btn-full mt-2",disabled:!g.trim(),children:"+ Add Exercise"})]}),S.jsx("div",{className:"action-bar",children:S.jsx("button",{onClick:B,className:"btn-primary btn-full finish-btn",children:"Finish Workout"})}),S.jsx("style",{children:`
                .workout-session {
                    padding-bottom: 80px;
                }
                .xp-badge {
                    background: rgba(16, 185, 129, 0.2);
                    color: var(--accent);
                    padding: 4px 12px;
                    border-radius: var(--radius-full);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .exercise-card {
                    margin-bottom: 16px;
                    animation: slideIn 0.3s ease-out;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .exercise-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 12px;
                }
                .exercise-header h3 {
                    font-size: 1.1rem;
                    color: white;
                }
                .delete-btn {
                    color: var(--error);
                    opacity: 0.7;
                }
                .exercise-inputs {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 12px;
                }
                .input-col label {
                    text-align: center;
                    font-size: 0.75rem;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .input-col input {
                    text-align: center;
                    font-size: 1.1rem;
                    font-weight: 600;
                    padding: 12px 8px;
                }
                
                .exercise-input {
                    width: 100%;
                    padding: 16px;
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius-md);
                    color: white;
                    font-size: 1rem;
                }

                .action-bar {
                    position: fixed;
                    bottom: 90px; /* Above nav bar */
                    left: 50%;
                    transform: translateX(-50%);
                    width: calc(100% - 40px);
                    max-width: 400px;
                    z-index: 90;
                }
                
                .finish-btn {
                    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
                    font-size: 1.1rem;
                    padding: 16px;
                }
                
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 12px; }
            `})]})},FO=()=>{const{workouts:s}=Rn(),t=[...s].sort((n,r)=>new Date(r.date)-new Date(n.date));return S.jsxs("div",{className:"history-page",children:[S.jsxs("header",{className:"header",children:[S.jsx("h1",{children:"Workout History"}),S.jsx("p",{className:"subtitle",children:"Your legacy in the making"})]}),S.jsx("div",{className:"history-list",children:t.length===0?S.jsxs("div",{className:"empty-state glass-panel",children:[S.jsx("span",{className:"empty-icon",children:""}),S.jsx("p",{children:"No workouts recorded yet."}),S.jsx("p",{className:"sub-text",children:"Complete your first workout to see it here."})]}):t.map((n,r)=>S.jsxs("div",{className:"history-card glass-panel",children:[S.jsxs("div",{className:"card-header",children:[S.jsxs("div",{className:"date-info",children:[S.jsx("span",{className:"day",children:new Date(n.date).toLocaleDateString(void 0,{weekday:"short"})}),S.jsx("span",{className:"date",children:new Date(n.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),S.jsxs("div",{className:"xp-badge",children:["+",n.xpEarned," XP"]})]}),S.jsxs("div",{className:"card-content",children:[S.jsxs("div",{className:"exercise-count",children:[S.jsx("span",{className:"icon",children:""}),S.jsxs("span",{children:[n.exercises.length," Exercises"]})]}),S.jsxs("div",{className:"exercises-preview",children:[n.exercises.slice(0,3).map((o,u)=>S.jsx("span",{className:"ex-tag",children:o.name},u)),n.exercises.length>3&&S.jsxs("span",{className:"ex-tag more",children:["+",n.exercises.length-3]})]})]})]},r))}),S.jsx("style",{children:`
        .header {
          margin-bottom: 24px;
          padding-top: 10px;
        }
        .header h1 {
          font-size: 1.75rem;
          margin-bottom: 4px;
        }
        .subtitle {
          color: var(--text-muted);
          font-size: 0.9rem;
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
          padding-bottom: 100px;
        }

        .history-card {
          padding: 20px;
          border-radius: 16px;
          background: var(--bg-card);
          border: 1px solid var(--border);
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 16px;
          padding-bottom: 16px;
          border-bottom: 1px solid var(--border);
        }

        .date-info {
          display: flex;
          flex-direction: column;
        }

        .day {
          font-size: 0.8rem;
          color: var(--text-muted);
          text-transform: uppercase;
          font-weight: 600;
        }

        .date {
          font-size: 1.2rem;
          font-weight: 700;
          color: var(--text-main);
        }

        .xp-badge {
          background: rgba(245, 158, 11, 0.1);
          color: var(--accent);
          padding: 4px 12px;
          border-radius: 20px;
          font-weight: 700;
          font-size: 0.9rem;
        }

        .card-content {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .exercise-count {
          display: flex;
          align-items: center;
          gap: 8px;
          color: var(--text-main);
          font-weight: 500;
        }

        .exercises-preview {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .ex-tag {
          font-size: 0.75rem;
          padding: 4px 10px;
          background: rgba(255,255,255,0.05);
          border-radius: 6px;
          color: var(--text-muted);
        }

        .ex-tag.more {
          background: rgba(255,255,255,0.1);
          color: var(--text-main);
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          border-radius: 16px;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          display: block;
          opacity: 0.5;
        }

        .sub-text {
          font-size: 0.9rem;
          color: var(--text-muted);
          margin-top: 8px;
        }
      `})]})},GO=()=>{const{user:s}=Rn(),t=new Set(s.badges);return S.jsxs("div",{className:"container",children:[S.jsx("h2",{style:{marginBottom:"20px"},children:"Achievements"}),S.jsx("div",{className:"badges-grid",children:dS.map(n=>{const r=t.has(n.id);return S.jsxs("div",{className:`card badge-card ${r?"unlocked":"locked"}`,children:[S.jsx("div",{className:"badge-icon",children:n.icon}),S.jsxs("div",{className:"badge-info",children:[S.jsx("h3",{children:n.name}),S.jsx("p",{children:n.description})]}),!r&&S.jsx("div",{className:"lock-overlay",children:""})]},n.id)})}),S.jsx("style",{children:`
        .badges-grid {
          display: grid;
          gap: var(--spacing-md);
        }

        .badge-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          position: relative;
          overflow: hidden;
        }

        .badge-card.locked {
          opacity: 0.5;
          filter: grayscale(1);
        }

        .badge-icon {
          font-size: 32px;
          background: rgba(255,255,255,0.05);
          width: 60px;
          height: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
        }

        .badge-info h3 {
          font-size: 16px;
          margin-bottom: 4px;
        }

        .badge-info p {
          font-size: 12px;
          color: var(--text-muted);
        }

        .lock-overlay {
          position: absolute;
          right: 20px;
          font-size: 20px;
        }

        .badge-card.unlocked {
          border: 1px solid rgba(10, 255, 153, 0.3);
          background: linear-gradient(90deg, var(--bg-card) 0%, rgba(10, 255, 153, 0.05) 100%);
        }
      `})]})},KO=({onGetStarted:s})=>{const{theme:t}=Rn();return S.jsxs("div",{className:"landing-container",children:[S.jsxs("nav",{className:"landing-nav",children:[S.jsx("div",{className:"logo",children:" Shokunin"}),S.jsxs("div",{className:"nav-actions",children:[S.jsx(hS,{}),S.jsx("button",{className:"btn-login",onClick:()=>s("login"),children:"Login"})]})]}),S.jsxs("section",{className:"hero",children:[S.jsxs("h1",{className:"hero-title",children:["Build Your ",S.jsx("span",{className:"highlight",children:"Daily Routine"})]}),S.jsx("p",{className:"hero-subtitle",children:"Master the art of consistency. Track your workouts, maintain your streak, and forge discipline like a true craftsman."}),S.jsx("button",{className:"btn-primary btn-hero",onClick:()=>{console.log("Start Journey clicked -> signup"),s("signup")},children:"Start Your Journey"})]}),S.jsxs("section",{className:"features",children:[S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:""}),S.jsx("h3",{children:"Track Progress"}),S.jsx("p",{children:"Log every rep and set. Watch your strength grow over time."})]}),S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:""}),S.jsx("h3",{children:"Maintain Streaks"}),S.jsx("p",{children:"Consistency is key. Keep your flame alive day after day."})]}),S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:""}),S.jsx("h3",{children:"Earn Glory"}),S.jsx("p",{children:'Unlock badges like "Hercules Strength" and "Titan Endurance".'})]})]}),S.jsx("style",{children:`
        .landing-container {
          min-height: 100vh;
          background: var(--bg-app);
          color: var(--text-main);
          padding: 0 var(--spacing-md);
          transition: background-color 0.3s ease, color 0.3s ease;
        }

        .landing-nav {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 0;
          max-width: 1200px;
          margin: 0 auto;
        }

        .logo {
          font-weight: 800;
          font-size: 20px;
          color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle-landing {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-main);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .theme-toggle-landing:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary);
        }

        .btn-login {
          background: transparent;
          color: var(--text-main);
          border: 1px solid var(--border);
          padding: 8px 20px;
          border-radius: var(--radius-full);
          transition: all 0.2s;
        }

        .btn-login:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        .hero {
          text-align: center;
          padding: 80px 20px;
          max-width: 800px;
          margin: 0 auto;
        }

        .hero-title {
          font-size: 48px;
          font-weight: 900;
          line-height: 1.1;
          margin-bottom: 20px;
        }

        .highlight {
          color: var(--primary);
          text-shadow: 0 0 20px var(--primary-glow);
        }

        .hero-subtitle {
          font-size: 18px;
          color: var(--text-muted);
          margin-bottom: 40px;
          line-height: 1.6;
        }

        .btn-hero {
          font-size: 18px;
          padding: 16px 40px;
        }

        .features {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 30px;
          max-width: 1000px;
          margin: 40px auto;
          padding-bottom: 80px;
        }

        .feature-card {
          background: var(--bg-card);
          padding: 30px;
          border-radius: var(--radius-md);
          text-align: center;
          border: 1px solid rgba(255,255,255,0.05);
          transition: transform 0.2s;
        }

        .feature-card:hover {
          transform: translateY(-5px);
          border-color: var(--primary);
        }

        .feature-icon {
          font-size: 40px;
          margin-bottom: 20px;
        }

        .feature-card h3 {
          margin-bottom: 10px;
          color: var(--text-main);
        }

        .feature-card p {
          color: var(--text-muted);
          font-size: 14px;
        }

        @media (max-width: 600px) {
          .hero-title {
            font-size: 36px;
          }
        }
      `})]})},YO=({onNavigate:s})=>{const[t,n]=Qt.useState(""),[r,o]=Qt.useState(""),[u,f]=Qt.useState(""),{loginWithEmail:m,loginWithGoogle:g}=Rn(),y=async()=>{const A=await g();A.success?s("dashboard"):f(A.error||"Google login failed")},b=async A=>{if(A.preventDefault(),t.trim()&&r.trim()){const C=await m(t,r);C.success?s("dashboard"):f(C.error)}else f("Please enter email and password")};return S.jsxs("div",{className:"auth-container full-screen-center",children:[S.jsxs("div",{className:"background-blobs",children:[S.jsx("div",{className:"blob blob-1"}),S.jsx("div",{className:"blob blob-2"})]}),S.jsxs("div",{className:"card auth-card glass-panel",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("h1",{children:"Welcome Back"}),S.jsx("p",{className:"auth-subtitle",children:"Continue your legendary journey."})]}),S.jsxs("form",{onSubmit:b,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Email"}),S.jsx("input",{type:"email",value:t,onChange:A=>{n(A.target.value),f("")},placeholder:"Enter your email",autoFocus:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Password"}),S.jsx("input",{type:"password",value:r,onChange:A=>{o(A.target.value),f("")},placeholder:"Enter your password"})]}),u&&S.jsx("p",{className:"error-msg",children:u}),S.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Login"})]}),S.jsx("div",{className:"divider",children:S.jsx("span",{children:"OR"})}),S.jsxs("button",{className:"btn-google btn-full",onClick:y,children:[S.jsx("span",{className:"google-icon",children:"G"})," Login with Google"]}),S.jsxs("p",{className:"auth-footer",children:["New here? ",S.jsx("button",{className:"btn-link",onClick:()=>s("signup"),children:"Create Account"})]})]}),S.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},QO=({onNavigate:s})=>{const[t,n]=Qt.useState(""),[r,o]=Qt.useState(""),[u,f]=Qt.useState(""),{signupWithEmail:m,loginWithGoogle:g}=Rn(),y=async()=>{const A=await g();A.success?s("dashboard"):f(A.error||"Google signup failed")},b=async A=>{if(A.preventDefault(),t.trim()&&r.trim()){const C=await m(t,r);C.success?s("dashboard"):f(C.error)}else f("Please fill in all fields")};return S.jsxs("div",{className:"auth-container full-screen-center",children:[S.jsxs("div",{className:"background-blobs",children:[S.jsx("div",{className:"blob blob-1"}),S.jsx("div",{className:"blob blob-2"})]}),S.jsxs("div",{className:"card auth-card glass-panel",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("h2",{children:"Begin Your Journey"}),S.jsx("p",{className:"auth-subtitle",children:"Create an account to track your progress."})]}),S.jsxs("form",{onSubmit:b,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Email"}),S.jsx("input",{type:"email",value:t,onChange:A=>{n(A.target.value),f("")},placeholder:"Enter your email",autoFocus:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Password"}),S.jsx("input",{type:"password",value:r,onChange:A=>{o(A.target.value),f("")},placeholder:"Create a password"})]}),u&&S.jsx("p",{className:"error-msg",children:u}),S.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Start Adventure"})]}),S.jsx("div",{className:"divider",children:S.jsx("span",{children:"OR"})}),S.jsxs("button",{className:"btn-google btn-full",onClick:y,children:[S.jsx("span",{className:"google-icon",children:"G"})," Sign up with Google"]}),S.jsxs("p",{className:"auth-footer",children:["Already have an account? ",S.jsx("button",{className:"btn-link",onClick:()=>s("login"),children:"Login"})]})]}),S.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},XO=()=>{const{isAuthenticated:s}=Rn(),[t,n]=Qt.useState("dashboard"),[r,o]=Qt.useState("landing");if(!s)return r==="login"?S.jsx(YO,{onNavigate:o}):r==="signup"?S.jsx(QO,{onNavigate:o}):S.jsx(KO,{onGetStarted:o});const u=()=>{switch(t){case"dashboard":return S.jsx(vE,{onStartWorkout:()=>n("workout")});case"workout":return S.jsx(qO,{onFinish:()=>n("dashboard")});case"history":return S.jsx(FO,{});case"badges":return S.jsx(GO,{});default:return S.jsx(vE,{})}};return S.jsx(eO,{activeTab:t,onTabChange:n,children:u()})};function $O(){return S.jsx(tO,{children:S.jsx(XO,{})})}rw.createRoot(document.getElementById("root")).render(S.jsx(Qt.StrictMode,{children:S.jsx($O,{})}));
