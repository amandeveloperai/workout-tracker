(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Ud={exports:{}},Tl={};var J_;function gA(){if(J_)return Tl;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var Z_;function yA(){return Z_||(Z_=1,Ud.exports=gA()),Ud.exports}var C=yA(),zd={exports:{}},vt={};var W_;function _A(){if(W_)return vt;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function tt(M,X,it){this.props=M,this.context=X,this.refs=Y,this.updater=it||J}tt.prototype.isReactComponent={},tt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},tt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ut(){}ut.prototype=tt.prototype;function lt(M,X,it){this.props=M,this.context=X,this.refs=Y,this.updater=it||J}var wt=lt.prototype=new ut;wt.constructor=lt,W(wt,tt.prototype),wt.isPureReactComponent=!0;var Zt=Array.isArray;function Pt(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,X,it){var st=it.ref;return{$$typeof:r,type:M,key:X,ref:st!==void 0?st:null,props:it}}function V(M,X){return I(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return X[it]})}var w=/\/+/g;function ne(M,X){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):X.toString(36)}function Re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Pt,Pt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,it,st,yt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case b:return Vt=M._init,F(Vt(M._payload),X,it,st,yt)}}if(Vt)return yt=yt(M),Vt=st===""?"."+ne(M,0):st,Zt(yt)?(it="",Vt!=null&&(it=Vt.replace(w,"$&/")+"/"),F(yt,X,it,"",function(us){return us})):yt!=null&&(O(yt)&&(yt=V(yt,it+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Vt)),X.push(yt)),1;Vt=0;var Ie=st===""?".":st+":";if(Zt(M))for(var ie=0;ie<M.length;ie++)st=M[ie],St=Ie+ne(st,ie),Vt+=F(st,X,it,St,yt);else if(ie=G(M),typeof ie=="function")for(M=ie.call(M),ie=0;!(st=M.next()).done;)st=st.value,St=Ie+ne(st,ie++),Vt+=F(st,X,it,St,yt);else if(St==="object"){if(typeof M.then=="function")return F(Re(M),X,it,st,yt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(M,X,it){if(M==null)return M;var st=[],yt=0;return F(M,st,"","",function(St){return X.call(it,St,yt++)}),st}function ft(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:nt,forEach:function(M,X,it){nt(M,function(){X.apply(this,arguments)},it)},count:function(M){var X=0;return nt(M,function(){X++}),X},toArray:function(M){return nt(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=S,vt.Children=Ht,vt.Component=tt,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=lt,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,X,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),yt=M.key;if(X!=null)for(St in X.key!==void 0&&(yt=""+X.key),X)!A.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(st[St]=X[St]);var St=arguments.length-2;if(St===1)st.children=it;else if(1<St){for(var Vt=Array(St),Ie=0;Ie<St;Ie++)Vt[Ie]=arguments[Ie+2];st.children=Vt}return I(M.type,yt,st)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,X,it){var st,yt={},St=null;if(X!=null)for(st in X.key!==void 0&&(St=""+X.key),X)A.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=X[st]);var Vt=arguments.length-2;if(Vt===1)yt.children=it;else if(1<Vt){for(var Ie=Array(Vt),ie=0;ie<Vt;ie++)Ie[ie]=arguments[ie+2];yt.children=Ie}if(M&&M.defaultProps)for(st in Vt=M.defaultProps,Vt)yt[st]===void 0&&(yt[st]=Vt[st]);return I(M,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:p,render:M}},vt.isValidElement=O,vt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ft}},vt.memo=function(M,X){return{$$typeof:g,type:M,compare:X===void 0?null:X}},vt.startTransition=function(M){var X=x.T,it={};x.T=it;try{var st=M(),yt=x.S;yt!==null&&yt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Pt,Lt)}catch(St){Lt(St)}finally{X!==null&&it.types!==null&&(X.types=it.types),x.T=X}},vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},vt.use=function(M){return x.H.use(M)},vt.useActionState=function(M,X,it){return x.H.useActionState(M,X,it)},vt.useCallback=function(M,X){return x.H.useCallback(M,X)},vt.useContext=function(M){return x.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,X){return x.H.useDeferredValue(M,X)},vt.useEffect=function(M,X){return x.H.useEffect(M,X)},vt.useEffectEvent=function(M){return x.H.useEffectEvent(M)},vt.useId=function(){return x.H.useId()},vt.useImperativeHandle=function(M,X,it){return x.H.useImperativeHandle(M,X,it)},vt.useInsertionEffect=function(M,X){return x.H.useInsertionEffect(M,X)},vt.useLayoutEffect=function(M,X){return x.H.useLayoutEffect(M,X)},vt.useMemo=function(M,X){return x.H.useMemo(M,X)},vt.useOptimistic=function(M,X){return x.H.useOptimistic(M,X)},vt.useReducer=function(M,X,it){return x.H.useReducer(M,X,it)},vt.useRef=function(M){return x.H.useRef(M)},vt.useState=function(M){return x.H.useState(M)},vt.useSyncExternalStore=function(M,X,it){return x.H.useSyncExternalStore(M,X,it)},vt.useTransition=function(){return x.H.useTransition()},vt.version="19.2.0",vt}var tv;function Vm(){return tv||(tv=1,zd.exports=_A()),zd.exports}var Ne=Vm(),jd={exports:{}},bl={},Bd={exports:{}},qd={};var ev;function vA(){return ev||(ev=1,(function(r){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Ht=F[Lt];if(0<l(Ht,nt))F[Lt]=nt,F[ft]=Ht,ft=Lt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var Lt=0,Ht=F.length,M=Ht>>>1;Lt<M;){var X=2*(Lt+1)-1,it=F[X],st=X+1,yt=F[st];if(0>l(it,ft))st<Ht&&0>l(yt,it)?(F[Lt]=yt,F[st]=ft,Lt=st):(F[Lt]=it,F[X]=ft,Lt=X);else if(st<Ht&&0>l(yt,ft))F[Lt]=yt,F[st]=ft,Lt=st;else break t}}return nt}function l(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],g=[],b=1,S=null,N=3,G=!1,J=!1,W=!1,Y=!1,tt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function wt(F){for(var nt=n(g);nt!==null;){if(nt.callback===null)s(g);else if(nt.startTime<=F)s(g),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=n(g)}}function Zt(F){if(W=!1,wt(F),!J)if(n(_)!==null)J=!0,Pt||(Pt=!0,P());else{var nt=n(g);nt!==null&&Re(Zt,nt.startTime-F)}}var Pt=!1,x=-1,A=5,I=-1;function V(){return Y?!0:!(r.unstable_now()-I<A)}function O(){if(Y=!1,Pt){var F=r.unstable_now();I=F;var nt=!0;try{t:{J=!1,W&&(W=!1,ut(x),x=-1),G=!0;var ft=N;try{e:{for(wt(F),S=n(_);S!==null&&!(S.expirationTime>F&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,N=S.priorityLevel;var Ht=Lt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,wt(F),nt=!0;break e}S===n(_)&&s(_),wt(F)}else s(_);S=n(_)}if(S!==null)nt=!0;else{var M=n(g);M!==null&&Re(Zt,M.startTime-F),nt=!1}}break t}finally{S=null,N=ft,G=!1}nt=void 0}}finally{nt?P():Pt=!1}}}var P;if(typeof lt=="function")P=function(){lt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=O,P=function(){ne.postMessage(null)}}else P=function(){tt(O,0)};function Re(F,nt){x=tt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return F()}finally{N=ft}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=N;N=F;try{return nt()}finally{N=ft}},r.unstable_scheduleCallback=function(F,nt,ft){var Lt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,F={id:b++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Lt?(F.sortIndex=ft,t(g,F),n(_)===null&&F===n(g)&&(W?(ut(x),x=-1):W=!0,Re(Zt,ft-Lt))):(F.sortIndex=Ht,t(_,F),J||G||(J=!0,Pt||(Pt=!0,P()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var nt=N;return function(){var ft=N;N=nt;try{return F.apply(this,arguments)}finally{N=ft}}}})(qd)),qd}var nv;function EA(){return nv||(nv=1,Bd.exports=vA()),Bd.exports}var Hd={exports:{}},Qe={};var iv;function TA(){if(iv)return Qe;iv=1;var r=Vm();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:g,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(_,g,null,b)},Qe.flushSync=function(_){var g=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=g,s.p=b,s.d.f()}},Qe.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(_,g))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,G=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:G}):b==="script"&&s.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:G,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qe.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(_)},Qe.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin);s.d.L(_,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qe.preloadModule=function(_,g){if(typeof _=="string")if(g){var b=p(g.as,g.crossOrigin);s.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,g){return _(g)},Qe.useFormState=function(_,g,b){return d.H.useFormState(_,g,b)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var rv;function bA(){if(rv)return Hd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=TA(),Hd.exports}var sv;function SA(){if(sv)return bl;sv=1;var r=EA(),t=Vm(),n=bA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case tt:return"Profiler";case Y:return"StrictMode";case Zt:return"Suspense";case Pt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case lt:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case wt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:ne(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return ne(e(i))}catch{}}return null}var Re=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function X(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function it(e,i){Ht++,Lt[Ht]=e.current,e.current=i}var st=M(null),yt=M(null),St=M(null),Vt=M(null);function Ie(e,i){switch(it(St,i),it(yt,e),it(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=E_(i),e=T_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(st),it(st,e)}function ie(){X(st),X(yt),X(St)}function us(e){e.memoizedState!==null&&it(Vt,e);var i=st.current,a=T_(i,e.type);i!==a&&(it(yt,e),it(st,a))}function na(e){yt.current===e&&(X(st),X(yt)),Vt.current===e&&(X(Vt),yl._currentValue=ft)}var ia,ra;function ii(e){if(ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ia=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+e+ra}var yo=!1;function cs(e,i){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function _o(e,i){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return ii("Activity");default:return""}}function vo(e){try{var i="",a=null;do i+=_o(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,zh=r.unstable_shouldYield,nu=r.unstable_requestPaint,We=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,jh=r.unstable_LowPriority,iu=r.unstable_IdlePriority,ru=r.log,su=r.unstable_setDisableYieldValue,Bn=null,ze=null;function wn(e){if(typeof ru=="function"&&su(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var ce=Math.clz32?Math.clz32:ou,au=Math.log,sa=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/sa|0)|0}var ri=256,fs=262144,ge=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(y&=E,y!==0?h=si(y):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):y!==0?h=si(y):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Bh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function oi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ds(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,i,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-ce(a),Q=1<<H;E[H]=0,R[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&ms(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function ms(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-ce(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-ce(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function So(e,i){var a=i&-i;return a=(a&42)!==0?1:ps(a),(a&(e.suspendedLanes|i))!==0?0:a}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function Hn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Fn,ke="__reactProps$"+Fn,li="__reactContainer$"+Fn,aa="__reactEvents$"+Fn,Hh="__reactListeners$"+Fn,cu="__reactHandles$"+Fn,hu="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function oa(e){delete e[ye],delete e[ke],delete e[aa],delete e[Hh],delete e[cu]}function ci(e){var i=e[ye];if(i)return i;for(var a=e.parentNode;a;){if(i=a[li]||a[ye]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[ye])return a;e=C_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ye]||e[li]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hi(e){var i=e[hu];return i||(i=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(e){e[ui]=!0}var Ao=new Set,wo={};function fi(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(wo[e]=i,e=0;e<i.length;e++)Ao.add(i[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function fu(e){return pe.call(Co,e)?!0:pe.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function la(e,i,a){if(fu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ve(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ft(e){if(!e._valueTracker){var i=fr(e)?"checked":"value";e._valueTracker=xo(e,i,""+e[i])}}function gs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=fr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function rn(e){return e.replace(ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(e,i,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?No(e,y,Pe(i)):a!=null?No(e,y,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function du(e,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ft(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ft(e)}function No(e,i,a){i==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function mu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function mr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||pu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Do(e,f,i[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return pr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Mo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,pi=null;function _s(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&gs(o)}break t;case"textarea":mu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&dr(e,!!a.multiple,i,!1)}}}var fa=!1;function yr(e,i,a){if(fa)return e(i,a);fa=!0;try{var o=e(i);return o}finally{if(fa=!1,(gr!==null||pi!==null)&&(uc(),gr&&(i=gr,e=pi,pi=gr=null,_s(i),e)))for(i=0;i<e.length;i++)_s(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Cn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{vs=!1}var gi=null,Vo=null,Es=null;function ko(){if(Es)return Es;var e,i=Vo,a=i.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return Es=h.slice(e,1<o?1-o:void 0)}function Ts(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function je(e){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=je(Ui),_r=S({},Ui,{view:0,detail:0}),Po=je(_r),vr,da,_i,ma=S({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(vr=e.screenX-_i.screenX,da=e.screenY-_i.screenY):da=vr=0,_i=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Lo=je(ma),bs=S({},ma,{dataTransfer:0}),yu=je(bs),_u=S({},_r,{relatedTarget:0}),Ss=je(_u),Uo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=je(Uo),pa=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=je(pa),Tu=S({},Ui,{data:0}),vi=je(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Au[e])?!!i[e]:!1}function Er(){return wu}var tn=S({},_r,{key:function(e){if(e.key){var i=bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=je(tn),Iu=S({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=je(Iu),c=S({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),m=je(c),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),L=S({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),et=S({},Ui,{newState:0,oldState:0}),Tt=je(et),he=[9,13,27,32],jt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var xn=Cn&&"TextEvent"in window&&!re,Ei=Cn&&(!jt||re&&8<re&&11>=re),Qn=" ",Xn=!1;function As(e,i){switch(e){case"keyup":return he.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function jb(e,i){switch(e){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(Xn=!0,Qn);case"textInput":return e=i.data,e===Qn&&Xn?null:e;default:return null}}function Bb(e,i){if(ya)return e==="compositionend"||!jt&&As(e,i)?(e=ko(),Es=Vo=gi=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!qb[e.type]:i==="textarea"}function Op(e,i,a,o){gr?pi?pi.push(o):pi=[o]:gr=o,i=gc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var zo=null,jo=null;function Hb(e){m_(e,0)}function Cu(e){var i=dn(e);if(gs(i))return e}function Mp(e,i){if(e==="change")return i}var Vp=!1;if(Cn){var Fh;if(Cn){var Gh="oninput"in document;if(!Gh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Gh=typeof kp.oninput=="function"}Fh=Gh}else Fh=!1;Vp=Fh&&(!document.documentMode||9<document.documentMode)}function Pp(){zo&&(zo.detachEvent("onpropertychange",Lp),jo=zo=null)}function Lp(e){if(e.propertyName==="value"&&Cu(jo)){var i=[];Op(i,jo,e,In(e)),yr(Hb,i)}}function Fb(e,i,a){e==="focusin"?(Pp(),zo=i,jo=a,zo.attachEvent("onpropertychange",Lp)):e==="focusout"&&Pp()}function Gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(jo)}function Kb(e,i){if(e==="click")return Cu(i)}function Yb(e,i){if(e==="input"||e==="change")return Cu(i)}function Qb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:Qb;function Bo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pe.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,i){var a=Up(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Up(a)}}function jp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?jp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=mi(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Xb=Cn&&"documentMode"in document&&11>=document.documentMode,_a=null,Yh=null,qo=null,Qh=!1;function qp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||_a==null||_a!==mi(o)||(o=_a,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=gc(Yh,"onSelect"),0<o.length&&(i=new yi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=_a)))}function ws(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Xh={},Hp={};Cn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Rs(e){if(Xh[e])return Xh[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hp)return Xh[e]=i[a];return e}var Fp=Rs("animationend"),Gp=Rs("animationiteration"),Kp=Rs("animationstart"),$b=Rs("transitionrun"),Jb=Rs("transitionstart"),Zb=Rs("transitioncancel"),Yp=Rs("transitionend"),Qp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function $n(e,i){Qp.set(e,i),fi(i,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Ea=0,Jh=0;function Nu(){for(var e=Ea,i=Jh=Ea=0;i<e;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var f=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function Du(e,i,a,o){Nn[Ea++]=e,Nn[Ea++]=i,Nn[Ea++]=a,Nn[Ea++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,i,a,o){return Du(e,i,a,o),Ou(e)}function Is(e,i){return Du(e,null,null,i),Ou(e)}function Xp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-ce(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Ou(e){if(50<cl)throw cl=0,ld=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function Wb(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new Wb(e,i,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,o,h,f){var y=0;if(o=e,typeof e=="function")Wh(e)&&(y=1);else if(typeof e=="string")y=rA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,a,i,h),e.elementType=I,e.lanes=f,e;case W:return Cs(a.children,h,f,i);case Y:y=8,h|=24;break;case tt:return e=gn(12,a,i,h|2),e.elementType=tt,e.lanes=f,e;case Zt:return e=gn(13,a,i,h),e.elementType=Zt,e.lanes=f,e;case Pt:return e=gn(19,a,i,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:y=10;break t;case ut:y=9;break t;case wt:y=11;break t;case x:y=14;break t;case A:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=gn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Cs(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function tf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Jp(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function ef(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Zp=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=Zp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:vo(i)},Zp.set(e,i),i)}return{value:e,source:i,stack:vo(i)}}var ba=[],Sa=0,Vu=null,Ho=0,On=[],Mn=0,Tr=null,Ti=1,bi="";function Bi(e,i){ba[Sa++]=Ho,ba[Sa++]=Vu,Vu=e,Ho=i}function Wp(e,i,a){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=Tr,Tr=e;var o=Ti;e=bi;var h=32-ce(o)-1;o&=~(1<<h),a+=1;var f=32-ce(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ti=1<<32-ce(i)+h|a<<h|o,bi=f+e}else Ti=1<<f|a<<h|o,bi=e}function nf(e){e.return!==null&&(Bi(e,1),Wp(e,1,0))}function rf(e){for(;e===Vu;)Vu=ba[--Sa],ba[Sa]=null,Ho=ba[--Sa],ba[Sa]=null;for(;e===Tr;)Tr=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null}function tg(e,i){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=Tr,Ti=i.id,bi=i.overflow,Tr=e}var Be=null,Wt=null,Mt=!1,br=null,Vn=!1,sf=Error(s(519));function Sr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Dn(i,e)),sf}function eg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ye]=e,i[ke]=o,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)It(fl[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),du(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),mr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||__(i.textContent,a)?(o.popover!=null&&(It("beforetoggle",i),It("toggle",i)),o.onScroll!=null&&It("scroll",i),o.onScrollEnd!=null&&It("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Sr(e,!0)}function ng(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function Aa(e){if(e!==Be)return!1;if(!Mt)return ng(e),Mt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&Wt&&Sr(e),ng(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=I_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=I_(e)}else i===27?(i=Wt,Lr(e.type)?(e=Cd,Cd=null,Wt=e):Wt=i):Wt=Be?Pn(e.stateNode.nextSibling):null;return!0}function xs(){Wt=Be=null,Mt=!1}function af(){var e=br;return e!==null&&(un===null?un=e:un.push.apply(un,e),br=null),e}function Fo(e){br===null?br=[e]:br.push(e)}var of=M(null),Ns=null,qi=null;function Ar(e,i,a){it(of,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=of.current,X(of)}function lf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function uf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),lf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function wa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&uf(i,e,a,o),i.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return ig(Ns,e)}function Pu(e,i){return Ns===null&&Ds(e),ig(e,i)}function ig(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var tS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eS=r.unstable_scheduleCallback,nS=r.unstable_NormalPriority,Ee={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new tS,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&eS(nS,function(){e.controller.abort()})}var Ko=null,hf=0,Ra=0,Ia=null;function iS(e,i){if(Ko===null){var a=Ko=[];hf=0,Ra=md(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,i.then(rg,rg),i}function rg(){if(--hf===0&&Ko!==null){Ia!==null&&(Ia.status="fulfilled");var e=Ko;Ko=null,Ra=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function rS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sg=F.S;F.S=function(e,i){qy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&iS(e,i),sg!==null&&sg(e,i)};var Os=M(null);function ff(){var e=Os.current;return e!==null?e:Jt.pooledCache}function Lu(e,i){i===null?it(Os,Os.current):it(Os,i.pool)}function ag(){var e=ff();return e===null?null:{parent:Ee._currentValue,pool:e}}var Ca=Error(s(460)),df=Error(s(474)),Uu=Error(s(542)),zu={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e}throw Vs=i,Ca}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ca):a}}var Vs=null;function ug(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function cg(e){if(e===Ca||e===Uu)throw Error(s(483))}var xa=null,Yo=0;function ju(e){var i=Yo;return Yo+=1,xa===null&&(xa=[]),lg(xa,e,i)}function Qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hg(e){function i(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,U,K){return D===null||D.tag!==6?(D=tf(U,k.mode,K),D.return=k,D):(D=h(D,U),D.return=k,D)}function R(k,D,U,K){var ht=U.type;return ht===W?H(k,D,U.props.children,K,U.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ms(ht)===D.type)?(D=h(D,U.props),Qo(D,U),D.return=k,D):(D=Mu(U.type,U.key,U.props,null,k.mode,K),Qo(D,U),D.return=k,D)}function z(k,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ef(U,k.mode,K),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function H(k,D,U,K,ht){return D===null||D.tag!==7?(D=Cs(U,k.mode,K,ht),D.return=k,D):(D=h(D,U),D.return=k,D)}function Q(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return U=Mu(D.type,D.key,D.props,null,k.mode,U),Qo(U,D),U.return=k,U;case J:return D=ef(D,k.mode,U),D.return=k,D;case A:return D=Ms(D),Q(k,D,U)}if(Re(D)||P(D))return D=Cs(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return Q(k,ju(D),U);if(D.$$typeof===lt)return Q(k,Pu(k,D),U);Bu(k,D)}return null}function j(k,D,U,K){var ht=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:E(k,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===ht?R(k,D,U,K):null;case J:return U.key===ht?z(k,D,U,K):null;case A:return U=Ms(U),j(k,D,U,K)}if(Re(U)||P(U))return ht!==null?null:H(k,D,U,K,null);if(typeof U.then=="function")return j(k,D,ju(U),K);if(U.$$typeof===lt)return j(k,D,Pu(k,U),K);Bu(k,U)}return null}function q(k,D,U,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(D,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?U:K.key)||null,R(D,k,K,ht);case J:return k=k.get(K.key===null?U:K.key)||null,z(D,k,K,ht);case A:return K=Ms(K),q(k,D,U,K,ht)}if(Re(K)||P(K))return k=k.get(U)||null,H(D,k,K,ht,null);if(typeof K.then=="function")return q(k,D,U,ju(K),ht);if(K.$$typeof===lt)return q(k,D,U,Pu(D,K),ht);Bu(D,K)}return null}function at(k,D,U,K){for(var ht=null,Ut=null,ot=D,At=D=0,xt=null;ot!==null&&At<U.length;At++){ot.index>At?(xt=ot,ot=null):xt=ot.sibling;var zt=j(k,ot,U[At],K);if(zt===null){ot===null&&(ot=xt);break}e&&ot&&zt.alternate===null&&i(k,ot),D=f(zt,D,At),Ut===null?ht=zt:Ut.sibling=zt,Ut=zt,ot=xt}if(At===U.length)return a(k,ot),Mt&&Bi(k,At),ht;if(ot===null){for(;At<U.length;At++)ot=Q(k,U[At],K),ot!==null&&(D=f(ot,D,At),Ut===null?ht=ot:Ut.sibling=ot,Ut=ot);return Mt&&Bi(k,At),ht}for(ot=o(ot);At<U.length;At++)xt=q(ot,k,At,U[At],K),xt!==null&&(e&&xt.alternate!==null&&ot.delete(xt.key===null?At:xt.key),D=f(xt,D,At),Ut===null?ht=xt:Ut.sibling=xt,Ut=xt);return e&&ot.forEach(function(qr){return i(k,qr)}),Mt&&Bi(k,At),ht}function mt(k,D,U,K){if(U==null)throw Error(s(151));for(var ht=null,Ut=null,ot=D,At=D=0,xt=null,zt=U.next();ot!==null&&!zt.done;At++,zt=U.next()){ot.index>At?(xt=ot,ot=null):xt=ot.sibling;var qr=j(k,ot,zt.value,K);if(qr===null){ot===null&&(ot=xt);break}e&&ot&&qr.alternate===null&&i(k,ot),D=f(qr,D,At),Ut===null?ht=qr:Ut.sibling=qr,Ut=qr,ot=xt}if(zt.done)return a(k,ot),Mt&&Bi(k,At),ht;if(ot===null){for(;!zt.done;At++,zt=U.next())zt=Q(k,zt.value,K),zt!==null&&(D=f(zt,D,At),Ut===null?ht=zt:Ut.sibling=zt,Ut=zt);return Mt&&Bi(k,At),ht}for(ot=o(ot);!zt.done;At++,zt=U.next())zt=q(ot,k,At,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?At:zt.key),D=f(zt,D,At),Ut===null?ht=zt:Ut.sibling=zt,Ut=zt);return e&&ot.forEach(function(pA){return i(k,pA)}),Mt&&Bi(k,At),ht}function $t(k,D,U,K){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:t:{for(var ht=U.key;D!==null;){if(D.key===ht){if(ht=U.type,ht===W){if(D.tag===7){a(k,D.sibling),K=h(D,U.props.children),K.return=k,k=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ms(ht)===D.type){a(k,D.sibling),K=h(D,U.props),Qo(K,U),K.return=k,k=K;break t}a(k,D);break}else i(k,D);D=D.sibling}U.type===W?(K=Cs(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Mu(U.type,U.key,U.props,null,k.mode,K),Qo(K,U),K.return=k,k=K)}return y(k);case J:t:{for(ht=U.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),K=h(D,U.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else i(k,D);D=D.sibling}K=ef(U,k.mode,K),K.return=k,k=K}return y(k);case A:return U=Ms(U),$t(k,D,U,K)}if(Re(U))return at(k,D,U,K);if(P(U)){if(ht=P(U),typeof ht!="function")throw Error(s(150));return U=ht.call(U),mt(k,D,U,K)}if(typeof U.then=="function")return $t(k,D,ju(U),K);if(U.$$typeof===lt)return $t(k,D,Pu(k,U),K);Bu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,U),K.return=k,k=K):(a(k,D),K=tf(U,k.mode,K),K.return=k,k=K),y(k)):a(k,D)}return function(k,D,U,K){try{Yo=0;var ht=$t(k,D,U,K);return xa=null,ht}catch(ot){if(ot===Ca||ot===Uu)throw ot;var Ut=gn(29,ot,null,k.mode);return Ut.lanes=K,Ut.return=k,Ut}finally{}}}var ks=hg(!0),fg=hg(!1),wr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ou(e),Xp(e,null,a),i}return Du(e,o,i,a),Ou(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function gf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function $o(){if(yf){var e=Ia;if(e!==null)throw e}}function Jo(e,i,a,o){yf=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;y=0,H=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ct&j)===j:(o&j)===j){j!==0&&j===Ra&&(yf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;j=i;var $t=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Q=at.call($t,Q,j);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call($t,Q,j):at,j==null)break t;Q=S({},Q,j);break t;case 2:wr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,R=Q):H=H.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Or|=y,e.lanes=y,e.memoizedState=Q}}function dg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function mg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dg(a[e],i)}var Na=M(null),qu=M(0);function pg(e,i){e=Zi,it(qu,e),it(Na,i),Zi=e|i.baseLanes}function _f(){it(qu,Zi),it(Na,Na.current)}function vf(){Zi=qu.current,X(Na),X(qu)}var yn=M(null),kn=null;function Cr(e){var i=e.alternate;it(fe,fe.current&1),it(yn,e),kn===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(kn=e)}function Ef(e){it(fe,fe.current),it(yn,e),kn===null&&(kn=e)}function gg(e){e.tag===22?(it(fe,fe.current),it(yn,e),kn===null&&(kn=e)):xr()}function xr(){it(fe,fe.current),it(yn,yn.current)}function _n(e){X(yn),kn===e&&(kn=null),X(fe)}var fe=M(0);function Hu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,bt=null,Qt=null,Te=null,Fu=!1,Da=!1,Ps=!1,Gu=0,Zo=0,Oa=null,sS=0;function le(){throw Error(s(321))}function Tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function bf(e,i,a,o,h,f){return Fi=f,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Wg:Lf,Ps=!1,f=a(o,h),Ps=!1,Da&&(f=_g(i,a,o,h)),yg(e),f}function yg(e){F.H=el;var i=Qt!==null&&Qt.next!==null;if(Fi=0,Te=Qt=bt=null,Fu=!1,Zo=0,Oa=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&ku(e)&&(be=!0))}function _g(e,i,a,o){bt=e;var h=0;do{if(Da&&(Oa=null),Zo=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,Te=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ty,f=i(a,o)}while(Da);return f}function aS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Sf(){var e=Gu!==0;return Gu=0,e}function Af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Fu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Fu=!1}Fi=0,Te=Qt=bt=null,Da=!1,Zo=Gu=0,Oa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?bt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Qt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=Te===null?bt.memoizedState:Te.next;if(i!==null)Te=i,Qt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Te===null?bt.memoizedState=Te=e:Te=Te.next=e}return Te}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Zo;return Zo+=1,Oa===null&&(Oa=[]),e=lg(Oa,e,i),i=bt,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Wg:Lf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===lt)return qe(e)}throw Error(s(438,String(e)))}function Rf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ku(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Qu(e){var i=de();return If(i,Qt,e)}function If(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=y=null,R=null,z=i,H=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ct&Q)===Q:(Fi&Q)===Q){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Ra&&(H=!0);else if((Fi&j)===j){z=z.next,j===Ra&&(H=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Q,y=f):R=R.next=Q,bt.lanes|=j,Or|=j;Q=z.action,Ps&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,bt.lanes|=Q,Or|=Q;z=z.next}while(z!==null&&z!==i);if(R===null?y=f:R.next=E,!pn(f,e.memoizedState)&&(be=!0,H&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);pn(f,i.memoizedState)||(be=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(e,i,a){var o=bt,h=de(),f=Mt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!pn((Qt||h).memoizedState,a);if(y&&(h.memoizedState=a,be=!0),h=h.queue,Df(bg.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},Tg.bind(null,o,h,a,i),null),Jt===null)throw Error(s(349));f||(Fi&127)!==0||Eg(o,i,a)}return a}function Eg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=Ku(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Tg(e,i,a,o){i.value=a,i.getSnapshot=o,Sg(i)&&Ag(e)}function bg(e,i,a){return a(function(){Sg(i)&&Ag(e)})}function Sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Ag(e){var i=Is(e,2);i!==null&&cn(i,e,2)}function xf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ps){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function wg(e,i,a,o){return e.baseState=a,If(e,Qt,typeof o=="function"?o:Gi)}function oS(e,i,a,o,h){if(Ju(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Rg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Rg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),R=F.S;R!==null&&R(y,E),Ig(e,i,E)}catch(z){Nf(e,i,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),Ig(e,i,f)}catch(z){Nf(e,i,z)}}function Ig(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cg(e,i,o)},function(o){return Nf(e,i,o)}):Cg(e,i,a)}function Cg(e,i,a){i.status="fulfilled",i.value=a,xg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Rg(e,a)))}function Nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,xg(i),i=i.next;while(i!==o)}e.action=null}function xg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ng(e,i){return i}function Dg(e,i){if(Mt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(Mt){if(Wt){e:{for(var h=Wt,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Pn(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:i},a.queue=o,a=$g.bind(null,bt,o),o.dispatch=a,o=xf(!1),f=Pf.bind(null,bt,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=oS.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Og(e){var i=de();return Mg(i,Qt,e)}function Mg(e,i,a){if(i=If(e,i,Ng)[0],e=Qu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Wo(i)}catch(y){throw y===Ca?Uu:y}else o=i;i=de();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Ma(9,{destroy:void 0},lS.bind(null,h,a),null)),[o,f,e]}function lS(e,i){e.action=i}function Vg(e){var i=de(),a=Qt;if(a!==null)return Mg(i,a,e);de(),i=i.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ma(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=Ku(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function kg(){return de().memoizedState}function Xu(e,i,a,o){var h=en();bt.flags|=e,h.memoizedState=Ma(1|i,{destroy:void 0},a,o===void 0?null:o)}function $u(e,i,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Tf(o,Qt.memoizedState.deps)?h.memoizedState=Ma(i,f,a,o):(bt.flags|=e,h.memoizedState=Ma(1|i,f,a,o))}function Pg(e,i){Xu(8390656,8,e,i)}function Df(e,i){$u(2048,8,e,i)}function uS(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=Ku(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Lg(e){var i=de().memoizedState;return uS({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ug(e,i){return $u(4,2,e,i)}function zg(e,i){return $u(4,4,e,i)}function jg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Bg(e,i,a){a=a!=null?a.concat([e]):null,$u(4,4,jg.bind(null,i,e),a)}function Of(){}function qg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Tf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Hg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Tf(i,o[1]))return o[0];if(o=e(),Ps){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o}function Mf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Fy(),bt.lanes|=e,Or|=e,a)}function Fg(e,i,a,o){return pn(a,i)?a:Na.current!==null?(e=Mf(e,a,o),pn(e,i)||(be=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=Fy(),bt.lanes|=e,Or|=e,i)}function Gg(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Pf(e,!1,i,a);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=rS(R,o);tl(e,i,H,Tn(e))}else tl(e,i,o,Tn(e))}catch(Q){tl(e,i,{then:function(){},status:"rejected",reason:Q},Tn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function cS(){}function Vf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Gg(e,h,i,ft,a===null?cS:function(){return Yg(e),a(o)})}function Kg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Yg(e){var i=Kg(e);i.next===null&&(i=e.alternate.memoizedState),tl(e,i.next.queue,{},Tn())}function kf(){return qe(yl)}function Qg(){return de().memoizedState}function Xg(){return de().memoizedState}function hS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Rr(a);var o=Ir(i,e,a);o!==null&&(cn(o,i,a),Xo(o,i,a)),i={cache:cf()},e.payload=i;return}i=i.return}}function fS(e,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Jg(i,a):(a=Zh(e,i,a,o),a!==null&&(cn(a,e,o),Zg(a,i,o)))}function $g(e,i,a){var o=Tn();tl(e,i,a,o)}function tl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Jg(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return Du(e,i,h,0),Jt===null&&Nu(),!1}catch{}finally{}if(a=Zh(e,i,h,o),a!==null)return cn(a,e,o),Zg(a,i,o),!0}return!1}function Pf(e,i,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(i)throw Error(s(479))}else i=Zh(e,a,o,2),i!==null&&cn(i,e,2)}function Ju(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Jg(e,i){Da=Fu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Zg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var el={readContext:qe,use:Yu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};el.useEffectEvent=le;var Wg={readContext:qe,use:Yu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Pg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Xu(4194308,4,jg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Xu(4194308,4,e,i)},useInsertionEffect:function(e,i){Xu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ps){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ps){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=fS.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=xf(e);var i=e.queue,a=$g.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,i){var a=en();return Mf(a,e,i)},useTransition:function(){var e=xf(!1);return e=Gg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=en();if(Mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Ct&127)!==0||Eg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Pg(bg.bind(null,o,f,e),[e]),o.flags|=2048,Ma(9,{destroy:void 0},Tg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=Jt.identifierPrefix;if(Mt){var a=bi,o=Ti;a=(o&~(1<<32-ce(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Gu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:kf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Rf,useCacheRefresh:function(){return en().memoizedState=hS.bind(null,bt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:qe,use:Yu,useCallback:qg,useContext:qe,useEffect:Df,useImperativeHandle:Bg,useInsertionEffect:Ug,useLayoutEffect:zg,useMemo:Hg,useReducer:Qu,useRef:kg,useState:function(){return Qu(Gi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=de();return Fg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Qu(Gi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:kf,useFormState:Og,useActionState:Og,useOptimistic:function(e,i){var a=de();return wg(a,Qt,e,i)},useMemoCache:Rf,useCacheRefresh:Xg};Lf.useEffectEvent=Lg;var ty={readContext:qe,use:Yu,useCallback:qg,useContext:qe,useEffect:Df,useImperativeHandle:Bg,useInsertionEffect:Ug,useLayoutEffect:zg,useMemo:Hg,useReducer:Cf,useRef:kg,useState:function(){return Cf(Gi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=de();return Qt===null?Mf(a,e,i):Fg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Cf(Gi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,i){var a=de();return Qt!==null?wg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Xg};ty.useEffectEvent=Lg;function Uf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Rr(o);h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Rr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=Rr(a);o.tag=2,i!=null&&(o.callback=i),i=Ir(e,o,a),i!==null&&(cn(i,e,a),Xo(i,e,a))}};function ey(e,i,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ny(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&zf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){xu(e)}function ry(e){console.error(e)}function sy(e){xu(e)}function Zu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,i)},a}function oy(e){return e=Rr(e),e.tag=3,e}function ly(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ay(i,a,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function dS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?cc():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(s(435,a.tag))}return hd(e,o,h),cc(),!1}if(Mt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==sf&&(e=Error(s(422),{cause:o}),Fo(Dn(e,a)))):(o!==sf&&(i=Error(s(423),{cause:o}),Fo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=jf(e.stateNode,o,h),gf(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Dn(f,a),ul===null?ul=[f]:ul.push(f),ue!==4&&(ue=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),gf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),be=!1;function He(e,i,a,o){i.child=e===null?fg(i,null,a,o):ks(i,e.child,a,o)}function uy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ds(i),o=bf(e,i,a,y,f,h),E=Sf(),e!==null&&!be?(Af(e,i,h),Ki(e,i,h)):(Mt&&E&&nf(i),i.flags|=1,He(e,i,o,h),i.child)}function cy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,hy(e,i,f,o,h)):(e=Mu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Xf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(y,o)&&e.ref===i.ref)return Ki(e,i,h)}return i.flags|=1,e=ji(f,o),e.ref=i.ref,e.return=i,i.child=e}function hy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Ki(e,i,h)}return qf(e,i,a,o,h)}function fy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return dy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,f!==null?f.cachePool:null),f!==null?pg(i,f):_f(),gg(i);else return o=i.lanes=536870912,dy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(i,f.cachePool),pg(i,f),xr(),i.memoizedState=null):(e!==null&&Lu(i,null),_f(),xr());return He(e,i,h,a),i.child}function nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function dy(e,i,a,o,h){var f=ff();return f=f===null?null:{parent:Ee._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(i,null),_f(),gg(i),e!==null&&wa(e,i,o,!0),i.childLanes=h,null}function Wu(e,i){return i=ec({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function my(e,i,a){return ks(i,e.child,null,a),e=Wu(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function mS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Wu(i,o),i.lanes=536870912,nl(null,e);if(Ef(i),(e=Wt)?(e=R_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=i,i.child=a,Be=i,Wt=null)):e=null,e===null)throw Sr(i);return i.lanes=536870912,null}return Wu(i,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Ef(i),h)if(i.flags&256)i.flags&=-257,i=my(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||wa(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Jt,o!==null&&(y=So(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Is(e,y),cn(o,e,y),Bf;cc(),i=my(e,i,a)}else e=f.treeContext,Wt=Pn(y.nextSibling),Be=i,Mt=!0,br=null,Vn=!1,e!==null&&tg(i,e),i=Wu(i,o),i.flags|=4096;return i}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function qf(e,i,a,o,h){return Ds(i),a=bf(e,i,a,o,void 0,h),o=Sf(),e!==null&&!be?(Af(e,i,h),Ki(e,i,h)):(Mt&&o&&nf(i),i.flags|=1,He(e,i,a,h),i.child)}function py(e,i,a,o,h,f){return Ds(i),i.updateQueue=null,a=_g(i,o,a,h),yg(e),o=Sf(),e!==null&&!be?(Af(e,i,f),Ki(e,i,f)):(Mt&&o&&nf(i),i.flags|=1,He(e,i,a,f),i.child)}function gy(e,i,a,o,h){if(Ds(i),i.stateNode===null){var f=Ta,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},mf(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ta,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uf(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&zf.enqueueReplaceState(f,f.state,null),Jo(i,o,f,h),$o(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=Ls(a,E);f.props=R;var z=f.context,H=a.contextType;y=Ta,typeof H=="object"&&H!==null&&(y=qe(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&ny(i,f,o,y),wr=!1;var j=i.memoizedState;f.state=j,Jo(i,o,f,h),$o(),z=i.memoizedState,E||j!==z||wr?(typeof Q=="function"&&(Uf(i,a,Q,o),z=i.memoizedState),(R=wr||ey(i,a,R,o,j,z,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,pf(e,i),y=i.memoizedProps,H=Ls(a,y),f.props=H,Q=i.pendingProps,j=f.context,z=a.contextType,R=Ta,typeof z=="object"&&z!==null&&(R=qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||j!==R)&&ny(i,f,o,R),wr=!1,j=i.memoizedState,f.state=j,Jo(i,o,f,h),$o();var q=i.memoizedState;y!==Q||j!==q||wr||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(Uf(i,a,E,o),q=i.memoizedState),(H=wr||ey(i,a,H,o,j,q,R)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,tc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):He(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ki(e,i,h),e}function yy(e,i,a,o){return xs(),i.flags|=256,He(e,i,a,o),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:ag()}}function Gf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function _y(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Mt){if(h?Cr(i):xr(),(e=Wt)?(e=R_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=i,i.child=a,Be=i,Wt=null)):e=null,e===null)throw Sr(i);return Id(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xr(),h=i.mode,E=ec({mode:"hidden",children:E},h),o=Cs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),i.memoizedState=Hf,nl(null,o)):(Cr(i),Kf(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(Cr(i),i.flags&=-257,i=Yf(e,i,a)):i.memoizedState!==null?(xr(),i.child=e.child,i.flags|=128,i=null):(xr(),E=o.fallback,h=i.mode,o=ec({mode:"visible",children:o.children},h),E=Cs(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,ks(i,e.child,null,a),o=i.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),i.memoizedState=Hf,i=nl(null,o));else if(Cr(i),Id(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,Fo({value:o,source:null,stack:null}),i=Yf(e,i,a)}else if(be||wa(e,i,a,!1),y=(a&e.childLanes)!==0,be||y){if(y=Jt,y!==null&&(o=So(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Is(e,o),cn(y,e,o),Bf;Rd(E)||cc(),i=Yf(e,i,a)}else Rd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,Wt=Pn(E.nextSibling),Be=i,Mt=!0,br=null,Vn=!1,e!==null&&tg(i,e),i=Kf(i,o.children),i.flags|=4096);return i}return h?(xr(),E=o.fallback,h=i.mode,R=e.child,z=R.sibling,o=ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Cs(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,nl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,y,a),i.memoizedState=Hf,nl(e.child,o)):(Cr(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Kf(e,i){return i=ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ec(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function Yf(e,i,a){return ks(i,e.child,null,a),e=Kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function vy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),lf(e.return,i,a)}function Qf(e,i,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ey(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=fe.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,it(fe,y),He(e,i,o,a),o=Mt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,i);else if(e.tag===19)vy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(i,!0,a,null,f,o);break;case"together":Qf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function pS(e,i,a){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),Ar(i,Ee,e.memoizedState.cache),xs();break;case 27:case 5:us(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ef(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_y(e,i,a):(Cr(i),e=Ki(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ey(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(fe,fe.current),o)break;return null;case 22:return i.lanes=0,fy(e,i,a,i.pendingProps);case 24:Ar(i,Ee,e.memoizedState.cache)}return Ki(e,i,a)}function Ty(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Xf(e,a)&&(i.flags&128)===0)return be=!1,pS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Mt&&(i.flags&1048576)!==0&&Wp(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")Wh(e)?(o=Ls(e,o),i.tag=1,i=gy(null,i,e,o,a)):(i.tag=0,i=qf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===wt){i.tag=11,i=uy(null,i,e,o,a);break t}else if(h===x){i.tag=14,i=cy(null,i,e,o,a);break t}}throw i=ne(e)||e,Error(s(306,i,""))}}return i;case 0:return qf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ls(o,i.pendingProps),gy(e,i,o,h,a);case 3:t:{if(Ie(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,pf(e,i),Jo(i,o,null,a);var y=i.memoizedState;if(o=y.cache,Ar(i,Ee,o),o!==f.cache&&uf(i,[Ee],a,!0),$o(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=yy(e,i,o,a);break t}else if(o!==h){h=Dn(Error(s(424)),i),Fo(h),i=yy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=Pn(e.firstChild),Be=i,Mt=!0,br=null,Vn=!0,a=fg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),o===h){i=Ki(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return tc(e,i),e===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Mt||(a=i.type,e=i.pendingProps,o=yc(St.current).createElement(a),o[ye]=i,o[ke]=e,Fe(o,a,e),_e(o),i.stateNode=o):i.memoizedState=O_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return us(i),e===null&&Mt&&(o=i.stateNode=x_(i.type,i.pendingProps,St.current),Be=i,Vn=!0,h=Wt,Lr(i.type)?(Cd=h,Wt=Pn(o.firstChild)):Wt=h),He(e,i,i.pendingProps.children,a),tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Mt&&((h=o=Wt)&&(o=GS(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,Be=i,Wt=Pn(o.firstChild),Vn=!1,h=!0):h=!1),h||Sr(i)),us(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:y!==null&&Sd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(e,i,aS,null,null,a),yl._currentValue=h),tc(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Mt&&((e=a=Wt)&&(a=KS(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Be=i,Wt=null,e=!0):e=!1),e||Sr(i)),null;case 13:return _y(e,i,a);case 4:return Ie(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ks(i,null,o,a):He(e,i,o,a),i.child;case 11:return uy(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ar(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ds(i),h=qe(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return cy(e,i,i.type,i.pendingProps,a);case 15:return hy(e,i,i.type,i.pendingProps,a);case 19:return Ey(e,i,a);case 31:return mS(e,i,a);case 22:return fy(e,i,a,i.pendingProps);case 24:return Ds(i),o=qe(Ee),e===null?(h=ff(),h===null&&(h=Jt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},mf(i),Ar(i,Ee,h)):((e.lanes&a)!==0&&(pf(e,i),Jo(i,null,null,a),$o()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,Ee,o)):(o=f.cache,Ar(i,Ee,o),o!==h.cache&&uf(i,[Ee],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function $f(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Qy())e.flags|=8192;else throw Vs=zu,df}else e.flags&=-16777217}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(i))if(Qy())e.flags|=8192;else throw Vs=zu,df}function nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?lu():536870912,e.lanes|=i,La|=i)}function il(e,i){if(!Mt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function gS(e,i,a){var o=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(Ee),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),te(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Yi(i),f!==null?(te(i),by(i,f)):(te(i),$f(i,h,null,o,a))):f?f!==e.memoizedState?(Yi(i),te(i),by(i,f)):(te(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(i),te(i),$f(i,h,e,o,a)),null;case 27:if(na(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return te(i),null}e=st.current,Aa(i)?eg(i):(e=x_(h,o,a),i.stateNode=e,Yi(i))}return te(i),null;case 5:if(na(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return te(i),null}if(f=st.current,Aa(i))eg(i);else{var y=yc(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ye]=i,f[ke]=o;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(i)}}return te(i),$f(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Sr(i,!0)}else e=yc(e).createTextNode(o),e[ye]=i,i.stateNode=e}return te(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return te(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),te(i),null);case 4:return ie(),e===null&&_d(i.stateNode.containerInfo),te(i),null;case 10:return Hi(i.type),te(i),null;case 19:if(X(fe),o=i.memoizedState,o===null)return te(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Hu(e),f!==null){for(i.flags|=128,il(o,!1),e=f.updateQueue,i.updateQueue=e,nc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)$p(a,e),a=a.sibling;return it(fe,fe.current&1|2),Mt&&Bi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>oc&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,nc(i,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return te(i),null}else 2*We()-o.renderingStartTime>oc&&a!==536870912&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=fe.current,it(fe,h?a&1|2:a&1),Mt&&Bi(i,o.treeForkCount),e):(te(i),null);case 22:case 23:return _n(i),vf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&X(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ee),te(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function yS(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Ee),ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(fe),null;case 4:return ie(),null;case 10:return Hi(i.type),null;case 22:case 23:return _n(i),vf(),e!==null&&X(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Ee),null;case 25:return null;default:return null}}function Sy(e,i){switch(rf(i),i.tag){case 3:Hi(Ee),ie();break;case 26:case 27:case 5:na(i);break;case 4:ie();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:X(fe);break;case 10:Hi(i.type);break;case 22:case 23:_n(i),vf(),e!==null&&X(Os);break;case 24:Hi(Ee)}}function rl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Kt(i,i.return,E)}}function Nr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(H){Kt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(i,i.return,H)}}function Ay(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{mg(i,a)}catch(o){Kt(e,e.return,o)}}}function wy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,i,o)}}function sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,i,h)}}function Si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,i,h)}else a.current=null}function Ry(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function Jf(e,i,a){try{var o=e.stateNode;zS(o,e.type,a,i),o[ke]=i}catch(h){Kt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Wf(e,i,a),e=e.sibling;e!==null;)Wf(e,i,a),e=e.sibling}function ic(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,i,a),e=e.sibling;e!==null;)ic(e,i,a),e=e.sibling}function Cy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[ye]=e,i[ke]=a}catch(f){Kt(e,e.return,f)}}var Qi=!1,Se=!1,td=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function _S(e,i){if(e=e.containerInfo,Td=Ac,e=Bp(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,H=0,Q=e,j=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=y+h),Q!==f||o!==0&&Q.nodeType!==3||(R=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++H===o&&(R=y),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},Ac=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function Ny(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&rl(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}o&64&&Ay(a),o&512&&sl(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{mg(e,i)}catch(y){Kt(a,a.return,y)}}break;case 27:i===null&&o&4&&Cy(a);case 26:case 5:$i(e,a),i===null&&o&4&&Ry(a),o&512&&sl(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&My(e,a);break;case 13:$i(e,a),o&4&&Vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=IS.bind(null,a),YS(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||Se,h=Qi;var f=Se;Qi=o,(Se=i)&&!f?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Qi=h,Se=f}break;case 30:break;default:$i(e,a)}}function Dy(e){var i=e.alternate;i!==null&&(e.alternate=null,Dy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&oa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,an=!1;function Xi(e,i,a){for(a=a.child;a!==null;)Oy(e,i,a),a=a.sibling}function Oy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Se||Si(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||Si(a,i);var o=se,h=an;Lr(a.type)&&(se=a.stateNode,an=!1),Xi(e,i,a),ml(a.stateNode),se=o,an=h;break;case 5:Se||Si(a,i);case 6:if(o=se,h=an,se=null,Xi(e,i,a),se=o,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Kt(a,i,f)}else try{se.removeChild(a.stateNode)}catch(f){Kt(a,i,f)}break;case 18:se!==null&&(an?(e=se,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):A_(se,a.stateNode));break;case 4:o=se,h=an,se=a.stateNode.containerInfo,an=!0,Xi(e,i,a),se=o,an=h;break;case 0:case 11:case 14:case 15:Nr(2,a,i),Se||Nr(4,a,i),Xi(e,i,a);break;case 1:Se||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,i,o)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Se=(o=Se)||a.memoizedState!==null,Xi(e,i,a),Se=o;break;default:Xi(e,i,a)}}function My(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Kt(i,i.return,a)}}}function Vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Kt(i,i.return,a)}}function vS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new xy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new xy),i;default:throw Error(s(435,e.tag))}}function rc(e,i){var a=vS(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=CS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){se=E.stateNode,an=!1;break t}break;case 5:se=E.stateNode,an=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(se===null)throw Error(s(160));Oy(f,y,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ky(i,e),i=i.sibling}var Jn=null;function ky(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Nr(3,e,e.return),rl(3,e),Nr(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Se||a===null||Si(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(on(i,e),ln(e),o&512&&(Se||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ye]=e,_e(f),o=f;break t;case"link":var y=k_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(y=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else P_(h,e.type,e.stateNode);else e.stateNode=V_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P_(h,e.type,e.stateNode):V_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Se||a===null||Si(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Se||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(Ec=null,h=Jn,Jn=_c(i.containerInfo),on(i,e),Jn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(at){Kt(e,e.return,at)}td&&(td=!1,Py(e));break;case 4:o=Jn,Jn=_c(e.stateNode.containerInfo),on(i,e),ln(e),Jn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Qi,H=Se;if(Qi=z||h,Se=H||R,on(i,e),Se=H,Qi=z,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Qi||Se||Us(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Kt(R,R.return,at)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?w_(q,!0):w_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);ic(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var E=Zf(e);ic(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Zf(e);Wf(e,z,R);break;default:throw Error(s(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ny(e,i.alternate,i),i=i.sibling}function Us(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Nr(4,i,i.return),Us(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wy(i,i.return,a),Us(i);break;case 27:ml(i.stateNode);case 26:case 5:Si(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),rl(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)dg(R[h],E)}catch(z){Kt(o,o.return,z)}}a&&y&64&&Ay(f),sl(f,f.return);break;case 27:Cy(f);case 26:case 5:Ji(h,f,a),a&&o===null&&y&4&&Ry(f),sl(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&y&4&&My(h,f);break;case 13:Ji(h,f,a),a&&y&4&&Vy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),sl(f,f.return);break;case 30:break;default:Ji(h,f,a)}i=i.sibling}}function ed(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function nd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function Zn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ly(e,i,a,o),i=i.sibling}function Ly(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,a,o),h&2048&&rl(9,i);break;case 1:Zn(e,i,a,o);break;case 3:Zn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Zn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(i,i.return,R)}}else Zn(e,i,a,o);break;case 31:Zn(e,i,a,o);break;case 13:Zn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Zn(e,i,a,o):al(e,i):f._visibility&2?Zn(e,i,a,o):(f._visibility|=2,Va(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ed(y,i);break;case 24:Zn(e,i,a,o),h&2048&&nd(i.alternate,i);break;default:Zn(e,i,a,o)}}function Va(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,y=i,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Va(f,y,E,R,h),rl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Va(f,y,E,R,h):al(f,y):(H._visibility|=2,Va(f,y,E,R,h)),h&&z&2048&&ed(y.alternate,y);break;case 24:Va(f,y,E,R,h),h&&z&2048&&nd(y.alternate,y);break;default:Va(f,y,E,R,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&ed(o.alternate,o);break;case 24:al(a,o),h&2048&&nd(o.alternate,o);break;default:al(a,o)}i=i.sibling}}var ol=8192;function ka(e,i,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Uy(e,i,a),e=e.sibling}function Uy(e,i,a){switch(e.tag){case 26:ka(e,i,a),e.flags&ol&&e.memoizedState!==null&&sA(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:ka(e,i,a);break;case 3:case 4:var o=Jn;Jn=_c(e.stateNode.containerInfo),ka(e,i,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,ka(e,i,a),ol=o):ka(e,i,a));break;default:ka(e,i,a)}}function zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,By(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,sc(e)):ll(e);break;default:ll(e)}}function sc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,By(o,e)}zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Nr(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}e=e.sibling}}function By(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Dy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var ES={getCacheForType:function(e){var i=qe(Ee),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ee).controller.signal}},TS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,Rt=null,Ct=0,Gt=0,vn=null,Dr=!1,Pa=!1,id=!1,Zi=0,ue=0,Or=0,zs=0,rd=0,En=0,La=0,ul=null,un=null,sd=!1,ac=0,qy=0,oc=1/0,lc=null,Mr=null,xe=0,Vr=null,Ua=null,Wi=0,ad=0,od=null,Hy=null,cl=0,ld=null;function Tn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?md():uu()}function Fy(){if(En===0)if((Ct&536870912)===0||Mt){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(za(e,0),kr(e,Ct,En,!1)),ds(e,a),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(zs|=a),ue===4&&kr(e,Ct,En,!1)),Ai(e))}function Gy(e,i,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||qn(e,i),h=o?AS(e,i):cd(e,i,!0),f=o;do{if(h===0){Pa&&!o&&kr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!bS(a)){h=cd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=ul;var R=E.current.memoizedState.isDehydrated;if(R&&(za(E,y).flags|=256),y=cd(E,y,!1),y!==2){if(id&&!R){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){za(e,0),kr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:kr(o,i,En,!Dr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ac+300-We(),10<h)){if(kr(o,i,En,!Dr),ai(o,0,!0)!==0)break t;Wi=i,o.timeoutHandle=b_(Ky.bind(null,o,a,un,lc,sd,i,En,zs,La,Dr,f,"Throttled",-0,0),h);break t}Ky(o,a,un,lc,sd,i,En,zs,La,Dr,f,null,-0,0)}}break}while(!0);Ai(e)}function Ky(e,i,a,o,h,f,y,E,R,z,H,Q,j,q){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Uy(i,f,Q);var at=(f&62914560)===f?ac-We():(f&4194048)===f?qy-We():0;if(at=aA(Q,at),at!==null){Wi=f,e.cancelPendingCommit=at(t_.bind(null,e,i,f,a,o,h,y,E,R,H,Q,null,j,q)),kr(e,f,y,!z);return}}t_(e,i,f,a,o,h,y,E,R)}function bS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function kr(e,i,a,o){i&=~rd,i&=~zs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-ce(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&ms(e,a,i)}function uc(){return(Bt&6)===0?(hl(0),!1):!0}function ud(){if(Rt!==null){if(Gt===0)var e=Rt.return;else e=Rt,qi=Ns=null,wf(e),xa=null,Yo=0,e=Rt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Rt=null}}function za(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,ud(),Jt=e,Rt=a=ji(e.current,null),Ct=i,Gt=0,vn=null,Dr=!1,Pa=qn(e,i),id=!1,La=En=rd=zs=Or=ue=0,un=ul=null,sd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-ce(o),f=1<<h;i|=e[h],o&=~f}return Zi=i,Nu(),a}function Yy(e,i){bt=null,F.H=el,i===Ca||i===Uu?(i=ug(),Gt=3):i===df?(i=ug(),Gt=4):Gt=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Rt===null&&(ue=1,Zu(e,Dn(i,e.current)))}function Qy(){var e=yn.current;return e===null?!0:(Ct&4194048)===Ct?kn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===kn:!1}function Xy(){var e=F.H;return F.H=el,e===null?el:e}function $y(){var e=F.A;return F.A=ES,e}function cc(){ue=4,Dr||(Ct&4194048)!==Ct&&yn.current!==null||(Pa=!0),(Or&134217727)===0&&(zs&134217727)===0||Jt===null||kr(Jt,Ct,En,!1)}function cd(e,i,a){var o=Bt;Bt|=2;var h=Xy(),f=$y();(Jt!==e||Ct!==i)&&(lc=null,za(e,i)),i=!1;var y=ue;t:do try{if(Gt!==0&&Rt!==null){var E=Rt,R=vn;switch(Gt){case 8:ud(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Gt;if(Gt=0,vn=null,ja(e,E,R,z),a&&Pa){y=0;break t}break;default:z=Gt,Gt=0,vn=null,ja(e,E,R,z)}}SS(),y=ue;break}catch(H){Yy(e,H)}while(!0);return i&&e.shellSuspendCounter++,qi=Ns=null,Bt=o,F.H=h,F.A=f,Rt===null&&(Jt=null,Ct=0,Nu()),y}function SS(){for(;Rt!==null;)Jy(Rt)}function AS(e,i){var a=Bt;Bt|=2;var o=Xy(),h=$y();Jt!==e||Ct!==i?(lc=null,oc=We()+500,za(e,i)):Pa=qn(e,i);t:do try{if(Gt!==0&&Rt!==null){i=Rt;var f=vn;e:switch(Gt){case 1:Gt=0,vn=null,ja(e,i,f,1);break;case 2:case 9:if(og(f)){Gt=0,vn=null,Zy(i);break}i=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),Ai(e)},f.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:og(f)?(Gt=0,vn=null,Zy(i)):(Gt=0,vn=null,ja(e,i,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(y?L_(y):E.stateNode.complete){Gt=0,vn=null;var R=E.sibling;if(R!==null)Rt=R;else{var z=E.return;z!==null?(Rt=z,hc(z)):Rt=null}break e}}Gt=0,vn=null,ja(e,i,f,5);break;case 6:Gt=0,vn=null,ja(e,i,f,6);break;case 8:ud(),ue=6;break t;default:throw Error(s(462))}}wS();break}catch(H){Yy(e,H)}while(!0);return qi=Ns=null,F.H=o,F.A=h,Bt=a,Rt!==null?0:(Jt=null,Ct=0,Nu(),ue)}function wS(){for(;Rt!==null&&!zh();)Jy(Rt)}function Jy(e){var i=Ty(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?hc(e):Rt=i}function Zy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=py(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=py(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:wf(i);default:Sy(a,i),i=Rt=$p(i,Zi),i=Ty(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?hc(e):Rt=i}function ja(e,i,a,o){qi=Ns=null,wf(i),xa=null,Yo=0;var h=i.return;try{if(dS(e,h,i,a,Ct)){ue=1,Zu(e,Dn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,Zu(e,Dn(a,e.current)),Rt=null;return}i.flags&32768?(Mt||o===1?e=!0:Pa||(Ct&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(i,e)):hc(i)}function hc(e){var i=e;do{if((i.flags&32768)!==0){Wy(i,Dr);return}e=i.return;var a=gS(i.alternate,i,Zi);if(a!==null){Rt=a;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);ue===0&&(ue=5)}function Wy(e,i){do{var a=yS(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ue=6,Rt=null}function t_(e,i,a,o,h,f,y,E,R){e.cancelPendingCommit=null;do fc();while(xe!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Jh,qh(e,a,f,y,E,R),e===Jt&&(Rt=Jt=null,Ct=0),Ua=i,Vr=e,Wi=a,ad=f,od=h,Hy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xS(hr,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,y=Bt,Bt|=4;try{_S(e,i,a)}finally{Bt=y,nt.p=h,F.T=o}}xe=1,e_(),n_(),i_()}}function e_(){if(xe===1){xe=0;var e=Vr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{ky(i,e);var f=bd,y=Bp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&jp(E.ownerDocument.documentElement,E)){if(R!==null&&Kh(E)){var z=R.start,H=R.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,mt=Math.min(R.start,at),$t=R.end===void 0?mt:Math.min(R.end,at);!q.extend&&mt>$t&&(y=$t,$t=mt,mt=y);var k=zp(E,mt),D=zp(E,$t);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=Q.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),mt>$t?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!Td,bd=Td=null}finally{Bt=h,nt.p=o,F.T=a}}e.current=i,xe=2}}function n_(){if(xe===2){xe=0;var e=Vr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Ny(e,i.alternate,i)}finally{Bt=h,nt.p=o,F.T=a}}xe=3}}function i_(){if(xe===4||xe===3){xe=0,nu();var e=Vr,i=Ua,a=Wi,o=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ua=Vr=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),Pi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=i,nt.p=h}}(Wi&3)!==0&&fc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?cl++:(cl=0,ld=e):cl=0,hl(0)}}function r_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function fc(){return e_(),n_(),i_(),s_()}function s_(){if(xe!==5)return!1;var e=Vr,i=ad;ad=0;var a=Pi(Wi),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=od,od=null;var f=Vr,y=Wi;if(xe=0,Ua=Vr=null,Wi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,jy(f.current),Ly(f,f.current,y,a),Bt=E,hl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{nt.p=h,F.T=o,r_(e,i)}}function a_(e,i,a){i=Dn(a,i),i=jf(e.stateNode,i,2),e=Ir(e,i,2),e!==null&&(ds(e,2),Ai(e))}function Kt(e,i,a){if(e.tag===3)a_(e,e,a);else for(;i!==null;){if(i.tag===3){a_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Dn(a,e),a=oy(2),o=Ir(i,a,2),o!==null&&(ly(a,o,i,e),ds(o,2),Ai(o));break}}i=i.return}}function hd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new TS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(id=!0,h.add(a),e=RS.bind(null,e,i,a),i.then(e,e))}function RS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Ct&a)===a&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>We()-ac?(Bt&2)===0&&za(e,0):rd|=a,La===Ct&&(La=0)),Ai(e)}function o_(e,i){i===0&&(i=lu()),e=Is(e,i),e!==null&&(ds(e,i),Ai(e))}function IS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(e,a)}function CS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),o_(e,a)}function xS(e,i){return Ce(e,i)}var dc=null,Ba=null,fd=!1,mc=!1,dd=!1,Pr=0;function Ai(e){e!==Ba&&e.next===null&&(Ba===null?dc=Ba=e:Ba=Ba.next=e),mc=!0,fd||(fd=!0,DS())}function hl(e,i){if(!dd&&mc){dd=!0;do for(var a=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=Ct,f=ai(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(a=!0,h_(o,f));o=o.next}while(a);dd=!1}}function NS(){l_()}function l_(){mc=fd=!1;var e=0;Pr!==0&&BS()&&(e=Pr);for(var i=We(),a=null,o=dc;o!==null;){var h=o.next,f=u_(o,i);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(Ba=a)):(a=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}xe!==0&&xe!==5||hl(e),Pr!==0&&(Pr=0)}function u_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ce(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Bh(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=Jt,a=Ct,a=ai(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&cr(o),Pi(a)){case 2:case 8:a=To;break;case 32:a=hr;break;case 268435456:a=iu;break;default:a=hr}return o=c_.bind(null,e),a=Ce(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&cr(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fc()&&e.callbackNode!==a)return null;var o=Ct;return o=ai(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,i),u_(e,We()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,i){if(fc())return null;Gy(e,i,!0)}function DS(){HS(function(){(Bt&6)!==0?Ce(Eo,NS):l_()})}function md(){if(Pr===0){var e=Ra;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Pr=e}return Pr}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function d_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function OS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=f_((h[ke]||null).action),y=o.submitter;y&&(i=(i=y[ke]||null)?f_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pr!==0){var R=y?d_(h,y):new FormData(h);Vf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?d_(h,y):new FormData(h),Vf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],MS=gd.toLowerCase(),VS=gd[0].toUpperCase()+gd.slice(1);$n(MS,"on"+VS)}$n(Fp,"onAnimationEnd"),$n(Gp,"onAnimationIteration"),$n(Kp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n($b,"onTransitionRun"),$n(Jb,"onTransitionStart"),$n(Zb,"onTransitionCancel"),$n(Yp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function m_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){xu(H)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){xu(H)}h.currentTarget=null,f=R}}}}function It(e,i){var a=i[aa];a===void 0&&(a=i[aa]=new Set);var o=e+"__bubble";a.has(o)||(p_(i,e,2,!1),a.add(o))}function yd(e,i,a){var o=0;i&&(o|=4),p_(a,e,o,i)}var pc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[pc]){e[pc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(kS.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[pc]||(i[pc]=!0,yd("selectionchange",!1,i))}}function p_(e,i,a,o){switch(F_(i)){case 2:var h=uA;break;case 8:h=cA;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function vd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}yr(function(){var z=f,H=In(a),Q=[];t:{var j=Qp.get(e);if(j!==void 0){var q=yi,at=e;switch(e){case"keypress":if(Ts(a)===0)break t;case"keydown":case"keyup":q=Ru;break;case"focusin":at="focus",q=Ss;break;case"focusout":at="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Fp:case Gp:case Kp:q=vu;break;case Yp:q=T;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=Tt}var mt=(i&4)!==0,$t=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Kn(D,k),K!=null&&mt.push(dl(D,K,U))),$t)break;D=D.return}0<mt.length&&(j=new q(j,at,null,a,H),Q.push({event:j,listeners:mt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Mo&&(at=a.relatedTarget||a.fromElement)&&(ci(at)||at[li]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=z,at=at?ci(at):null,at!==null&&($t=u(at),mt=at.tag,at!==$t||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(mt=Lo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=zi,K="onPointerLeave",k="onPointerEnter",D="pointer"),$t=q==null?j:dn(q),U=at==null?j:dn(at),j=new mt(K,D+"leave",q,a,H),j.target=$t,j.relatedTarget=U,K=null,ci(H)===z&&(mt=new mt(k,D+"enter",at,a,H),mt.target=U,mt.relatedTarget=$t,K=mt),$t=K,q&&at)e:{for(mt=PS,k=q,D=at,U=0,K=k;K;K=mt(K))U++;K=0;for(var ht=D;ht;ht=mt(ht))K++;for(;0<U-K;)k=mt(k),U--;for(;0<K-U;)D=mt(D),K--;for(;U--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;q!==null&&g_(Q,j,q,mt,!1),at!==null&&$t!==null&&g_(Q,$t,at,mt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ut=Mp;else if(Dp(j))if(Vp)Ut=Yb;else{Ut=Gb;var ot=Fb}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ca(z.elementType)&&(Ut=Mp):Ut=Kb;if(Ut&&(Ut=Ut(e,z))){Op(Q,Ut,a,H);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&No(j,"number",j.value)}switch(ot=z?dn(z):window,e){case"focusin":(Dp(ot)||ot.contentEditable==="true")&&(_a=ot,Yh=z,qo=null);break;case"focusout":qo=Yh=_a=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,qp(Q,a,H);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":qp(Q,a,H)}var At;if(jt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ya?As(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Ei&&a.locale!=="ko"&&(ya||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ya&&(At=ko()):(gi=H,Vo="value"in gi?gi.value:gi.textContent,ya=!0)),ot=gc(z,xt),0<ot.length&&(xt=new vi(xt,e,null,a,H),Q.push({event:xt,listeners:ot}),At?xt.data=At:(At=ga(a),At!==null&&(xt.data=At)))),(At=xn?jb(e,a):Bb(e,a))&&(xt=gc(z,"onBeforeInput"),0<xt.length&&(ot=new vi("onBeforeInput","beforeinput",null,a,H),Q.push({event:ot,listeners:xt}),ot.data=At)),OS(Q,e,z,a,H)}m_(Q,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function gc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Kn(e,i),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function PS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Kn(a,f),z!=null&&y.unshift(dl(a,z,R))):h||(z=Kn(a,f),z!=null&&y.push(dl(a,z,R)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var LS=/\r\n?/g,US=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(LS,`
`).replace(US,"")}function __(e,i){return i=y_(i),y_(e)===i}function Xt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),la(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,la(e,a,o))}}function Ed(e,i,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):la(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,f,y,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),o&&Xt(e,i,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xt(e,i,o,H,a,null)}}du(e,f,E,R,z,y,h,!1);return;case"select":It("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Xt(e,i,h,E,a,null)}i=f,a=y,e.multiple=!!o,i!=null?dr(e,!!o,i,!1):a!=null&&dr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,i,y,E,a,null)}mr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,i,R,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)It(fl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,z,o,a,null)}return;default:if(ca(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Ed(e,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,i,E,o,a,null))}function zS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,H=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Xt(e,i,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Q&&Xt(e,i,j,q,o,Q)}}ua(e,y,E,R,z,H,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Xt(e,i,h,f,o,R)}i=E,a=y,o=q,j!=null?dr(e,!!a,j,!1):!!o!=!!a&&(i!=null?dr(e,!!a,i,!0):dr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,i,y,h,o,f)}mu(e,j,q);return;case"option":for(var at in a)if(j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Xt(e,i,at,null,o,j)}for(R in o)if(j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,i,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Xt(e,i,mt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Xt(e,i,z,j,o,q)}return;default:if(ca(i)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!o.hasOwnProperty($t)&&Ed(e,i,$t,void 0,o,j);for(H in o)j=o[H],q=a[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||Ed(e,i,H,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Xt(e,i,k,null,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||Xt(e,i,Q,j,o,q)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&v_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var H=R.transferSize,Q=R.initiatorType;H&&v_(Q)&&(R=R.responseEnd,y+=H*(R<E?1:(E-z)/(R-z)))}if(--o,i+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,bd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function BS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(FS)}:b_;function FS(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function A_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ga(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ga(i)}function w_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function GS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function KS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function R_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function YS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Cd=null;function I_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function x_(e,i,a){switch(i=yc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);oa(e)}var Ln=new Map,N_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=nt.d;nt.d={f:QS,r:XS,D:$S,C:JS,L:ZS,m:WS,X:eA,S:tA,M:nA};function QS(){var e=tr.f(),i=uc();return e||i}function XS(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?Yg(i):tr.r(e)}var qa=typeof document>"u"?null:document;function D_(e,i,a){var o=qa;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),_e(i),o.head.appendChild(i)))}}function $S(e){tr.D(e),D_("dns-prefetch",e,null)}function JS(e,i){tr.C(e,i),D_("preconnect",e,i)}function ZS(e,i,a){tr.L(e,i,a);var o=qa;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=Ha(e);break;case"script":f=Fa(e)}Ln.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(f))||i==="script"&&o.querySelector(gl(f))||(i=o.createElement("link"),Fe(i,"link",e),_e(i),o.head.appendChild(i)))}}function WS(e,i){tr.m(e,i);var a=qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Fe(o,"link",e),_e(o),a.head.appendChild(o)}}}function tA(e,i,a){tr.S(e,i,a);var o=qa;if(o&&e){var h=hi(o).hoistableStyles,f=Ha(e);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(pl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&xd(e,a);var R=y=o.createElement("link");_e(R),Fe(R,"link",e),R._p=new Promise(function(z,H){R.onload=z,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function eA(e,i){tr.X(e,i);var a=qa;if(a&&e){var o=hi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Nd(e,i),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function nA(e,i){tr.M(e,i);var a=qa;if(a&&e){var o=hi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Nd(e,i),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,i,a,o){var h=(h=St.current)?_c(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=hi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var f=hi(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(pl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||iA(h,e,a,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=hi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ha(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function iA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),_e(i),e.head.appendChild(i))}function Fa(e){return'[src="'+rn(e)+'"]'}function gl(e){return"script[async]"+e}function V_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,_e(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),Fe(o,"style",h),vc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ha(a.href);var f=e.querySelector(pl(h));if(f)return i.state.loading|=4,i.instance=f,_e(f),f;o=M_(a),(h=Ln.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Fe(f,"link",o),i.state.loading|=4,vc(f,a.precedence,e),i.instance=f;case"script":return f=Fa(a.src),(h=e.querySelector(gl(f)))?(i.instance=h,_e(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,vc(o,a.precedence,e));return i.instance}function vc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ec=null;function k_(e,i,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function rA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(o.href),f=i.querySelector(pl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Tc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,_e(f);return}f=i.ownerDocument||i,o=M_(o),(h=Ln.get(h))&&xd(o,h),f=f.createElement("link"),_e(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Dd=0;function aA(e,i){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Dd===0&&(Dd=62500*jS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function Sc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,i.forEach(oA,e),bc=null,Tc.call(e))}function oA(e,i){if(!(i.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function lA(e,i,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function U_(e,i,a,o,h,f,y,E,R,z,H,Q){return e=new lA(e,i,a,y,R,z,H,Q,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=cf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},mf(f),e}function z_(e){return e?(e=Ta,e):Ta}function j_(e,i,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ir(e,o,i),a!==null&&(cn(a,e,i),Xo(a,e,i))}function B_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){B_(e,i),(e=e.alternate)&&B_(e,i)}function q_(e){if(e.tag===13||e.tag===31){var i=Is(e,67108864);i!==null&&cn(i,e,67108864),Od(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var i=Tn();i=ps(i);var a=Is(e,i);a!==null&&cn(a,e,i),Od(e,i)}}var Ac=!0;function uA(e,i,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Md(e,i,a,o)}finally{nt.p=f,F.T=h}}function cA(e,i,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Md(e,i,a,o)}finally{nt.p=f,F.T=h}}function Md(e,i,a,o){if(Ac){var h=Vd(o);if(h===null)vd(e,i,o,wc,a),G_(e,o);else if(fA(h,e,i,a,o))o.stopPropagation();else if(G_(e,o),i&4&&-1<hA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=si(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ce(y);E.entanglements[1]|=R,y&=~R}Ai(f),(Bt&6)===0&&(oc=We()+500,hl(0))}}break;case 31:case 13:E=Is(f,2),E!==null&&cn(E,f,2),uc(),Od(f,2)}if(f=Vd(o),f===null&&vd(e,i,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,i,o,null,a)}}function Vd(e){return e=In(e),kd(e)}var wc=null;function kd(e){if(wc=null,e=ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return wc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case Eo:return 2;case To:return 8;case hr:case jh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ur=null,zr=null,jr=null,_l=new Map,vl=new Map,Br=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&q_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function fA(e,i,a,o,h){switch(i){case"focusin":return Ur=El(Ur,e,i,a,o,h),!0;case"dragenter":return zr=El(zr,e,i,a,o,h),!0;case"mouseover":return jr=El(jr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,i,a,o,h)),!0}return!1}function K_(e){var i=ci(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){H_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){H_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return i=Rn(a),i!==null&&q_(i),e.blockedOn=a,!1;i.shift()}return!0}function Y_(e,i,a){Rc(e)&&a.delete(i)}function dA(){Pd=!1,Ur!==null&&Rc(Ur)&&(Ur=null),zr!==null&&Rc(zr)&&(zr=null),jr!==null&&Rc(jr)&&(jr=null),_l.forEach(Y_),vl.forEach(Y_)}function Ic(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dA)))}var Cc=null;function Q_(e){Cc!==e&&(Cc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ga(e){function i(R){return Ic(R,e)}Ur!==null&&Ic(Ur,e),zr!==null&&Ic(zr,e),jr!==null&&Ic(jr,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<Br.length;a++){var o=Br[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[ke]||null;if(typeof f=="function")y||Q_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ke]||null)E=y.formAction;else if(kd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Q_(a)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}xc.prototype.render=Ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();j_(a,o,e,i,null,null)},xc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;j_(e.current,2,null,e,null,null),uc(),i[li]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=uu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,e),a===0&&K_(e)}};var $_=t.version;if($_!=="19.2.0")throw Error(s(527,$_,"19.2.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Bn=Nc.inject(mA),ze=Nc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=iy,f=ry,y=sy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=U_(e,1,!1,null,null,a,o,null,h,f,y,X_),e[li]=i.current,_d(e),new Ld(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=iy,y=ry,E=sy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=U_(e,1,!0,i,a??null,o,h,R,f,y,E,X_),i.context=z_(null),a=i.current,o=Tn(),o=ps(o),h=Rr(o),h.callback=null,Ir(a,h,o),a=o,i.current.lanes=a,ds(i,a),Ai(i),e[li]=i.current,_d(e),new xc(i)},bl.version="19.2.0",bl}var av;function AA(){if(av)return jd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=SA(),jd.exports}var wA=AA();const RA=()=>{};var ov={};const GE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},IA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,g=_?r[l+2]:0,b=u>>2,S=(u&3)<<4|p>>4;let N=(p&15)<<2|g>>6,G=g&63;_||(G=64,d||(N=64)),s.push(n[b],n[S],n[N],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(GE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):IA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||g==null||S==null)throw new CA;const N=u<<2|p>>4;if(s.push(N),g!==64){const G=p<<4&240|g>>2;if(s.push(G),S!==64){const J=g<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(r){const t=GE(r);return KE.encodeByteArray(t,!0)},Yc=function(r){return xA(r).replace(/\./g,"")},YE=function(r){try{return KE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DA=()=>NA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&YE(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return RA()||DA()||OA()||MA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QE=r=>ph()?.emulatorHosts?.[r],VA=r=>{const t=QE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},XE=()=>ph()?.config,$E=r=>ph()?.[`_${r}`];class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(r){return(await fetch(r,{credentials:"include"})).ok}function PA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(n)),Yc(JSON.stringify(d)),""].join(".")}const xl={};function LA(){const r={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?r.emulator.push(t):r.prod.push(t);return r}function UA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let lv=!1;function ZE(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||xl[r]===t||xl[r]||lv)return;xl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=LA().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{lv=!0,d()},N}function b(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=UA(s),G=n("text"),J=document.getElementById(G)||document.createElement("span"),W=n("learnmore"),Y=document.getElementById(W)||document.createElement("a"),tt=n("preprendIcon"),ut=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;p(lt),b(Y,W);const wt=g();_(ut,tt),lt.append(ut,J,Y,wt),document.body.appendChild(lt)}u?(J.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function jA(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t0(){try{return typeof indexedDB=="object"}catch{return!1}}function e0(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function GA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const KA="FirebaseError";class ni extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=KA,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?YA(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ni(l,p,s)}}function YA(r,t){return r.replace(QA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const QA=/\{\$([^}]+)}/g;function XA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function sr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(uv(u)&&uv(d)){if(!sr(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Sl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Al(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function $A(r,t){const n=new JA(r,t);return n.subscribe.bind(n)}class JA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fd(){}const WA=1e3,t1=2,e1=14400*1e3,n1=.5;function cv(r,t=WA,n=t1){const s=t*Math.pow(n,r),l=Math.round(n1*s*(Math.random()-.5)*2);return Math.min(e1,s+l)}function Ve(r){return r&&r._delegate?r._delegate:r}class ei{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class i1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new kA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(s1(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(r){return r===js?void 0:r}function s1(r){return r.instantiationMode==="EAGER"}class a1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new i1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const o1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},l1=Nt.INFO,u1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},c1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=u1[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gh{constructor(t){this.name=t,this._logLevel=l1,this._logHandler=c1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?o1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const h1=(r,t)=>t.some(n=>r instanceof n);let hv,fv;function f1(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d1(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,om=new WeakMap,i0=new WeakMap,Gd=new WeakMap,km=new WeakMap;function m1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&n0.set(n,r)}).catch(()=>{}),km.set(t,r),t}function p1(r){if(om.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});om.set(r,t)}let lm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return om.get(r);if(t==="objectStoreNames")return r.objectStoreNames||i0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function g1(r){lm=r(lm)}function y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Kd(this),t,...n);return i0.set(s,t.sort?t.sort():[t]),Qr(s)}:d1().includes(r)?function(...t){return r.apply(Kd(this),t),Qr(n0.get(this))}:function(...t){return Qr(r.apply(Kd(this),t))}}function _1(r){return typeof r=="function"?y1(r):(r instanceof IDBTransaction&&p1(r),h1(r,f1())?new Proxy(r,lm):r)}function Qr(r){if(r instanceof IDBRequest)return m1(r);if(Gd.has(r))return Gd.get(r);const t=_1(r);return t!==r&&(Gd.set(r,t),km.set(t,r)),t}const Kd=r=>km.get(r);function r0(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),p=Qr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Qr(d.result),_.oldVersion,_.newVersion,Qr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const v1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],Yd=new Map;function dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=E1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||v1.includes(n)))return;const u=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let g=_.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&_.done]))[0]};return Yd.set(t,u),u}g1(r=>({...r,get:(t,n,s)=>dv(t,n)||r.get(t,n,s),has:(t,n)=>!!dv(t,n)||r.has(t,n)}));class T1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function b1(r){return r.getComponent()?.type==="VERSION"}const um="@firebase/app",mv="0.14.6";const ar=new gh("@firebase/app"),S1="@firebase/app-compat",A1="@firebase/analytics-compat",w1="@firebase/analytics",R1="@firebase/app-check-compat",I1="@firebase/app-check",C1="@firebase/auth",x1="@firebase/auth-compat",N1="@firebase/database",D1="@firebase/data-connect",O1="@firebase/database-compat",M1="@firebase/functions",V1="@firebase/functions-compat",k1="@firebase/installations",P1="@firebase/installations-compat",L1="@firebase/messaging",U1="@firebase/messaging-compat",z1="@firebase/performance",j1="@firebase/performance-compat",B1="@firebase/remote-config",q1="@firebase/remote-config-compat",H1="@firebase/storage",F1="@firebase/storage-compat",G1="@firebase/firestore",K1="@firebase/ai",Y1="@firebase/firestore-compat",Q1="firebase",X1="12.6.0";const cm="[DEFAULT]",$1={[um]:"fire-core",[S1]:"fire-core-compat",[w1]:"fire-analytics",[A1]:"fire-analytics-compat",[I1]:"fire-app-check",[R1]:"fire-app-check-compat",[C1]:"fire-auth",[x1]:"fire-auth-compat",[N1]:"fire-rtdb",[D1]:"fire-data-connect",[O1]:"fire-rtdb-compat",[M1]:"fire-fn",[V1]:"fire-fn-compat",[k1]:"fire-iid",[P1]:"fire-iid-compat",[L1]:"fire-fcm",[U1]:"fire-fcm-compat",[z1]:"fire-perf",[j1]:"fire-perf-compat",[B1]:"fire-rc",[q1]:"fire-rc-compat",[H1]:"fire-gcs",[F1]:"fire-gcs-compat",[G1]:"fire-fst",[Y1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};const Qc=new Map,J1=new Map,hm=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(n){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Oi(r){const t=r.name;if(hm.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,r);for(const n of Qc.values())pv(n,r);for(const n of J1.values())pv(n,r);return!0}function Ws(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function bn(r){return r==null?!1:r.settings!==void 0}const Z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Zs("app","Firebase",Z1);class W1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const co=X1;function s0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:cm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(n||(n=XE()),!n)throw Xr.create("no-options");const u=Qc.get(l);if(u){if(sr(n,u.options)&&sr(s,u.config))return u;throw Xr.create("duplicate-app",{appName:l})}const d=new a1(l);for(const _ of hm.values())d.addComponent(_);const p=new W1(n,s,d);return Qc.set(l,p),p}function Pm(r=cm){const t=Qc.get(r);if(!t&&r===cm&&XE())return s0();if(!t)throw Xr.create("no-app",{appName:r});return t}function zn(r,t,n){let s=$1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}Oi(new ei(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const tw="firebase-heartbeat-database",ew=1,Pl="firebase-heartbeat-store";let Qd=null;function a0(){return Qd||(Qd=r0(tw,ew,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function nw(r){try{const n=(await a0()).transaction(Pl),s=await n.objectStore(Pl).get(o0(r));return await n.done,s}catch(t){if(t instanceof ni)ar.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});ar.warn(n.message)}}}async function gv(r,t){try{const s=(await a0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(t,o0(r)),await s.done}catch(n){if(n instanceof ni)ar.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function o0(r){return`${r.name}!${r.options.appId}`}const iw=1024,rw=30;class sw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ow(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rw){const l=lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ar.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yv(),{heartbeatsToSend:n,unsentEntries:s}=aw(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ar.warn(t),""}}}function yv(){return new Date().toISOString().substring(0,10)}function aw(r,t=iw){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),_v(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_v(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t0()?e0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function _v(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function lw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function uw(r){Oi(new ei("platform-logger",t=>new T1(t),"PRIVATE")),Oi(new ei("heartbeat",t=>new sw(t),"PRIVATE")),zn(um,mv,r),zn(um,mv,"esm2020"),zn("fire-js","")}uw("");var cw="firebase",hw="12.6.0";zn(cw,hw,"app");const l0="@firebase/installations",Lm="0.6.19";const u0=1e4,c0=`w:${Lm}`,h0="FIS_v2",fw="https://firebaseinstallations.googleapis.com/v1",dw=3600*1e3,mw="installations",pw="Installations";const gw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new Zs(mw,pw,gw);function f0(r){return r instanceof ni&&r.code.includes("request-failed")}function d0({projectId:r}){return`${fw}/projects/${r}/installations`}function m0(r){return{token:r.token,requestStatus:2,expiresIn:_w(r.expiresIn),creationTime:Date.now()}}async function p0(r,t){const s=(await t.json()).error;return Gs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function g0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function yw(r,{refreshToken:t}){const n=g0(r);return n.append("Authorization",vw(t)),n}async function y0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function _w(r){return Number(r.replace("s","000"))}function vw(r){return`${h0} ${r}`}async function Ew({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=d0(r),l=g0(r),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:n,authVersion:h0,appId:r.appId,sdkVersion:c0},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await y0(()=>fetch(s,p));if(_.ok){const g=await _.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:m0(g.authToken)}}else throw await p0("Create Installation",_)}function _0(r){return new Promise(t=>{setTimeout(t,r)})}function Tw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const bw=/^[cdef][\w-]{21}$/,fm="";function Sw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=Aw(r);return bw.test(n)?n:fm}catch{return fm}}function Aw(r){return Tw(r).substr(0,22)}function yh(r){return`${r.appName}!${r.appId}`}const v0=new Map;function E0(r,t){const n=yh(r);T0(n,t),ww(n,t)}function T0(r,t){const n=v0.get(r);if(n)for(const s of n)s(t)}function ww(r,t){const n=Rw();n&&n.postMessage({key:r,fid:t}),Iw()}let Bs=null;function Rw(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=r=>{T0(r.data.key,r.data.fid)}),Bs}function Iw(){v0.size===0&&Bs&&(Bs.close(),Bs=null)}const Cw="firebase-installations-database",xw=1,Ks="firebase-installations-store";let Xd=null;function Um(){return Xd||(Xd=r0(Cw,xw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Ks)}}})),Xd}async function Xc(r,t){const n=yh(r),l=(await Um()).transaction(Ks,"readwrite"),u=l.objectStore(Ks),d=await u.get(n);return await u.put(t,n),await l.done,(!d||d.fid!==t.fid)&&E0(r,t.fid),t}async function b0(r){const t=yh(r),s=(await Um()).transaction(Ks,"readwrite");await s.objectStore(Ks).delete(t),await s.done}async function _h(r,t){const n=yh(r),l=(await Um()).transaction(Ks,"readwrite"),u=l.objectStore(Ks),d=await u.get(n),p=t(d);return p===void 0?await u.delete(n):await u.put(p,n),await l.done,p&&(!d||d.fid!==p.fid)&&E0(r,p.fid),p}async function zm(r){let t;const n=await _h(r.appConfig,s=>{const l=Nw(s),u=Dw(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===fm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Nw(r){const t=r||{fid:Sw(),registrationStatus:0};return S0(t)}function Dw(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Gs.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=Ow(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Mw(r)}:{installationEntry:t}}async function Ow(r,t){try{const n=await Ew(r,t);return Xc(r.appConfig,n)}catch(n){throw f0(n)&&n.customData.serverCode===409?await b0(r.appConfig):await Xc(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Mw(r){let t=await vv(r.appConfig);for(;t.registrationStatus===1;)await _0(100),t=await vv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await zm(r);return s||n}return t}function vv(r){return _h(r,t=>{if(!t)throw Gs.create("installation-not-found");return S0(t)})}function S0(r){return Vw(r)?{fid:r.fid,registrationStatus:0}:r}function Vw(r){return r.registrationStatus===1&&r.registrationTime+u0<Date.now()}async function kw({appConfig:r,heartbeatServiceProvider:t},n){const s=Pw(r,n),l=yw(r,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:c0,appId:r.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await y0(()=>fetch(s,p));if(_.ok){const g=await _.json();return m0(g)}else throw await p0("Generate Auth Token",_)}function Pw(r,{fid:t}){return`${d0(r)}/${t}/authTokens:generate`}async function jm(r,t=!1){let n;const s=await _h(r.appConfig,u=>{if(!A0(u))throw Gs.create("not-registered");const d=u.authToken;if(!t&&zw(d))return u;if(d.requestStatus===1)return n=Lw(r,t),u;{if(!navigator.onLine)throw Gs.create("app-offline");const p=Bw(u);return n=Uw(r,p),p}});return n?await n:s.authToken}async function Lw(r,t){let n=await Ev(r.appConfig);for(;n.authToken.requestStatus===1;)await _0(100),n=await Ev(r.appConfig);const s=n.authToken;return s.requestStatus===0?jm(r,t):s}function Ev(r){return _h(r,t=>{if(!A0(t))throw Gs.create("not-registered");const n=t.authToken;return qw(n)?{...t,authToken:{requestStatus:0}}:t})}async function Uw(r,t){try{const n=await kw(r,t),s={...t,authToken:n};return await Xc(r.appConfig,s),n}catch(n){if(f0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await b0(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Xc(r.appConfig,s)}throw n}}function A0(r){return r!==void 0&&r.registrationStatus===2}function zw(r){return r.requestStatus===2&&!jw(r)}function jw(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+dw}function Bw(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function qw(r){return r.requestStatus===1&&r.requestTime+u0<Date.now()}async function Hw(r){const t=r,{installationEntry:n,registrationPromise:s}=await zm(t);return s?s.catch(console.error):jm(t).catch(console.error),n.fid}async function Fw(r,t=!1){const n=r;return await Gw(n),(await jm(n,t)).token}async function Gw(r){const{registrationPromise:t}=await zm(r);t&&await t}function Kw(r){if(!r||!r.options)throw $d("App Configuration");if(!r.name)throw $d("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw $d(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function $d(r){return Gs.create("missing-app-config-values",{valueName:r})}const w0="installations",Yw="installations-internal",Qw=r=>{const t=r.getProvider("app").getImmediate(),n=Kw(t),s=Ws(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Xw=r=>{const t=r.getProvider("app").getImmediate(),n=Ws(t,w0).getImmediate();return{getId:()=>Hw(n),getToken:l=>Fw(n,l)}};function $w(){Oi(new ei(w0,Qw,"PUBLIC")),Oi(new ei(Yw,Xw,"PRIVATE"))}$w();zn(l0,Lm);zn(l0,Lm,"esm2020");const $c="analytics",Jw="firebase_id",Zw="origin",Ww=60*1e3,tR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bm="https://www.googletagmanager.com/gtag/js";const nn=new gh("@firebase/analytics");const eR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new Zs("analytics","Analytics",eR);function nR(r){if(!r.startsWith(Bm)){const t=An.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(t.message),""}return r}function R0(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function iR(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function rR(r,t){const n=iR("firebase-js-sdk-policy",{createScriptURL:nR}),s=document.createElement("script"),l=`${Bm}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function sR(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function aR(r,t,n,s,l,u){const d=s[l];try{if(d)await t[d];else{const _=(await R0(n)).find(g=>g.measurementId===l);_&&await t[_.appId]}}catch(p){nn.error(p)}r("config",l,u)}async function oR(r,t,n,s,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const p=await R0(n);for(const _ of d){const g=p.find(S=>S.measurementId===_),b=g&&t[g.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,l||{})}catch(u){nn.error(u)}}function lR(r,t,n,s){async function l(u,...d){try{if(u==="event"){const[p,_]=d;await oR(r,t,n,p,_)}else if(u==="config"){const[p,_]=d;await aR(r,t,n,s,p,_)}else if(u==="consent"){const[p,_]=d;r("consent",p,_)}else if(u==="get"){const[p,_,g]=d;r("get",p,_,g)}else if(u==="set"){const[p]=d;r("set",p)}else r(u,...d)}catch(p){nn.error(p)}}return l}function uR(r,t,n,s,l){let u=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=lR(u,r,t,n),{gtagCore:u,wrappedGtag:window[l]}}function cR(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Bm)&&n.src.includes(r))return n;return null}const hR=30,fR=1e3;class dR{constructor(t={},n=fR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const I0=new dR;function mR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function pR(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:mR(n)},l=tR.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();p.error?.message&&(d=p.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function gR(r,t=I0,n){const{appId:s,apiKey:l,measurementId:u}=r.options;if(!s)throw An.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new vR;return setTimeout(async()=>{p.abort()},Ww),C0({appId:s,apiKey:l,measurementId:u},d,p,t)}async function C0(r,{throttleEndTimeMillis:t,backoffCount:n},s,l=I0){const{appId:u,measurementId:d}=r;try{await yR(s,t)}catch(p){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{const p=await pR(r);return l.deleteThrottleMetadata(u),p}catch(p){const _=p;if(!_R(_)){if(l.deleteThrottleMetadata(u),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:d};throw p}const g=Number(_?.customData?.httpStatus)===503?cv(n,l.intervalMillis,hR):cv(n,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return l.setThrottleMetadata(u,b),nn.debug(`Calling attemptFetch again in ${g} millis`),C0(r,b,s,l)}}function yR(r,t){return new Promise((n,s)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _R(r){if(!(r instanceof ni)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class vR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ER(r,t,n,s,l){if(l&&l.global){r("event",n,s);return}else{const u=await t,d={...s,send_to:u};r("event",n,d)}}async function TR(r,t,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function bR(){if(t0())try{await e0()}catch(r){return nn.warn(An.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return nn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SR(r,t,n,s,l,u,d){const p=gR(r);p.then(N=>{n[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>nn.error(N)),t.push(p);const _=bR().then(N=>{if(N)return s.getId()}),[g,b]=await Promise.all([p,_]);cR(u)||rR(u,g.measurementId),l("js",new Date);const S=d?.config??{};return S[Zw]="firebase",S.update=!0,b!=null&&(S[Jw]=b),l("config",g.measurementId,S),g.measurementId}class AR{constructor(t){this.app=t}_delete(){return delete Ja[this.app.options.appId],Promise.resolve()}}let Ja={},Tv=[];const bv={};let Jd="dataLayer",wR="gtag",Sv,qm,Av=!1;function RR(){const r=[];if(WE()&&r.push("This is a browser extension environment."),GA()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:t});nn.warn(n.message)}}function IR(r,t,n){RR();const s=r.options.appId;if(!s)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Ja[s]!=null)throw An.create("already-exists",{id:s});if(!Av){sR(Jd);const{wrappedGtag:u,gtagCore:d}=uR(Ja,Tv,bv,Jd,wR);qm=u,Sv=d,Av=!0}return Ja[s]=SR(r,Tv,bv,t,Sv,Jd,n),new AR(r)}function CR(r=Pm()){r=Ve(r);const t=Ws(r,$c);return t.isInitialized()?t.getImmediate():xR(r)}function xR(r,t={}){const n=Ws(r,$c);if(n.isInitialized()){const l=n.getImmediate();if(sr(t,n.getOptions()))return l;throw An.create("already-initialized")}return n.initialize({options:t})}function NR(r,t,n){r=Ve(r),TR(qm,Ja[r.app.options.appId],t,n).catch(s=>nn.error(s))}function DR(r,t,n,s){r=Ve(r),ER(qm,Ja[r.app.options.appId],t,n,s).catch(l=>nn.error(l))}const wv="@firebase/analytics",Rv="0.10.19";function OR(){Oi(new ei($c,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return IR(s,l,n)},"PUBLIC")),Oi(new ei("analytics-internal",r,"PRIVATE")),zn(wv,Rv),zn(wv,Rv,"esm2020");function r(t){try{const n=t.getProvider($c).getImmediate();return{logEvent:(s,l,u)=>DR(n,s,l,u),setUserProperties:(s,l)=>NR(n,s,l)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}OR();function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MR=x0,N0=new Zs("auth","Firebase",x0());const Jc=new gh("@firebase/auth");function VR(r,...t){Jc.logLevel<=Nt.WARN&&Jc.warn(`Auth (${co}): ${r}`,...t)}function Lc(r,...t){Jc.logLevel<=Nt.ERROR&&Jc.error(`Auth (${co}): ${r}`,...t)}function jn(r,...t){throw Fm(r,...t)}function ti(r,...t){return Fm(r,...t)}function Hm(r,t,n){const s={...MR(),[t]:n};return new Zs("auth","Firebase",s).create(t,{appName:r.name})}function rr(r){return Hm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&jn(r,"argument-error"),Hm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return N0.create(r,...t)}function pt(r,t,...n){if(!r)throw Fm(t,...n)}function nr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function or(r,t){r||nr(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||WE()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Kl{constructor(t,n){this.shortDelay=t,this.longDelay=n,or(n>t,"Short delay should be less than long delay!"),this.isMobile=zA()||qA()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(r,t){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class D0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BR=new Kl(3e4,6e4);function rs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ss(r,t,n,s,l={}){return O0(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=Gl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:_,...u};return BA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(g.credentials="include"),D0.fetch()(await M0(r,r.config.apiHost,n,p),g)})}async function O0(r,t,n){r._canInitEmulator=!1;const s={...zR,...t};try{const l=new HR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Dc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Dc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hm(r,b,g);jn(r,b)}}catch(l){if(l instanceof ni)throw l;jn(r,"network-request-failed",{message:String(l)})}}async function Yl(r,t,n,s,l={}){const u=await ss(r,t,n,s,l);return"mfaPendingCredential"in u&&jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function M0(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?Gm(r.config,l):`${r.config.apiScheme}://${l}`;return jR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function qR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),BR.get())})}}function Dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ti(r,t,s);return l.customData._tokenResponse=n,l}function Cv(r){return r!==void 0&&r.enterprise!==void 0}class FR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return qR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GR(r,t){return ss(r,"GET","/v2/recaptchaConfig",rs(r,t))}async function KR(r,t){return ss(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return ss(r,"POST","/v1/accounts:lookup",t)}function Nl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YR(r,t=!1){const n=Ve(r),s=await n.getIdToken(t),l=Km(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Nl(Zd(l.auth_time)),issuedAtTime:Nl(Zd(l.iat)),expirationTime:Nl(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zd(r){return Number(r)*1e3}function Km(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=YE(n);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function xv(r){const t=Km(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ni&&QR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function QR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class XR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,n=await r.getIdToken(),s=await Ll(r,Zc(t,{idToken:n}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?V0(l.providerUserInfo):[],d=JR(r.providerData,u),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,g=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function $R(r){const t=Ve(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function V0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZR(r,t){const n=await O0(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await M0(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),D0.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(r,t){return ss(r,"POST","/v2/accounts:revokeToken",rs(r,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=xv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await ZR(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new Za;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Hr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YR(this,t)}reload(){return $R(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await Ll(this,KR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:G,providerData:J,stsTokenManager:W}=n;pt(S&&W,t,"internal-error");const Y=Za.fromJSON(this.name,W);pt(typeof S=="string",t,"internal-error"),Hr(s,t.name),Hr(l,t.name),pt(typeof N=="boolean",t,"internal-error"),pt(typeof G=="boolean",t,"internal-error"),Hr(u,t.name),Hr(d,t.name),Hr(p,t.name),Hr(_,t.name),Hr(g,t.name),Hr(b,t.name);const tt=new Wn({uid:S,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Y,createdAt:g,lastLoginAt:b});return J&&Array.isArray(J)&&(tt.providerData=J.map(ut=>({...ut}))),_&&(tt._redirectEventId=_),tt}static async _fromIdTokenResponse(t,n,s=!1){const l=new Za;l.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?V0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Za;p.updateFromIdToken(s);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const Nv=new Map;function ir(r){or(r instanceof Function,"Expected a class definition");let t=Nv.get(r);return t?(or(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Nv.set(r,t),t)}class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}k0.type="NONE";const Dv=k0;function Uc(r,t,n){return`firebase:${r}:${t}:${n}`}class Wa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Uc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zc(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Wa(ir(Dv),t,s);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||ir(Dv);const d=Uc(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const b=await g._get(d);if(b){let S;if(typeof b=="string"){const N=await Zc(t,{idToken:b}).catch(()=>{});if(!N)break;S=await Wn._fromGetAccountInfoResponse(t,N,b)}else S=Wn._fromJSON(t,b);g!==u&&(p=S),u=g;break}}catch{}const _=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Wa(u,t,s):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Wa(u,t,s))}}function Ov(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(q0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(j0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function P0(r=Ze()){return/firefox\//i.test(r)}function L0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=Ze()){return/crios\//i.test(r)}function z0(r=Ze()){return/iemobile/i.test(r)}function j0(r=Ze()){return/android/i.test(r)}function B0(r=Ze()){return/blackberry/i.test(r)}function q0(r=Ze()){return/webos/i.test(r)}function Ym(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tI(r=Ze()){return Ym(r)&&!!window.navigator?.standalone}function eI(){return HA()&&document.documentMode===10}function H0(r=Ze()){return Ym(r)||j0(r)||q0(r)||B0(r)||/windows phone/i.test(r)||z0(r)}function F0(r,t=[]){let n;switch(r){case"Browser":n=Ov(Ze());break;case"Worker":n=`${Ov(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}class nI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const _=t(u);d(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function iI(r,t={}){return ss(r,"GET","/v2/passwordPolicy",rs(r,t))}const rI=6;class sI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class aI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zc(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bn(this.app))return Promise.reject(rr(this));const n=t?Ve(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iI(this),n=new sI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&VR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function as(r){return Ve(r)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(r){vh=r}function G0(r){return vh.loadJS(r)}function lI(){return vh.recaptchaEnterpriseScript}function uI(){return vh.gapiScript}function cI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class fI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const dI="recaptcha-enterprise",K0="NO_RECAPTCHA";class mI{constructor(t){this.type=dI,this.auth=as(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{GR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new FR(_);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(_=>{p(_)})})}function l(u,d,p){const _=window.grecaptcha;Cv(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:t}).then(g=>{d(g)}).catch(()=>{d(K0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&Cv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=lI();_.length!==0&&(_+=p),G0(_).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function Vv(r,t,n,s=!1,l=!1){const u=new mI(r);let d;if(l)d=K0;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function pm(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Vv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Vv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function pI(r,t){const n=Ws(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(sr(u,t??{}))return l;jn(l,"already-initialized")}return n.initialize({options:t})}function gI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function yI(r,t,n){const s=as(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=Y0(t),{host:d,port:p}=_I(t),_=p===null?"":`:${p}`,g={url:`${u}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(sr(g,s.config.emulator)&&sr(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,uo(d)?(JE(`${u}//${d}${_}`),ZE("Auth",!0)):vI()}function Y0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _I(r){const t=Y0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:kv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:kv(d)}}}function kv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Qm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function EI(r,t){return ss(r,"POST","/v1/accounts:signUp",t)}async function TI(r,t){return Yl(r,"POST","/v1/accounts:signInWithPassword",rs(r,t))}async function bI(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",rs(r,t))}async function SI(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",rs(r,t))}class Ul extends Qm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ul(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ul(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,n,"signInWithPassword",TI);case"emailLink":return bI(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,s,"signUpPassword",EI);case"emailLink":return SI(t,{idToken:n,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function to(r,t){return Yl(r,"POST","/v1/accounts:signInWithIdp",rs(r,t))}const AI="http://localhost";class Ys extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Ys(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,to(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gl(n)}return t}}function wI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(r){const t=Sl(Al(r)).link,n=t?Sl(Al(t)).deep_link_id:null,s=Sl(Al(r)).deep_link_id;return(s?Sl(Al(s)).link:null)||s||n||t||r}class Xm{constructor(t){const n=Sl(Al(t)),s=n.apiKey??null,l=n.oobCode??null,u=wI(n.mode??null);pt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=RI(t);try{return new Xm(n)}catch{return null}}}class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return Ul._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Xm.parseLink(n);return pt(s,"argument-error"),Ul._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $m{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ql extends $m{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fr extends Ql{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class er extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Gr extends Ql{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Kr extends Ql{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";async function II(r,t){return Yl(r,"POST","/v1/accounts:signUp",rs(r,t))}class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await Wn._fromIdTokenResponse(t,s,l),d=Pv(s);return new Qs({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Pv(s);return new Qs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Pv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class th extends ni{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new th(t,n,s,l)}}function Q0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,t,s):u})}async function CI(r,t,n=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function xI(r,t,n=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(rr(s));const l="reauthenticate";try{const u=await Ll(r,Q0(s,l,t,r),n);pt(u.idToken,s,"internal-error");const d=Km(u.idToken);pt(d,s,"internal-error");const{sub:p}=d;return pt(r.uid===p,s,"user-mismatch"),Qs._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),u}}async function X0(r,t,n=!1){if(bn(r.app))return Promise.reject(rr(r));const s="signIn",l=await Q0(r,s,t),u=await Qs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function NI(r,t){return X0(as(r),t)}async function $0(r){const t=as(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DI(r,t,n){if(bn(r.app))return Promise.reject(rr(r));const s=as(r),d=await pm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",II).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&$0(r),_}),p=await Qs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function OI(r,t,n){return bn(r.app)?Promise.reject(rr(r)):NI(Ve(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$0(r),s})}function MI(r,t,n,s){return Ve(r).onIdTokenChanged(t,n,s)}function VI(r,t,n){return Ve(r).beforeAuthStateChanged(t,n)}function kI(r,t,n,s){return Ve(r).onAuthStateChanged(t,n,s)}function PI(r){return Ve(r).signOut()}const eh="__sak";class J0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const LI=1e3,UI=10;class Z0 extends J0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);eI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const zI=Z0;class W0 extends J0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}W0.type="SESSION";const tT=W0;function jI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,u)),_=await jI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Jm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class BI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const g=Jm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function qI(r){Ri().location.href=r}function eT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function HI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){return navigator?.serviceWorker?.controller||null}function GI(){return eT()?self:null}const nT="firebaseLocalStorageDb",KI=1,nh="firebaseLocalStorage",iT="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function YI(){const r=indexedDB.deleteDatabase(nT);return new Xl(r).toPromise()}function gm(){const r=indexedDB.open(nT,KI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:iT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await YI(),t(await gm()))})})}async function Lv(r,t,n){const s=Th(r,!0).put({[iT]:t,value:n});return new Xl(s).toPromise()}async function QI(r,t){const n=Th(r,!1).get(t),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function Uv(r,t){const n=Th(r,!0).delete(t);return new Xl(n).toPromise()}const XI=800,$I=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>$I)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(GI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Lv(t,eh,"1"),await Uv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Lv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>QI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Th(l,!1).getAll();return new Xl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const JI=rT;new Kl(3e4,6e4);function sT(r,t){return t?ir(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends Qm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZI(r){return X0(r.auth,new Zm(r),r.bypassAuthState)}function WI(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),xI(n,new Zm(r),r.bypassAuthState)}async function t2(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),CI(n,new Zm(r),r.bypassAuthState)}class aT{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return t2;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:jn(this.auth,"internal-error")}}resolve(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const e2=new Kl(2e3,1e4);async function n2(r,t,n){if(bn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=as(r);kR(r,t,$m);const l=sT(s,n);return new qs(s,"signInViaPopup",t,l).executeNotNull()}class qs extends aT{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,e2.get())};t()}}qs.currentPopupAction=null;const i2="pendingRedirect",zc=new Map;class r2 extends aT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const s=await s2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(r,t){const n=l2(t),s=o2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function a2(r,t){zc.set(r._key(),t)}function o2(r){return ir(r._redirectPersistence)}function l2(r){return Uc(i2,r.config.apiKey,r.name)}async function u2(r,t,n=!1){if(bn(r.app))return Promise.reject(rr(r));const s=as(r),l=sT(s,t),d=await new r2(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const c2=600*1e3;class h2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!oT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(t))}saveEventToCache(t){this.cachedEventUids.add(zv(t)),this.lastProcessedEventTime=Date.now()}}function zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function oT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function f2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(r);default:return!1}}async function d2(r,t={}){return ss(r,"GET","/v1/projects",t)}const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function g2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await d2(r);for(const n of t)try{if(y2(n))return}catch{}jn(r,"unauthorized-domain")}function y2(r){const t=dm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!p2.test(n))return!1;if(m2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const _2=new Kl(3e4,6e4);function jv(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function v2(r){return new Promise((t,n)=>{function s(){jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(ti(r,"network-request-failed"))},timeout:_2.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const l=cI("iframefcb");return Ri()[l]=()=>{gapi.load?s():n(ti(r,"network-request-failed"))},G0(`${uI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw jc=null,t})}let jc=null;function E2(r){return jc=jc||v2(r),jc}const T2=new Kl(5e3,15e3),b2="__/auth/iframe",S2="emulator/auth/iframe",A2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R2(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Gm(t,S2):`https://${r.config.authDomain}/${b2}`,s={apiKey:t.apiKey,appName:r.name,v:co},l=w2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Gl(s).slice(1)}`}async function I2(r){const t=await E2(r),n=Ri().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:R2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),p=Ri().setTimeout(()=>{u(d)},T2.get());function _(){Ri().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{u(d)})}))}const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,N2=600,D2="_blank",O2="http://localhost";class Bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(r,t,n,s=x2,l=N2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...C2,width:s.toString(),height:l.toString(),top:u,left:d},g=Ze().toLowerCase();n&&(p=U0(g)?D2:n),P0(g)&&(t=t||O2,_.scrollbars="yes");const b=Object.entries(_).reduce((N,[G,J])=>`${N}${G}=${J},`,"");if(tI(g)&&p!=="_self")return V2(t||"",p),new Bv(null);const S=window.open(t||"",p,b);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new Bv(S)}function V2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const k2="__/auth/handler",P2="emulator/auth/handler",L2=encodeURIComponent("fac");async function qv(r,t,n,s,l,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:l};if(t instanceof $m){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Ql){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),g=_?`#${L2}=${encodeURIComponent(_)}`:"";return`${U2(r)}?${Gl(p).slice(1)}${g}`}function U2({config:r}){return r.emulator?Gm(r,P2):`https://${r.authDomain}/${k2}`}const Wd="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(t,n,s,l){or(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qv(t,n,s,dm(),l);return M2(t,u,Jm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await qv(t,n,s,dm(),l);return qI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await I2(t),s=new h2(t);return n.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wd,{type:Wd},l=>{const u=l?.[0]?.[Wd];u!==void 0&&n(!!u),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return H0()||L0()||Ym()}}const j2=z2;var Hv="@firebase/auth",Fv="1.11.1";class B2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(r){Oi(new ei("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(r)},g=new aI(s,l,u,_);return gI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Oi(new ei("auth-internal",t=>{const n=as(t.getProvider("auth").getImmediate());return(s=>new B2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Hv,Fv,q2(r)),zn(Hv,Fv,"esm2020")}const F2=300,G2=$E("authIdTokenMaxAge")||F2;let Gv=null;const K2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>G2)return;const l=n?.token;Gv!==l&&(Gv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y2(r=Pm()){const t=Ws(r,"auth");if(t.isInitialized())return t.getImmediate();const n=pI(r,{popupRedirectResolver:j2,persistence:[JI,zI,tT]}),s=$E("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=K2(u.toString());VI(n,d,()=>d(n.currentUser)),MI(n,p=>d(p))}}const l=QE("auth");return l&&yI(n,`http://${l}`),n}function Q2(){return document.getElementsByTagName("head")?.[0]??document}oI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=ti("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",Q2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,lT;(function(){var r;function t(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,O,P){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return A.prototype[O].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],O=x.g[2];let P=x.g[3],w;w=A+(P^I&(O^P))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=P+(O^A&(I^O))+V[1]+3905402710&4294967295,P=A+(w<<12&4294967295|w>>>20),w=O+(I^P&(A^I))+V[2]+606105819&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(A^O&(P^A))+V[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(P^I&(O^P))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=P+(O^A&(I^O))+V[5]+1200080426&4294967295,P=A+(w<<12&4294967295|w>>>20),w=O+(I^P&(A^I))+V[6]+2821735955&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(A^O&(P^A))+V[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(P^I&(O^P))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=P+(O^A&(I^O))+V[9]+2336552879&4294967295,P=A+(w<<12&4294967295|w>>>20),w=O+(I^P&(A^I))+V[10]+4294925233&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(A^O&(P^A))+V[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(P^I&(O^P))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=P+(O^A&(I^O))+V[13]+4254626195&4294967295,P=A+(w<<12&4294967295|w>>>20),w=O+(I^P&(A^I))+V[14]+2792965006&4294967295,O=P+(w<<17&4294967295|w>>>15),w=I+(A^O&(P^A))+V[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(O^P&(I^O))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(A^I))+V[6]+3225465664&4294967295,P=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(P^A))+V[11]+643717713&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^A&(O^P))+V[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^P&(I^O))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(A^I))+V[10]+38016083&4294967295,P=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(P^A))+V[15]+3634488961&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^A&(O^P))+V[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^P&(I^O))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(A^I))+V[14]+3275163606&4294967295,P=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(P^A))+V[3]+4107603335&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^A&(O^P))+V[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^P&(I^O))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=P+(I^O&(A^I))+V[2]+4243563512&4294967295,P=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(P^A))+V[7]+1735328473&4294967295,O=P+(w<<14&4294967295|w>>>18),w=I+(P^A&(O^P))+V[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(I^O^P)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=P+(A^I^O)+V[8]+2272392833&4294967295,P=A+(w<<11&4294967295|w>>>21),w=O+(P^A^I)+V[11]+1839030562&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^A)+V[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^P)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=P+(A^I^O)+V[4]+1272893353&4294967295,P=A+(w<<11&4294967295|w>>>21),w=O+(P^A^I)+V[7]+4139469664&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^A)+V[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^P)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=P+(A^I^O)+V[0]+3936430074&4294967295,P=A+(w<<11&4294967295|w>>>21),w=O+(P^A^I)+V[3]+3572445317&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^A)+V[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^P)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=P+(A^I^O)+V[12]+3873151461&4294967295,P=A+(w<<11&4294967295|w>>>21),w=O+(P^A^I)+V[15]+530742520&4294967295,O=P+(w<<16&4294967295|w>>>16),w=I+(O^P^A)+V[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(O^(I|~P))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=P+(I^(A|~O))+V[7]+1126891415&4294967295,P=A+(w<<10&4294967295|w>>>22),w=O+(A^(P|~I))+V[14]+2878612391&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~A))+V[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~P))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=P+(I^(A|~O))+V[3]+2399980690&4294967295,P=A+(w<<10&4294967295|w>>>22),w=O+(A^(P|~I))+V[10]+4293915773&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~A))+V[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~P))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=P+(I^(A|~O))+V[15]+4264355552&4294967295,P=A+(w<<10&4294967295|w>>>22),w=O+(A^(P|~I))+V[6]+2734768916&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~A))+V[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~P))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=P+(I^(A|~O))+V[11]+3174756917&4294967295,P=A+(w<<10&4294967295|w>>>22),w=O+(A^(P|~I))+V[2]+718787259&4294967295,O=P+(w<<15&4294967295|w>>>17),w=I+(P^(O|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<A;){if(O==0)for(;P<=I;)l(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<A;)if(V[O++]=x.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<A;)if(V[O++]=x[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function u(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let O=x.length-1;O>=0;O--){const P=x[O]|0;V&&P==A||(I[O]=P,V=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?u(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return Y(g(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Y(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let V=S;for(let P=0;P<x.length;P+=8){var O=Math.min(8,x.length-P);const w=parseInt(x.substring(P,P+O),A);O<8?(O=g(Math.pow(A,O)),V=V.j(O).add(g(w))):(V=V.j(I),V=V.add(g(w)))}return V}var S=_(0),N=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-Y(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(W(this))return"-"+Y(this).toString(x);const A=g(Math.pow(x,6));var I=this;let V="";for(;;){const O=wt(I,A).g;I=tt(I,O.j(A));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,J(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=tt(this,x),W(x)?-1:J(x)?0:1};function Y(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(N)}r.abs=function(){return W(this)?Y(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let P=V+(this.i(O)&65535)+(x.i(O)&65535),w=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=w>>>16,P&=65535,w&=65535,I[O]=w<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function tt(x,A){return x.add(Y(A))}r.j=function(x){if(J(this)||J(x))return S;if(W(this))return W(x)?Y(this).j(Y(x)):Y(Y(this).j(x));if(W(x))return Y(this.j(Y(x)));if(this.l(G)<0&&x.l(G)<0)return g(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const P=this.i(V)>>>16,w=this.i(V)&65535,ne=x.i(O)>>>16,Re=x.i(O)&65535;I[2*V+2*O]+=w*Re,ut(I,2*V+2*O),I[2*V+2*O+1]+=P*Re,ut(I,2*V+2*O+1),I[2*V+2*O+1]+=w*ne,ut(I,2*V+2*O+1),I[2*V+2*O+2]+=P*ne,ut(I,2*V+2*O+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function ut(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function lt(x,A){this.g=x,this.h=A}function wt(x,A){if(J(A))throw Error("division by zero");if(J(x))return new lt(S,S);if(W(x))return A=wt(Y(x),A),new lt(Y(A.g),Y(A.h));if(W(A))return A=wt(x,Y(A)),new lt(Y(A.g),A.h);if(x.g.length>30){if(W(x)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=A;V.l(x)<=0;)I=Zt(I),V=Zt(V);var O=Pt(I,1),P=Pt(V,1);for(V=Pt(V,2),I=Pt(I,2);!J(V);){var w=P.add(V);w.l(x)<=0&&(O=O.add(I),P=w),V=Pt(V,1),I=Pt(I,1)}return A=tt(x,O.j(A)),new lt(O,A)}for(O=S;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(I),w=P.j(A);W(w)||w.l(x)>0;)I-=V,P=g(I),w=P.j(A);J(P)&&(P=N),O=O.add(P),x=tt(x,w)}return new lt(O,x)}r.B=function(x){return wt(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function Zt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Pt(x,A){const I=A>>5;A%=32;const V=x.g.length-I,O=[];for(let P=0;P<V;P++)O[P]=A>0?x.i(P+I)>>>A|x.i(P+I+1)<<32-A:x.i(P+I);return new d(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,$r=d}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uT,wl,cT,Bc,ym,hT,fT,dT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in v))break t;v=v[L]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=_,g.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)et[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function J(c,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let et=0;et<B;et++)c[v+et]=L[et]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(c){d.setTimeout(()=>{throw c},0)}function tt(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const T=lt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new W(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Pt=!1,x=new ut,A=()=>{const c=Promise.resolve(void 0);Zt=()=>{c.then(I)}};function I(){for(var c;c=tt();){try{c.h.call(c.g)}catch(v){Y(v)}var m=lt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Pt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ne(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ne,O),ne.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(c,m,v,T,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)c[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,T,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const et=St(c,m,T,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var T=c.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,T){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ie(c,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(c,m[B],v,T,L);return null}return v=vo(v),c&&c[Re]?c.J(m,v,p(T)?!!T.capture:!1,L):us(c,m,v,!1,T,L)}function us(c,m,v,T,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let Tt=cs(c);if(Tt||(c[Vt]=Tt=new st(c)),v=Tt.add(m,v,T,et,B),v.proxy)return v;if(T=na(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)P||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),T,L);else if(c.attachEvent)c.attachEvent(ii(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function ia(c,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ia(c,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=vo(v),c&&c[Re]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=St(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=cs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,T,L)),(v=c>-1?m[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Re])yt(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(ii(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=cs(m))?(yt(v,c),v.h==0&&(v.src=null,m[Vt]=null)):ft(c)}}}function ii(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new ne(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&ra(c),c=v.call(T,m)}return c}function cs(c){return c=c[Vt],c instanceof st?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function pe(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,V),pe.prototype[Re]=!0,pe.prototype.removeEventListener=function(c,m,v,T){ia(this,c,m,v,T)};function Ce(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(T,c),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=cr(B,T,!0,m)&&L;if(B=m.g=c,L=cr(B,T,!0,m)&&L,L=cr(B,T,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=cr(B,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete c.g[m],c.h--}}this.G=null},pe.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},pe.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function cr(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Tt=et.listener,he=et.ha||et.src;et.fa&&yt(c.i,et),L=Tt.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function nu(c){c.g=zh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){V.call(this),this.h=c,this.g={}}S(hs,V);var Eo=[];function To(c){Lt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},c),c.g={}}hs.prototype.N=function(){hs.Z.N.call(this),To(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,jh=d.JSON.parse,iu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ru(){}function su(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function wn(){O.call(this,"c")}S(wn,O);var ce={},au=null;function sa(){return au=au||new pe}ce.Ia="serverreachability";function ou(c){O.call(this,ce.Ia,c)}S(ou,O);function ri(c){const m=sa();Ce(m,new ou(m))}ce.STAT_EVENT="statevent";function fs(c,m){O.call(this,ce.STAT_EVENT,c),this.stat=m}S(fs,O);function ge(c){const m=sa();Ce(m,new fs(m,c))}ce.Ja="timingevent";function si(c,m){O.call(this,ce.Ja,c),this.size=m}S(si,O);function ai(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Bh(c,m,v,T,L,B){c.info(function(){if(c.g)if(B){var et="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var he=Tt[jt].split("=");if(he.length>1){const re=he[0];he=he[1];const xn=re.split("_");et=xn.length>=2&&xn[1]=="type"?et+(re+"="+he+"&"):et+(re+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function lu(c,m,v,T,L,B,et){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function oi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(c,v)+(T?" "+T:"")})}function ds(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function qh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return hr(B)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function ps(){}S(ps,ru),ps.prototype.g=function(){return new XMLHttpRequest},So=new ps;function Pi(c){return encodeURIComponent(String(c))}function uu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var ye={},ke={};function li(c,m,v){c.M=1,c.A=gs(ve(m)),c.u=v,c.R=!0,aa(c,null)}function aa(c,m){c.F=Date.now(),ui(c),c.B=ve(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ca(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Fn,c.g=Au(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let B=0;B<L.length;B++){const et=ie(v,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Bh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)t:{const Tt=Yn(this.g),he=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||he==7||(he==8||jt<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(c=B)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ge(12),dn(this),Rn(this);break t}}if(this.R){c=!0;let re;for(;!this.K&&this.C<v.length;)if(re=hu(this,v),re==ke){Tt==4&&(this.m=4,ge(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,ge(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,re,null),hi(this,re);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ge(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(et),et.P=!0,ge(11))}}else oi(this.i,this.l,v,null),hi(this,v);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?Eu(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),dn(this),Rn(this)}}}catch{}finally{}};function Hh(c){if(!cu(c))return c.g.la();const m=je(c.g);if(m==="")return"";let v="";const T=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<T;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),c.C=T+v,m)))}Hn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(g(c.aa,c),m)}function ci(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ri(),ge(17)),dn(this),this.m=2,Rn(this)):oa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Eu(c.j,c)}function dn(c){ci(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function hi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),vr(v);else break t;Ss(v),ge(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(g(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&pa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const re=jt[0];if(!(re<=v.K))if(v.K=re,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const xn=jt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ei=jt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=jt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=c.g;if(Xn){const As=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=T.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(T.G){const ga=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Ft(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=c;if(T.na=Su(T,T.L?T.ba:null,T.W),et.L){Io(T.h,et);var Tt=et,he=T.O;he&&(Tt.H=he),Tt.D&&(ci(Tt),ui(Tt)),T.g=et}else _u(T);v.i.length>0&&_i(v)}else jt[0]!="stop"&&jt[0]!="close"||vi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?vi(v,7):Po(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ri(4)}catch{}}var _e=class{constructor(c,m){this.g=c,this.map=m}};function Ao(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return G(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let L,B=null;T>=0?(L=c[v].substring(0,T),B=c[v].substring(T+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.u),this.h=c.h,xo(this,gu(c.i)),this.m=c.m):c&&(m=String(c).match(fu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),fr(this,m[4]),this.h=mi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ys(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ys(m,ua,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ys(v,v.charAt(0)=="/"?No:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ys(v,mu)),c.join("")},mn.prototype.resolve=function(c){const m=ve(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)fr(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Tt=L[et++];Tt=="."?T&&et==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=c.i.toString()!=="",v?xo(m,gu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function ve(c){return new mn(c)}function Pe(c,m,v){c.j=v?mi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function xo(c,m,v){m instanceof mr?(c.i=m,ha(c.i,c.l)):(v||(m=ys(m,dr)),c.i=new mr(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function gs(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,du=/[#\?:]/g,No=/[#\?]/g,dr=/[#\?@]/g,mu=/#/g;function mr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(c,m){sn(this),this.i=null,c=pr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function pu(c,m){sn(c),m=pr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return sn(c),m=pr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){c.call(m,L,T,this)},this)},this)};function Oo(c,m){sn(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(pr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=pr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Oo(this,c),c.length>0?String(c[0]):m):m};function ca(c,m,v){pu(c,m),v.length>0&&(c.i=null,c.g.set(pr(c,m),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Pi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Pi(v[B])),c.push(et)}}return this.i=c.join("&")};function gu(c){const m=new mr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function pr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ha(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(pu(this,T),ca(this,L,v))},c)),c.j=m}function Gn(c,m){const v=new qn;if(d.Image){const T=new Image;T.onload=b(In,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(In,v,"TestLoadImage: error",!1,m,T),T.onabort=b(In,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(In,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Mo(c,m){const v=new qn,T=new AbortController,L=setTimeout(()=>{T.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function gr(){this.g=new iu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,ru),pi.prototype.g=function(){return new _s(this.i,this.h)};function _s(c,m){pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_s,pe),r=_s.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?yr(this):Kn(this),this.readyState==3&&fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,yr(this))},r.Na=function(c){this.g&&(this.response=c,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return Lt(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function vs(c,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Cn(v),typeof c=="string"?v!=null&&Pi(v):Ft(c,m,v))}function Yt(c){pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,pe);var gi=/^https?$/i,Vo=["POST","PUT"];r=Yt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Es(this,B);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Es(this,B)}};function Es(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Li(c)}function ko(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ce(this,"complete"),Ce(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},r.Xa=function(){Ts(this)};function Ts(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ce(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(c.D).match(fu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!gi.test(et?et.toLowerCase():"")}v=T}if(v)Ce(c,"complete"),Ce(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",ko(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ce(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),jh(m)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(w(c[T]))continue;var v=uu(c[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function _r(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,T){ge(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),_i(this)};function Po(c){if(da(c),c.I==3){var m=c.V++,v=ve(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),bs(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=gs(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}bu(c)}function vr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function da(c){vr(c),c.v&&(d.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function _i(c){if(!wo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Zt||A(),Pt||(Zt(),Pt=!0),x.add(m,c),c.D=0}}function ma(c,m){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(g(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,L,m),v=ve(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),bs(this,v),B&&(this.R?m="headers="+Pi(Cn(B))+"&"+m:this.u&&vs(v,this.u,B)),Ro(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,li(L,v,null)):li(L,v,m),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||wo(this.h)||Lo(this))};function Lo(c,m){var v;m?v=m.l:v=c.V++;const T=ve(c.J);Ft(T,"SID",c.M),Ft(T,"RID",v),Ft(T,"AID",c.K),bs(c,T),c.u&&c.o&&vs(T,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=yu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),li(v,T,m)}function bs(c,m){c.H&&Lt(c.H,function(v,T){Ft(m,T,v)}),c.l&&Lt({},function(v,T){Ft(m,T,v)})}function yu(c,m,v){v=Math.min(c.i.length,v);const T=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=L[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let jt=!0;for(let re=0;re<v;re++){var B=L[re].g;const xn=L[re].map;if(B-=Tt,B<0)Tt=Math.max(0,L[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var et=xn instanceof Map?xn:Object.entries(xn);for(const[Ei,Qn]of et){let Xn=Qn;p(Qn)&&(Xn=hr(Qn)),he.push(B+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw he.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(xn)}}if(jt){et=he.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function _u(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Zt||A(),Pt||(Zt(),Pt=!0),x.add(m,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(g(c.Da,c),Tu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),vr(this),vu(this))};function Uo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ve(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),bs(c,m),c.u&&c.o&&vs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=gs(ve(m)),v.u=null,v.R=!0,aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),Ss(this),ge(19))};function pa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Eu(c,m){var v=null;if(c.g==m){pa(c),Uo(c),c.g=null;var T=2}else if(di(c.h,m))v=m.G,Io(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;T=sa(),Ce(T,new si(T,v)),_i(c)}else _u(c);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ma(c,m)||T==2&&Ss(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Tu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function vi(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),T=c.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(T,"https"),gs(T),L?Gn(T.toString(),v):Mo(T.toString(),v)}else ge(2);c.I=0,c.l&&c.l.pa(m),bu(c),da(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Su(c,m,v){var T=v instanceof mn?ve(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),fr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&Pe(B,T),m&&(B.g=m),L&&fr(B,L),v&&(B.h=v),T=B}return v=c.G,m=c.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",c.ka),bs(c,T),T}function Au(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Yt(new pi({ab:v})):new Yt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){pe.call(this),this.g=new _r(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Po(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=hr(c),c=v);m.i.push(new _e(m.Ya++,c)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,tn.Z.N.call(this)};function Ru(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Ru,ze);function Iu(){wn.call(this),this.status=1}S(Iu,wn);function zi(c){this.g=c}S(zi,wu),zi.prototype.ra=function(){Ce(this.g,"a")},zi.prototype.qa=function(c){Ce(this.g,new Ru(c))},zi.prototype.pa=function(c){Ce(this.g,new Iu)},zi.prototype.oa=function(){Ce(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,dT=function(){return new Er},fT=function(){return sa()},hT=ce,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Bc=ms,bo.COMPLETE="complete",cT=bo,su.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,wl=su,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,uT=Yt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Qv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let fo="12.3.0";const Xs=new gh("@firebase/firestore");function Ya(){return Xs.logLevel}function rt(r,...t){if(Xs.logLevel<=Nt.DEBUG){const n=t.map(Wm);Xs.debug(`Firestore (${fo}): ${r}`,...n)}}function lr(r,...t){if(Xs.logLevel<=Nt.ERROR){const n=t.map(Wm);Xs.error(`Firestore (${fo}): ${r}`,...n)}}function no(r,...t){if(Xs.logLevel<=Nt.WARN){const n=t.map(Wm);Xs.warn(`Firestore (${fo}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,mT(r,s,n)}function mT(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function qt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||mT(t,l,s)}function Et(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ni{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class pT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class X2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class $2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class J2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new pT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Z2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Z2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=eC(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function _m(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return tm(l)===tm(u)?Dt(l,u):tm(l)?1:-1}return Dt(r.length,t.length)}const nC=55296,iC=57343;function tm(r){const t=r.charCodeAt(0);return t>=nC&&t<=iC}function io(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const $v="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=wi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),l=wi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?wi.extractNumericId(t).compare(wi.extractNumericId(n)):_m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class ae extends wi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const rC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends wi{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return rC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new Ke([$v])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ae.fromString(t))}static fromName(t){return new dt(ae.fromString(t).popFirst(5))}static empty(){return new dt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ae(t.slice()))}}function sC(r,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aC(r,t,n,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Jv(r){if(!dt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function $s(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function we(r,t){const n={typeString:r};return t&&(n.value=t),n}function $l(r,t){if(!gT(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}const Zv=-62135596800,Wv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Wv);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Zv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function oC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new Zr(l,dt.empty(),t)}function lC(r){return new Zr(r.readTime,r.key,zl)}class Zr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(_t.min(),dt.empty(),zl)}static max(){return new Zr(_t.max(),dt.empty(),zl)}}function uC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==cC)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(_=>s(_)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const g=_;n(t[g]).next((b=>{d[g]=b,++p,p===u&&s(d)}),(b=>l(b)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function fC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const np=-1;function Sh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function dC(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yT="";function mC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=tE(t)),t=pC(r.get(n),t);return tE(t)}function pC(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case yT:n+="";break;default:n+=u}}return n}function tE(r){return r+yT+""}function eE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function os(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function _T(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new Me(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const gC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=gC.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const ET="server_timestamp",TT="__type__",bT="__previous_value__",ST="__local_write_time__";function ip(r){return(r?.mapValue?.fields||{})[TT]?.stringValue===ET}function Ah(r){const t=r.mapValue.fields[bT];return ip(t)?Ah(t):t}function jl(r){const t=Wr(r.mapValue.fields[ST].timestampValue);return new ee(t.seconds,t.nanos)}class yC{constructor(t,n,s,l,u,d,p,_,g,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=b}}const rh="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||rh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}const AT="__type__",_C="__max__",Vc={mapValue:{}},wT="__vector__",sh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ip(r)?4:EC(r)?9007199254740991:vC(r)?10:11:gt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jl(r).isEqual(jl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Wr(l.timestampValue),p=Wr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ts(l.bytesValue).isEqual(ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return me(l.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return me(l.integerValue)===me(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=me(l.doubleValue),p=me(u.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(eE(d)!==eE(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Mi(d[_],p[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function ql(r,t){return(r.values||[]).find((n=>Mi(n,t)))!==void 0}function ro(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=me(u.integerValue||u.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return iE(r.timestampValue,t.timestampValue);case 4:return iE(jl(r),jl(t));case 5:return _m(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=ts(u),_=ts(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let g=0;g<p.length&&g<_.length;g++){const b=Dt(p[g],_[g]);if(b!==0)return b}return Dt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Dt(me(u.latitude),me(d.latitude));return p!==0?p:Dt(me(u.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return rE(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},_=d.fields||{},g=p[sh]?.arrayValue,b=_[sh]?.arrayValue,S=Dt(g?.values?.length||0,b?.values?.length||0);return S!==0?S:rE(g,b)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Vc.mapValue&&d===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),g=d.fields||{},b=Object.keys(g);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const N=_m(_[S],b[S]);if(N!==0)return N;const G=ro(p[_[S]],g[b[S]]);if(G!==0)return G}return Dt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function iE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Wr(r),s=Wr(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function rE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=ro(n[l],s[l]);if(u)return u}return Dt(n.length,s.length)}function so(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${vm(n.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function qc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+qc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return os(s.fields,((u,d)=>{l+=u.length+qc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Em(r){return!!r&&"integerValue"in r}function rp(r){return!!r&&"arrayValue"in r}function sE(r){return!!r&&"nullValue"in r}function aE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function vC(r){return(r?.mapValue?.fields||{})[AT]?.stringValue===wT}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return os(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Dl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return t}return{...r}}function EC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_C}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Hc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){os(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new fn(Dl(this.value))}}function RT(r){const t=[];return os(r.fields,((n,s)=>{const l=new Ke([n]);if(Hc(s)){const u=RT(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,n,s,l,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,n,s,l){return new Je(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new Je(t,2,n,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,n){this.position=t,this.inclusive=n}}function oE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=ro(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],t.position[n]))return!1;return!0}class oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function TC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class IT{}class De extends IT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new SC(t,n,s):n==="array-contains"?new RC(t,s):n==="in"?new IC(t,s):n==="not-in"?new CC(t,s):n==="array-contains-any"?new xC(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AC(t,s):new wC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends IT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Vi(t,n)}matches(t){return CT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(r){return r.op==="and"}function xT(r){return bC(r)&&CT(r)}function bC(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function Tm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+so(r.value);if(xT(r))return r.filters.map((t=>Tm(t))).join(",");{const t=r.filters.map((n=>Tm(n))).join(",");return`${r.op}(${t})`}}function NT(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Mi(s.value,l.value)})(r,t):r instanceof Vi?(function(s,l){return l instanceof Vi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&NT(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function DT(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`})(r):r instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"})(r):"Filter"}class SC extends De{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AC extends De{constructor(t,n){super(t,"in",n),this.keys=OT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class wC extends De{constructor(t,n){super(t,"not-in",n),this.keys=OT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function OT(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class RC extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rp(n)&&ql(n.arrayValue,this.value)}}class IC extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class CC extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class xC extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}class NC{constructor(t,n=null,s=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function uE(r,t=null,n=[],s=[],l=null,u=null,d=null){return new NC(r,t,n,s,l,u,d)}function sp(r){const t=Et(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Tm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>so(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>so(s))).join(",")),t.Te=n}return t.Te}function ap(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!NT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!lE(r.startAt,t.startAt)&&lE(r.endAt,t.endAt)}function bm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wh{constructor(t,n=null,s=[],l=[],u=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DC(r,t,n,s,l,u,d,p){return new wh(r,t,n,s,l,u,d,p)}function op(r){return new wh(r)}function cE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OC(r){return r.collectionGroup!==null}function Ol(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new oh(Ke.keyField(),s))}return t.Ie}function Ii(r){const t=Et(r);return t.Ee||(t.Ee=MC(t,Ol(r))),t.Ee}function MC(r,t){if(r.limitType==="F")return uE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new oh(l.field,u)}));const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return uE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Sm(r,t,n){return new wh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Rh(r,t){return ap(Ii(r),Ii(t))&&r.limitType===t.limitType}function MT(r){return`${sp(Ii(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>DT(l))).join(", ")}]`),Sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>so(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>so(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Ol(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const g=oE(d,p,_);return d.inclusive?g<=0:g<0})(s.startAt,Ol(s),l)||s.endAt&&!(function(d,p,_){const g=oE(d,p,_);return d.inclusive?g>=0:g>0})(s.endAt,Ol(s),l))})(r,t)}function VC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VT(r){return(t,n)=>{let s=!1;for(const l of Ol(r)){const u=kC(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function kC(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,d,p){const _=d.data.field(u),g=p.data.field(u);return _!==null&&g!==null?ro(_,g):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}const PC=new oe(dt.comparator);function ur(){return PC}const kT=new oe(dt.comparator);function Rl(...r){let t=kT;for(const n of r)t=t.insert(n.key,n);return t}function PT(r){let t=kT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Hs(){return Ml()}function LT(){return Ml()}function Ml(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const LC=new oe(dt.comparator),UC=new Me(dt.comparator);function Ot(...r){let t=UC;for(const n of r)t=t.add(n);return t}const zC=new Me(Dt);function jC(){return zC}function lp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function UT(r){return{integerValue:""+r}}function BC(r,t){return dC(t)?UT(t):lp(r,t)}class Ch{constructor(){this._=void 0}}function qC(r,t,n){return r instanceof lh?(function(l,u){const d={fields:{[TT]:{stringValue:ET},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ip(u)&&(u=Ah(u)),u&&(d.fields[bT]=u),{mapValue:d}})(n,t):r instanceof ao?jT(r,t):r instanceof Hl?BT(r,t):(function(l,u){const d=zT(l,u),p=hE(d)+hE(l.Ae);return Em(d)&&Em(l.Ae)?UT(p):lp(l.serializer,p)})(r,t)}function HC(r,t,n){return r instanceof ao?jT(r,t):r instanceof Hl?BT(r,t):n}function zT(r,t){return r instanceof uh?(function(s){return Em(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends Ch{}class ao extends Ch{constructor(t){super(),this.elements=t}}function jT(r,t){const n=qT(t);for(const s of r.elements)n.some((l=>Mi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Ch{constructor(t){super(),this.elements=t}}function BT(r,t){let n=qT(t);for(const s of r.elements)n=n.filter((l=>!Mi(l,s)));return{arrayValue:{values:n}}}class uh extends Ch{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hE(r){return me(r.integerValue||r.doubleValue)}function qT(r){return rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class FC{constructor(t,n){this.field=t,this.transform=n}}function GC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof ao&&l instanceof ao||s instanceof Hl&&l instanceof Hl?io(s.elements,l.elements,Mi):s instanceof uh&&l instanceof uh?Mi(s.Ae,l.Ae):s instanceof lh&&l instanceof lh})(r.transform,t.transform)}class KC{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class xh{}function HT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new GT(r.key,Ci.none()):new Jl(r.key,r.data,Ci.none());{const n=r.data,s=fn.empty();let l=new Me(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ls(r.key,s,new Sn(l.toArray()),Ci.none())}}function YC(r,t,n){r instanceof Jl?(function(l,u,d){const p=l.value.clone(),_=dE(l.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof ls?(function(l,u,d){if(!Fc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=dE(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(FT(l)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Vl(r,t,n,s){return r instanceof Jl?(function(u,d,p,_){if(!Fc(u.precondition,d))return p;const g=u.value.clone(),b=mE(u.fieldTransforms,_,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof ls?(function(u,d,p,_){if(!Fc(u.precondition,d))return p;const g=mE(u.fieldTransforms,_,d),b=d.data;return b.setAll(FT(u)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,d,p){return Fc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function QC(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=zT(s.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function fE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&io(s,l,((u,d)=>GC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends xh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ls extends xh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function dE(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=t.data.field(u.field);s.set(u.field,HC(d,p,n[l]))}return s}function mE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,qC(u,d,t))}return s}class GT extends xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XC extends xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $C{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&YC(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=LT();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const _=HT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((n,s)=>fE(n,s)))&&io(this.baseMutations,t.baseMutations,((n,s)=>fE(n,s)))}}class up{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return LC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new up(t,n,s,l)}}class JC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ae,kt;function WC(r){switch(r){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function KT(r){if(r===void 0)return lr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ae.OK:return Z.OK;case Ae.CANCELLED:return Z.CANCELLED;case Ae.UNKNOWN:return Z.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Z.INTERNAL;case Ae.UNAVAILABLE:return Z.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Z.NOT_FOUND;case Ae.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ae.ABORTED:return Z.ABORTED;case Ae.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ae.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:r})}}(kt=Ae||(Ae={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function tx(){return new TextEncoder}const ex=new $r([4294967295,4294967295],0);function pE(r){const t=tx().encode(r),n=new lT;return n.update(t),new Uint8Array(n.digest())}function gE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $r([n,s],0),new $r([l,u],0)]}class cp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$r.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply($r.fromNumber(s)));return l.compare(ex)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pE(t),[s,l]=gE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new cp(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=pE(t),[s,l]=gE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Nh(_t.min(),l,new oe(Dt),ur(),Ot())}}class Zl{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Zl(s,n,Ot(),Ot(),Ot())}}class Gc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class YT{constructor(t,n){this.targetId=t,this.Ce=n}}class QT{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class yE{constructor(){this.ve=0,this.Fe=_E(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:u})}})),new Zl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=_E()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nx{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.Je=kc(),this.He=kc(),this.Ye=new oe(Dt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(bm(u))if(s===0){const d=new dt(u.path);this.et(n,d,Je.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=ts(s).toUint8Array()}catch(_){if(_ instanceof vT)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new cp(d,l,u)}catch(_){return no(_ instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&bm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Ot();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Nh(t,n,this.Ye,this.je,s);return this.je=ur(),this.Je=kc(),this.He=kc(),this.Ye=new oe(Dt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new yE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Me(Dt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Me(Dt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function kc(){return new oe(dt.comparator)}function _E(){return new oe(dt.comparator)}const ix={asc:"ASCENDING",desc:"DESCENDING"},rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sx={and:"AND",or:"OR"};class ax{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Am(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ox(r,t){return ch(r,t.toTimestamp())}function xi(r){return qt(!!r,49232),_t.fromTimestamp((function(n){const s=Wr(n);return new ee(s.seconds,s.nanos)})(r))}function hp(r,t){return wm(r,t).canonicalString()}function wm(r,t){const n=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function $T(r){const t=ae.fromString(r);return qt(eb(t),10190,{key:t.toString()}),t}function Rm(r,t){return hp(r.databaseId,t.path)}function em(r,t){const n=$T(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(ZT(n))}function JT(r,t){return hp(r.databaseId,t)}function lx(r){const t=$T(r);return t.length===4?ae.emptyPath():ZT(t)}function Im(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vE(r,t,n){return{name:Rm(r,t),fields:n.value.mapValue.fields}}function ux(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:gt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(qt(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(g){const b=g.code===void 0?Z.UNKNOWN:KT(g.code);return new ct(b,g.message||"")})(d);n=new QT(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=em(r,s.document.name),u=xi(s.document.updateTime),d=s.document.createTime?xi(s.document.createTime):_t.min(),p=new fn({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(l,u,d,p),g=s.targetIds||[],b=s.removedTargetIds||[];n=new Gc(g,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=em(r,s.document),u=s.readTime?xi(s.readTime):_t.min(),d=Je.newNoDocument(l,u),p=s.removedTargetIds||[];n=new Gc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=em(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new ZC(l,u),p=s.targetId;n=new YT(p,d)}}return n}function cx(r,t){let n;if(t instanceof Jl)n={update:vE(r,t.key,t.value)};else if(t instanceof GT)n={delete:Rm(r,t.key)};else if(t instanceof ls)n={update:vE(r,t.key,t.data),updateMask:vx(t.fieldMask)};else{if(!(t instanceof XC))return gt(16599,{Vt:t.type});n={verify:Rm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:ox(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function hx(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?xi(l.updateTime):xi(u);return d.isEqual(_t.min())&&(d=xi(u)),new KC(d,l.transformResults||[])})(n,t)))):[]}function fx(r,t){return{documents:[JT(r,t.path)]}}function dx(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JT(r,l);const u=(function(g){if(g.length!==0)return tb(Vi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((b=>(function(N){return{field:Xa(N.field),direction:gx(N.dir)}})(b)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Am(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:l}}function mx(r){let t=lx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){qt(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const N=WT(S);return N instanceof Vi&&xT(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new oh($a(J.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Sh(N)?null:N})(n.limit));let _=null;n.startAt&&(_=(function(S){const N=!!S.before,G=S.values||[];return new ah(G,N)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const N=!S.before,G=S.values||[];return new ah(G,N)})(n.endAt)),DC(t,l,d,u,p,"F",_,g)}function px(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create($a(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((s=>WT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function gx(r){return ix[r]}function yx(r){return rx[r]}function _x(r){return sx[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Ke.fromServerFormat(r.fieldPath)}function tb(r){return r instanceof De?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:yx(n.op),value:n.value}}})(r):r instanceof Vi?(function(n){const s=n.getFilters().map((l=>tb(l)));return s.length===1?s[0]:{compositeFilter:{op:_x(n.op),filters:s}}})(r):gt(54877,{filter:r})}function vx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function eb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Yr{constructor(t,n,s,l,u=_t.min(),d=_t.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Ex{constructor(t){this.yt=t}}function Tx(r){const t=mx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sm(t,t.limit,"L"):t}class bx{constructor(){this.Cn=new Sx}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Zr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class Sx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Me(ae.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ae.comparator)).toArray()}}const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nb=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(nb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const TE="LruGarbageCollector",Ax=1048576;function bE([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class wx{constructor(t){this.Ir=t,this.buffer=new Me(bE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Rx{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(TE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?rt(TE,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Vr(3e5)}))}}class Ix{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(bh.ce);const s=new wx(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(EE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,d,p,_,g;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(g=Date.now(),Ya()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(g-_)+`ms
Total Duration: ${g-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function Cx(r,t){return new Ix(r,t)}class xx{constructor(){this.changes=new ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Dx{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Vl(s.mutation,l,Sn.empty(),ee.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const l=Hs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Rl();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Hs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let u=ur();const d=Ml(),p=(function(){return Ml()})();return n.forEach(((_,g)=>{const b=s.get(g.key);l.has(g.key)&&(b===void 0||b.mutation instanceof ls)?u=u.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),Vl(b.mutation,g,b.mutation.getFieldMask(),ee.now())):d.set(g.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((g,b)=>d.set(g,b))),n.forEach(((g,b)=>p.set(g,new Nx(b,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Ml();let l=new oe(((d,p)=>d-p)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let b=s.get(_)||Sn.empty();b=p.applyToLocalView(g,b),s.set(_,b);const S=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,b=_.value,S=LT();b.forEach((N=>{if(!u.has(N)){const G=HT(n.get(N),s.get(N));G!==null&&S.set(N,G),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):OC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(Hs());let p=zl,_=u;return d.next((g=>$.forEach(g,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,_,g,Ot()))).next((b=>({batchId:p,changes:PT(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(_=>{const g=(function(S,N){return new wh(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,l).next((b=>{b.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((_,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let p=Rl();return d.forEach(((_,g)=>{const b=u.get(_);b!==void 0&&Vl(b.mutation,g,Sn.empty(),ee.now()),Ih(n,g)&&(p=p.insert(_,g))})),p}))}}class Ox{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Tx(l.bundledQuery),readTime:xi(l.readTime)}})(n)),$.resolve()}}class Mx{constructor(){this.overlays=new oe(dt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Hs();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Hs(),u=n.length+1,d=new dt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new oe(((g,b)=>g-b));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Hs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=Hs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,b)=>p.set(g,b))),!(p.size()>=l)););return $.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new JC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ot(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class Vx{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class fp{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new dt(new ae([])),s=new Ue(n,t),l=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ae([])),s=new Ue(n,t),l=new Ue(n,t+1);let u=Ot();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Ue(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||Dt(t.Yr,n.Yr)}static Kr(t,n){return Dt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}class kx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $C(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),l=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Dt);return n.forEach((l=>{const u=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const d=new Ue(new dt(u),0);let p=new Me(Dt);return this.Zr.forEachWhile((_=>{const g=_.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Ue(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ue(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Px{constructor(t){this.ri=t,this.docs=(function(){return new oe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=ur();const d=n.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:b}}=_.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||uC(lC(b),s)<=0||(l.has(b.key)||Ih(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Lx(this)}getSize(t){return $.resolve(this.size)}}class Lx extends xx{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Ux{constructor(t){this.persistence=t,this.si=new ta((n=>sp(n)),ap),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}class ib{constructor(t,n){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new Vx,this.referenceDelegate=t(this),this.Pi=new Ux(this),this.indexManager=new bx,this.remoteDocumentCache=(function(l){return new Px(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Ex(n),this.Ii=new Ox(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Mx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new kx(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new zx(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class zx extends hC{constructor(t){super(),this.currentSequenceNumber=t}}class dp{constructor(t){this.persistence=t,this.Ri=new fp,this.Vi=null}static mi(t){return new dp(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=dt.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new ta((s=>mC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Cx(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Ot(),l=Ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new mp(t,n.fromCache,s,l)}}class jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Bx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FA()?8:fC(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new jx;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Ya()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ya()<=Nt.DEBUG&&rt("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ya()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(n))):$.resolve())}ys(t,n){if(cE(n))return $.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Ot(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const g=this.Ds(n,p);return this.Cs(n,g,d,_.readTime)?this.ys(t,Sm(n,null,"F")):this.vs(t,g,n,_)}))))})))))}ws(t,n,s,l){return cE(n)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?$.resolve(null):(Ya()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.vs(t,d,n,oC(l,zl)).next((p=>p)))}))}Ds(t,n){let s=new Me(VT(t));return n.forEach(((l,u)=>{Ih(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Ya()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(t,n,Zr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const pp="LocalStore",qx=3e8;class Hx{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new oe(Dt),this.xs=new ta((u=>sp(u)),ap),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Fx(r,t,n,s){return new Hx(r,t,n,s)}async function rb(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let _=Ot();for(const g of l){d.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}for(const g of u){p.push(g.batchId);for(const b of g.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(s,_).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function Gx(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,b){const S=g.batch,N=S.keys();let G=$.resolve();return N.forEach((J=>{G=G.next((()=>b.getEntry(_,J))).next((W=>{const Y=g.docVersions.get(J);qt(Y!==null,48541),W.version.compareTo(Y)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),b.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Ot();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function sb(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Kx(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const N=l.get(S);if(!N)return;p.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,S))));let G=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,s)),l=l.insert(S,G),(function(W,Y,tt){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=qx?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(N,G,b)&&p.push(n.Pi.updateTargetData(u,G))}));let _=ur(),g=Ot();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(Yx(u,d,t.documentUpdates).next((b=>{_=b.ks,g=b.qs}))),!s.isEqual(_t.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(n.Ms=l,u)))}function Yx(r,t,n){let s=Ot(),l=Ot();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=ur();return n.forEach(((p,_)=>{const g=u.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(pp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function Qx(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Xx(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Yr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Cm(r,t,n){const s=Et(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;rt(pp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function SE(r,t,n){const s=Et(r);let l=_t.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,g,b){const S=Et(_),N=S.xs.get(b);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(g,b)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?u:Ot()))).next((p=>($x(s,VC(t),p),{documents:p,Qs:u})))))}function $x(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class AE{constructor(){this.activeTargetIds=jC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jx{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Zx{Oo(t){}shutdown(){}}const wE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(wE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(wE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function xm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const nm="RestConnection",Wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const d=xm(),p=this.zo(t,n.toUriEncodedString());rt(nm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:g}=new URL(p),b=uo(g);return this.Jo(t,p,_,s,b).then((S=>(rt(nm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw no(nm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,n,s,l,u,d){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=Wx[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class eN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class nN extends tN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const d=xm();return new Promise(((p,_)=>{const g=new uT;g.setWithCredentials(!0),g.listenOnce(cT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Bc.NO_ERROR:const S=g.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Bc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const N=g.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,N,"response text:",g.getResponseText()),N>0){let G=g.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const W=(function(tt){const ut=tt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ut)>=0?ut:Z.UNKNOWN})(J.status);_(new ct(W,J.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),g.send(n,"POST",b,s,15)}))}T_(t,n,s){const l=xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=dT(),p=fT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(_.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const b=u.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let N=!1,G=!1;const J=new eN({Yo:Y=>{G?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(N||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,Y),S.send(Y))},Zo:()=>S.close()}),W=(Y,tt,ut)=>{Y.listen(tt,(lt=>{try{ut(lt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return W(S,wl.EventType.OPEN,(()=>{G||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(S,wl.EventType.CLOSE,(()=>{G||(G=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),W(S,wl.EventType.ERROR,(Y=>{G||(G=!0,no(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),J.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),W(S,wl.EventType.MESSAGE,(Y=>{if(!G){const tt=Y.data[0];qt(!!tt,16349);const ut=tt,lt=ut?.error||ut[0]?.error;if(lt){rt(Xe,`RPC '${t}' stream ${l} received error:`,lt);const wt=lt.status;let Zt=(function(A){const I=Ae[A];if(I!==void 0)return KT(I)})(wt),Pt=lt.message;Zt===void 0&&(Zt=Z.INTERNAL,Pt="Unknown error status: "+wt+" with message "+lt.message),G=!0,J.a_(new ct(Zt,Pt)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,tt),J.u_(tt)}})),W(p,hT.STAT_EVENT,(Y=>{Y.stat===ym.PROXY?rt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===ym.NOPROXY&&rt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function im(){return typeof document<"u"?document:null}function Dh(r){return new ax(r,!0)}class ab{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IE="PersistentStream";class ob{constructor(t,n,s,l,u,d,p,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ab(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(IE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iN extends ob{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ux(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?xi(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Im(this.serializer),n.addTarget=(function(u,d){let p;const _=d.target;if(p=bm(_)?{documents:fx(u,_)}:{query:dx(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XT(u,d.resumeToken);const g=Am(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=ch(u,d.snapshotVersion.toTimestamp());const g=Am(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const s=px(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Im(this.serializer),n.removeTarget=t,this.q_(n)}}class rN extends ob{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=hx(t.writeResults,t.commitTime),s=xi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Im(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>cx(this.serializer,s)))};this.q_(n)}}class sN{}class aN extends sN{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,wm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,wm(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class lN{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(rt(Js,"Restarting streams for network reachability change."),await(async function(_){const g=Et(_);g.Ea.add(4),await Wl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Oh(g)})(this))}))})),this.Ra=new oN(s,l)}}async function Oh(r){if(ea(r))for(const t of r.da)await t(!0)}async function Wl(r){for(const t of r.da)await t(!1)}function lb(r,t){const n=Et(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vp(n)?_p(n):go(n).O_()&&yp(n,t))}function gp(r,t){const n=Et(r),s=go(n);n.Ia.delete(t),s.O_()&&ub(n,t),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function yp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(r).Y_(t)}function ub(r,t){r.Va.Ue(t),go(r).Z_(t)}function _p(r){r.Va=new nx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function vp(r){return ea(r)&&!go(r).x_()&&r.Ia.size>0}function ea(r){return Et(r).Ea.size===0}function cb(r){r.Va=void 0}async function uN(r){r.Ra.set("Online")}async function cN(r){r.Ia.forEach(((t,n)=>{yp(r,t)}))}async function hN(r,t){cb(r),vp(r)?(r.Ra.ha(t),_p(r)):r.Ra.set("Unknown")}async function fN(r,t,n){if(r.Ra.set("Online"),t instanceof QT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){rt(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof YT?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await sb(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,g)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),ub(u,_);const S=new Yr(b.target,_,g,b.sequenceNumber);yp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){rt(Js,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,n){if(!po(t))throw t;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),n||(n=()=>sb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Oh(r)}))}function hb(r,t){return t().catch((n=>fh(r,n,t)))}async function Mh(r){const t=Et(r),n=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:np;for(;dN(t);)try{const l=await Qx(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,mN(t,l)}catch(l){await fh(t,l)}fb(t)&&db(t)}function dN(r){return ea(r)&&r.Ta.length<10}function mN(r,t){r.Ta.push(t);const n=ns(r);n.O_()&&n.X_&&n.ea(t.mutations)}function fb(r){return ea(r)&&!ns(r).x_()&&r.Ta.length>0}function db(r){ns(r).start()}async function pN(r){ns(r).ra()}async function gN(r){const t=ns(r);for(const n of r.Ta)t.ea(n.mutations)}async function yN(r,t,n){const s=r.Ta.shift(),l=up.from(s,t,n);await hb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function _N(r,t){t&&ns(r).X_&&await(async function(s,l){if((function(d){return WC(d)&&d!==Z.ABORTED})(l.code)){const u=s.Ta.shift();ns(s).B_(),await hb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Mh(s)}})(r,t),fb(r)&&db(r)}async function CE(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),rt(Js,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await Wl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Oh(n)}async function vN(r,t){const n=Et(r);t?(n.Ea.delete(2),await Oh(n)):t||(n.Ea.add(2),await Wl(n),n.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(n,s,l){const u=Et(n);return u.sa(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:uN.bind(null,r),t_:cN.bind(null,r),r_:hN.bind(null,r),H_:fN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),vp(r)?_p(r):r.Ra.set("Unknown")):(await r.ma.stop(),cb(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,l){const u=Et(n);return u.sa(),new rN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:pN.bind(null,r),r_:_N.bind(null,r),ta:gN.bind(null,r),na:yN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ep{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,p=new Ep(t,n,d,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(r,t){if(lr("AsyncQueue",`${t}: ${r}`),po(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class xE{constructor(){this.ga=new oe(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class lo{constructor(t,n,s,l,u,d,p,_,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,n,eo.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class EN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class TN{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Et(n),u=l.queries;l.queries=NE(),u.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(s)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function NE(){return new ta((r=>MT(r)),Rh)}async function bN(r,t){const n=Et(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new EN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Tp(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&bp(n)}async function SN(r,t){const n=Et(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AN(r,t){const n=Et(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&bp(n)}function wN(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function bp(r){r.Ca.forEach((t=>{t.next()}))}var Nm,DE;(DE=Nm||(Nm={})).Ma="default",DE.Cache="cache";class RN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}class mb{constructor(t){this.key=t}}class pb{constructor(t){this.key=t}}class IN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=VT(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new xE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const N=l.get(b),G=Ih(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Y=!1;N&&G?N.data.isEqual(G.data)?J!==W&&(s.track({type:3,doc:G}),Y=!0):this.su(N,G)||(s.track({type:2,doc:G}),Y=!0,(_&&this.eu(G,_)>0||g&&this.eu(G,g)<0)&&(p=!0)):!N&&G?(s.track({type:0,doc:G}),Y=!0):N&&!G&&(s.track({type:1,doc:N}),Y=!0,(_||g)&&(p=!0)),Y&&(G?(d=d.add(G),u=W?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(G,J){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Y})}};return W(G)-W(J)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,g=_!==this.Za;return this.Za=_,d.length!==0||g?{snapshot:new lo(this.query,t.tu,u,d,t.mutatedKeys,_===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new pb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new mb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sp="SyncEngine";class CN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class xN{constructor(t){this.key=t,this.hu=!1}}class NN{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>MT(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(dt.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DN(r,t,n=!0){const s=Tb(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await gb(s,t,n,!0),l}async function ON(r,t){const n=Tb(r);await gb(n,t,!0,!1)}async function gb(r,t,n,s){const l=await Xx(r.localStore,Ii(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await MN(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&lb(r.remoteStore,l),p}async function MN(r,t,n,s,l){r.pu=(S,N,G)=>(async function(W,Y,tt,ut){let lt=Y.view.ru(tt);lt.Cs&&(lt=await SE(W.localStore,Y.query,!1).then((({documents:x})=>Y.view.ru(x,lt))));const wt=ut&&ut.targetChanges.get(Y.targetId),Zt=ut&&ut.targetMismatches.get(Y.targetId)!=null,Pt=Y.view.applyChanges(lt,W.isPrimaryClient,wt,Zt);return ME(W,Y.targetId,Pt.au),Pt.snapshot})(r,S,N,G);const u=await SE(r.localStore,t,!0),d=new IN(t,u.Qs),p=d.ru(u.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),g=d.applyChanges(p,r.isPrimaryClient,_);ME(r,n,g.au);const b=new CN(t,n,d);return r.Tu.set(t,b),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function VN(r,t,n){const s=Et(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Rh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&gp(s.remoteStore,l.targetId),Dm(s,l.targetId)})).catch(mo)):(Dm(s,l.targetId),await Cm(s.localStore,l.targetId,!0))}async function kN(r,t){const n=Et(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gp(n.remoteStore,s.targetId))}async function PN(r,t,n){const s=HN(r);try{const l=await(function(d,p){const _=Et(d),g=ee.now(),b=p.reduce(((G,J)=>G.add(J.key)),Ot());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ur(),W=Ot();return _.Ns.getEntries(G,b).next((Y=>{J=Y,J.forEach(((tt,ut)=>{ut.isValidDocument()||(W=W.add(tt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,J))).next((Y=>{S=Y;const tt=[];for(const ut of p){const lt=QC(ut,S.get(ut.key).overlayedDocument);lt!=null&&tt.push(new ls(ut.key,lt,RT(lt.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(G,g,tt,p)})).next((Y=>{N=Y;const tt=Y.applyToLocalDocumentSet(S,W);return _.documentOverlayCache.saveOverlays(G,Y.batchId,tt)}))})).then((()=>({batchId:N.batchId,changes:PT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let g=d.Vu[d.currentUser.toKey()];g||(g=new oe(Dt)),g=g.insert(p,_),d.Vu[d.currentUser.toKey()]=g})(s,l.batchId,n),await tu(s,l.changes),await Mh(s.remoteStore)}catch(l){const u=Tp(l,"Failed to persist write");n.reject(u)}}async function yb(r,t){const n=Et(r);try{const s=await Kx(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await tu(n,s,t)}catch(s){await mo(s)}}function OE(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let g=!1;_.queries.forEach(((b,S)=>{for(const N of S.Sa)N.va(p)&&(g=!0)})),g&&bp(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function LN(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new oe(dt.comparator);d=d.insert(u,Je.newNoDocument(u,_t.min()));const p=Ot().add(u),_=new Nh(_t.min(),new Map,new oe(Dt),d,p);await yb(s,_),s.du=s.du.remove(u),s.Au.delete(t),Ap(s)}else await Cm(s.localStore,t,!1).then((()=>Dm(s,t,n))).catch(mo)}async function UN(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await Gx(n.localStore,t);vb(n,s,null),_b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tu(n,l)}catch(l){await mo(l)}}async function zN(r,t,n){const s=Et(r);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return _.mutationQueue.lookupMutationBatch(g,p).next((S=>(qt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(g,S)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>_.localDocuments.getDocuments(g,b)))}))})(s.localStore,t);vb(s,t,n),_b(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await tu(s,l)}catch(l){await mo(l)}}function _b(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function vb(r,t,n){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Dm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||Eb(r,s)}))}function Eb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(gp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ap(r))}function ME(r,t,n){for(const s of n)s instanceof mb?(r.Ru.addReference(s.key,t),jN(r,s)):s instanceof pb?(rt(Sp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||Eb(r,s.key)):gt(19791,{wu:s})}function jN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(Sp,"New document in limbo: "+n),r.Eu.add(s),Ap(r))}function Ap(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ae.fromString(t)),s=r.fu.next();r.Au.set(s,new xN(n)),r.du=r.du.insert(n,s),lb(r.remoteStore,new Yr(Ii(op(n.path)),s,"TargetPurposeLimboResolution",bh.ce))}}async function tu(r,t,n){const s=Et(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(g){l.push(g);const b=mp.As(_.targetId,g);u.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(_,g){const b=Et(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(g,(N=>$.forEach(N.Es,(G=>b.persistence.referenceDelegate.addReference(S,N.targetId,G))).next((()=>$.forEach(N.ds,(G=>b.persistence.referenceDelegate.removeReference(S,N.targetId,G)))))))))}catch(S){if(!po(S))throw S;rt(pp,"Failed to update sequence numbers: "+S)}for(const S of g){const N=S.targetId;if(!S.fromCache){const G=b.Ms.get(N),J=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(N,W)}}})(s.localStore,u))}async function BN(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){rt(Sp,"User change. New user:",t.toKey());const s=await rb(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await tu(n,s.Ls)}}function qN(r,t){const n=Et(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Tb(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LN.bind(null,t),t.Pu.H_=AN.bind(null,t.eventManager),t.Pu.yu=wN.bind(null,t.eventManager),t}function HN(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Fx(this.persistence,new Bx,t.initialUser,this.serializer)}Cu(t){return new ib(dp.mi,this.serializer)}Du(t){return new Jx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class FN extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Rx(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new ib((s=>hh.mi(s,n)),this.serializer)}}class Om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BN.bind(null,this.syncEngine),await vN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TN})()}createDatastore(t){const n=Dh(t.databaseInfo.databaseId),s=(function(u){return new nN(u)})(t.databaseInfo);return(function(u,d,p,_){return new aN(u,d,p,_)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,p){return new lN(s,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>OE(this.syncEngine,n,0)),(function(){return RE.v()?new RE:new Zx})())}createSyncEngine(t,n){return(function(l,u,d,p,_,g,b){const S=new NN(l,u,d,p,_,g);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Et(n);rt(Js,"RemoteStore shutting down."),s.Ea.add(5),await Wl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class GN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const is="FirestoreClient";class KN{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{rt(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Tp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),rt(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await rb(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function VE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await YN(r);rt(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>CE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>CE(t.remoteStore,l))),r._onlineComponents=t}async function YN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(is,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new dh)}}else rt(is,"Using default OfflineComponentProvider"),await rm(r,new FN(void 0));return r._offlineComponents}async function bb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(is,"Using user provided OnlineComponentProvider"),await VE(r,r._uninitializedComponentsProvider._online)):(rt(is,"Using default OnlineComponentProvider"),await VE(r,new Om))),r._onlineComponents}function QN(r){return bb(r).then((t=>t.syncEngine))}async function XN(r){const t=await bb(r),n=t.eventManager;return n.onListen=DN.bind(null,t.syncEngine),n.onUnlisten=VN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ON.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,t.syncEngine),n}function $N(r,t,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,g){const b=new GN({next:N=>{b.Nu(),d.enqueueAndForget((()=>SN(u,S)));const G=N.docs.has(p);!G&&N.fromCache?g.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&_&&_.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),S=new RN(op(p.path),b,{includeMetadataChanges:!0,qa:!0});return bN(u,S)})(await XN(r),r.asyncQueue,t,n,s))),s.promise}function Sb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const kE=new Map;const Ab="firestore.googleapis.com",PE=!0;class LE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=PE}else this.host=t.host,this.ssl=t.ssl??PE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ax)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wp{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new X2;switch(s.type){case"firstParty":return new W2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(rt("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function JN(r,t,n,s={}){r=$s(r,wp);const l=uo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(JE(`https://${p}`),ZE("Firestore",!0)),u.host!==Ab&&u.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:s};if(!sr(_,d)&&(r._setSettings(_),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=$e.MOCK_USER;else{g=PA(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(S)}r._authCredentials=new $2(new pT(g,b))}}class Rp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rp(this.firestore,t,this._query)}}class Oe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if($l(n,Oe._jsonSchema))return new Oe(t,s||null,new dt(ae.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Fl extends Rp{constructor(t,n,s){super(t,n,op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new dt(t))}withConverter(t){return new Fl(this.firestore,t,this._path)}}function sm(r,t,...n){if(r=Ve(r),arguments.length===1&&(t=tp.newId()),sC("doc","path",t),r instanceof wp){const s=ae.fromString(t,...n);return Jv(s),new Oe(r,null,new dt(s))}{if(!(r instanceof Oe||r instanceof Fl))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Jv(s),new Oe(r.firestore,r instanceof Fl?r.converter:null,new dt(s))}}const UE="AsyncQueue";class zE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ab(this,"async_queue_retry"),this._c=()=>{const s=im();s&&rt(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;rt(UE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",jE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Ep.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Vh extends wp{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new zE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zE(t),this._firestoreClient=void 0,await t}}}function ZN(r,t){const n=typeof r=="object"?r:Pm(),s=typeof r=="string"?r:rh,l=Ws(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=VA("firestore");u&&JN(l,...u)}return l}function wb(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WN(r),r._firestoreClient}function WN(r){const t=r._freezeSettings(),n=(function(l,u,d,p){return new yC(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Sb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new KN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:we("string",Un._jsonSchemaVersion),bytes:we("string")};class kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ph{constructor(t){this._methodName=t}}class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if($l(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:we("string",Ni._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Di(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:we("string",Di._jsonSchemaVersion),vectorValues:we("object")};const tD=/^__.*__$/;class eD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ls(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(t,this.data,n,this.fieldTransforms)}}class Rb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ls(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Lh{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Ib(this.Ac)&&tD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Dh(t)}Cc(t,n,s,l=!1){return new Lh({Ac:t,methodName:n,Dc:s,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(r){const t=r._freezeSettings(),n=Dh(r._databaseId);return new nD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function iD(r,t,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);Cp("Data must be an object, but it was:",d,s);const p=xb(s,d);let _,g;if(u.merge)_=new Sn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const N=Mm(t,S,n);if(!d.contains(N))throw new ct(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Db(b,N)||b.push(N)}_=new Sn(b),g=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,g=d.fieldTransforms;return new eD(new fn(p),_,g)}class Uh extends Ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function rD(r,t,n){return new Lh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ip extends Ph{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=rD(this,t,!0),s=this.vc.map((u=>eu(u,n))),l=new ao(s);return new FC(t.path,l)}isEqual(t){return t instanceof Ip&&sr(this.vc,t.vc)}}function sD(r,t,n,s){const l=r.Cc(1,t,n);Cp("Data must be an object, but it was:",l,s);const u=[],d=fn.empty();os(s,((_,g)=>{const b=xp(t,_,n);g=Ve(g);const S=l.yc(b);if(g instanceof Uh)u.push(b);else{const N=eu(g,S);N!=null&&(u.push(b),d.set(b,N))}}));const p=new Sn(u);return new Rb(d,p,l.fieldTransforms)}function aD(r,t,n,s,l,u){const d=r.Cc(1,t,n),p=[Mm(t,s,n)],_=[l];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(Mm(t,u[N])),_.push(u[N+1]);const g=[],b=fn.empty();for(let N=p.length-1;N>=0;--N)if(!Db(g,p[N])){const G=p[N];let J=_[N];J=Ve(J);const W=d.yc(G);if(J instanceof Uh)g.push(G);else{const Y=eu(J,W);Y!=null&&(g.push(G),b.set(G,Y))}}const S=new Sn(g);return new Rb(b,S,d.fieldTransforms)}function eu(r,t){if(Nb(r=Ve(r)))return Cp("Unsupported field value:",t,r),xb(r,t);if(r instanceof Ph)return(function(s,l){if(!Ib(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let _=eu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ee.fromDate(s);return{timestampValue:ch(l.serializer,u)}}if(s instanceof ee){const u=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(l.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:XT(l.serializer,s._byteString)};if(s instanceof Oe){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Di)return(function(d,p){return{mapValue:{fields:{[AT]:{stringValue:wT},[sh]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return lp(p.serializer,g)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${ep(s)}`)})(r,t)}function xb(r,t){const n={};return _T(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(r,((s,l)=>{const u=eu(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Nb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof Ni||r instanceof Un||r instanceof Oe||r instanceof Ph||r instanceof Di)}function Cp(r,t,n){if(!Nb(n)||!gT(n)){const s=ep(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Mm(r,t,n){if((t=Ve(t))instanceof kh)return t._internalPath;if(typeof t=="string")return xp(r,t);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const oD=new RegExp("[~\\*/\\[\\]]");function xp(r,t,n){if(t.search(oD)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new kh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function Db(r,t){return r.some((n=>n.isEqual(t)))}class Ob{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Mb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends Ob{data(){return super.data()}}function Mb(r,t){return typeof t=="string"?xp(r,t):t instanceof kh?t._internalPath:t._delegate._internalPath}class uD{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return os(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[sh].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Di(n)}convertGeoPoint(t){return new Ni(me(t.latitude),me(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);qt(eb(s),9688,{name:t});const l=new Bl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return l.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function cD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends Ob{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Mb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:we("string",Fs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Kc extends Fs{data(t={}){return super.data(t)}}class kl{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,b=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:hD(p.type),doc:_,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=kl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function fD(r){r=$s(r,Oe);const t=$s(r.firestore,Vh);return $N(wb(t),r._key).then((n=>pD(t,r,n)))}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:we("string",kl._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class dD extends uD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function mD(r,t,n){r=$s(r,Oe);const s=$s(r.firestore,Vh),l=cD(r.converter,t);return Vb(s,[iD(Cb(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Ci.none())])}function BE(r,t,n,...s){r=$s(r,Oe);const l=$s(r.firestore,Vh),u=Cb(l);let d;return d=typeof(t=Ve(t))=="string"||t instanceof kh?aD(u,"updateDoc",r._key,t,n,s):sD(u,"updateDoc",r._key,t),Vb(l,[d.toMutation(r._key,Ci.exists(!0))])}function Vb(r,t){return(function(s,l){const u=new Jr;return s.asyncQueue.enqueueAndForget((async()=>PN(await QN(s),l,u))),u.promise})(wb(r),t)}function pD(r,t,n){const s=n.docs.get(t._key),l=new dD(r);return new Fs(r,l,t._key,s,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}function gD(...r){return new Ip("arrayUnion",r)}(function(t,n=!0){(function(l){fo=l})(co),Oi(new ei("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new Vh(new J2(s.getProvider("auth-internal")),new tC(d,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(g.options.projectId,b)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),zn(Yv,Qv,t),zn(Yv,Qv,"esm2020")})();const yD={apiKey:"AIzaSyAOC7HKO557OZIY2sOKubjaazk1ZxpKxdo",authDomain:"workout-tracker-52fc7.firebaseapp.com",projectId:"workout-tracker-52fc7",storageBucket:"workout-tracker-52fc7.firebasestorage.app",messagingSenderId:"1032877044952",appId:"1:1032877044952:web:68598ac1b2618cc24213ad",measurementId:"G-T8H89EHWH0"},Np=s0(yD);CR(Np);const Ka=Y2(Np),_D=new er,am=ZN(Np),kb=Ne.createContext(),qE={name:"Athlete",xp:0,level:1,streak:0,lastWorkoutDate:null,badges:[]},vD=({children:r})=>{const[t,n]=Ne.useState(()=>localStorage.getItem("workout-tracker-theme")||"dark");Ne.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("workout-tracker-theme",t)},[t]);const s=()=>{n(Y=>Y==="dark"?"light":"dark")},[l,u]=Ne.useState(null),[d,p]=Ne.useState(!0),[_,g]=Ne.useState(null);Ne.useEffect(()=>{const Y=kI(Ka,async tt=>{if(tt){u(tt);try{const ut=sm(am,"users",tt.uid),lt=await fD(ut);if(lt.exists())g(lt.data());else{const wt={user:{...qE,name:tt.displayName||tt.email?.split("@")[0]||"Athlete"},workouts:[]};await mD(ut,wt),g(wt)}}catch(ut){console.error("Error fetching user data:",ut);const lt=localStorage.getItem(`workout-tracker-data-${tt.uid}`);if(lt)g(JSON.parse(lt));else{const wt={user:{...qE,name:tt.displayName||tt.email?.split("@")[0]||"Athlete"},workouts:[]};g(wt)}}}else u(null),g(null);p(!1)});return()=>Y()},[]);const b=async()=>{try{if(Ka.app.options.apiKey==="YOUR_API_KEY")throw new Error("Firebase not configured. Please update src/firebase.js with your keys.");return await n2(Ka,_D),{success:!0}}catch(Y){return console.error("Google Login Error:",Y),{success:!1,error:Y.message}}},S=async(Y,tt)=>{try{return await OI(Ka,Y,tt),{success:!0}}catch(ut){return console.error("Login Error:",ut),{success:!1,error:ut.message}}},N=async(Y,tt)=>{try{return await DI(Ka,Y,tt),{success:!0}}catch(ut){return console.error("Signup Error:",ut),{success:!1,error:ut.message}}},G=async()=>{try{await PI(Ka)}catch(Y){console.error("Logout Error:",Y)}},J=async Y=>{if(g(tt=>({...tt,workouts:[Y,...tt.workouts]})),l)try{const tt=sm(am,"users",l.uid);await BE(tt,{workouts:gD(Y)})}catch(tt){console.error("Error saving workout:",tt)}},W=async Y=>{if(g(tt=>({...tt,user:{...tt.user,...Y}})),l)try{const tt=sm(am,"users",l.uid),ut={};for(const[lt,wt]of Object.entries(Y))ut[`user.${lt}`]=wt;await BE(tt,ut)}catch(tt){console.error("Error updating stats:",tt)}};return C.jsx(kb.Provider,{value:{user:_?.user,workouts:_?.workouts||[],isAuthenticated:!!l,loading:d,theme:t,toggleTheme:s,loginWithGoogle:b,loginWithEmail:S,signupWithEmail:N,logout:G,addWorkout:J,updateUserStats:W},children:!d&&r})},ki=()=>Ne.useContext(kb),Pb=({className:r=""})=>{const{theme:t,toggleTheme:n}=ki();return C.jsxs("label",{className:`theme-switch ${r}`,children:[C.jsx("input",{type:"checkbox",checked:t==="light",onChange:n}),C.jsxs("span",{className:"slider round",children:[C.jsx("span",{className:"icon sun",children:""}),C.jsx("span",{className:"icon moon",children:""})]}),C.jsx("style",{children:`
                .theme-switch {
                    position: relative;
                    display: inline-block;
                    width: 60px;
                    height: 30px;
                }

                .theme-switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: var(--bg-card);
                    border: 1px solid var(--border);
                    transition: .4s;
                    border-radius: 34px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0 5px;
                    overflow: hidden;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 22px;
                    width: 22px;
                    left: 4px;
                    bottom: 3px;
                    background-color: var(--primary);
                    transition: .4s;
                    border-radius: 50%;
                    z-index: 2;
                }

                input:checked + .slider {
                    background-color: var(--bg-card);
                }

                input:checked + .slider:before {
                    transform: translateX(28px);
                }

                .icon {
                    font-size: 14px;
                    z-index: 1;
                    line-height: 1;
                }
                
                .sun { margin-left: 2px; }
                .moon { margin-right: 2px; }
            `})]})},ED=({children:r,activeTab:t,onTabChange:n})=>{const{theme:s}=ki();return C.jsxs("div",{className:"app-container",children:[C.jsx("div",{className:"page-content",children:r}),C.jsxs("nav",{className:"bottom-nav glass-panel",children:[C.jsxs("button",{className:`nav-item ${t==="dashboard"?"active":""}`,onClick:()=>n("dashboard"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"Home"})]}),C.jsxs("button",{className:`nav-item ${t==="history"?"active":""}`,onClick:()=>n("history"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"History"})]}),C.jsx("button",{className:`nav-item ${t==="workout"?"active":""}`,onClick:()=>n("workout"),children:C.jsx("div",{className:"nav-fab",children:"+"})}),C.jsxs("button",{className:`nav-item ${t==="badges"?"active":""}`,onClick:()=>n("badges"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"Badges"})]})]}),C.jsx("div",{className:"layout-theme-toggle",children:C.jsx(Pb,{})}),C.jsx("style",{children:`
        .layout-theme-toggle {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 100;
        }
        
        .bottom-nav {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          width: calc(100% - 40px);
          max-width: 400px;
          height: 70px;
          border-radius: 24px;
          display: flex;
          justify-content: space-around;
          align-items: center;
          z-index: 100;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .nav-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          padding: 0;
          color: var(--text-muted);
          font-size: 0.75rem;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          width: 60px;
          cursor: pointer;
        }

        .nav-item.active {
          color: var(--primary);
          transform: translateY(-2px);
        }

        .nav-icon {
          font-size: 1.5rem;
          margin-bottom: 2px;
          filter: grayscale(100%);
          transition: filter 0.3s;
        }

        .nav-item.active .nav-icon {
          filter: grayscale(0%);
        }

        .nav-fab {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 2rem;
          font-weight: 300;
          box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
          transform: translateY(-20px);
          transition: transform 0.2s;
          border: 4px solid var(--bg-app);
        }

        .nav-item:active .nav-fab {
          transform: translateY(-18px) scale(0.95);
        }
      `})]})},TD=()=>new Date().toISOString().split("T")[0],Lb=(r,t)=>!r||!t?!1:r.split("T")[0]===t.split("T")[0],bD=r=>{if(!r)return!1;const t=new Date,n=new Date(t);return n.setDate(n.getDate()-1),Lb(r,n.toISOString())},Ub=[{id:"first_workout",name:"Spartan Initiate",description:"Complete your first workout",icon:""},{id:"streak_3",name:"Hermes Speed",description:"Maintain a 3-day streak",icon:""},{id:"streak_7",name:"Hercules Strength",description:"Maintain a 7-day streak",icon:""},{id:"streak_30",name:"Titan Endurance",description:"Maintain a 30-day streak",icon:""},{id:"heavy_lifter",name:"Atlas Bearer",description:"Lift over 100kg in any exercise",icon:""},{id:"level_5",name:"Olympian",description:"Reach Level 5",icon:""}],SD=(r,t)=>{const n=TD();return r?Lb(r,n)?t:bD(r)?t+1:1:1},AD=r=>{let t=50;return r.exercises.forEach(n=>{t+=n.sets.length*10}),t},zb=r=>Math.floor(r/100)+1,wD=(r,t)=>{const n=[],s=new Set(r.badges);return s.has("first_workout")||n.push("first_workout"),r.streak>=3&&!s.has("streak_3")&&n.push("streak_3"),r.streak>=7&&!s.has("streak_7")&&n.push("streak_7"),r.streak>=30&&!s.has("streak_30")&&n.push("streak_30"),r.level>=5&&!s.has("level_5")&&n.push("level_5"),n},HE=({onNavigate:r})=>{const{user:t,logout:n,workouts:s}=ki(),l=zb(t.xp),u=(l+1)*1e3,d=l*1e3,p=(t.xp-d)/(u-d)*100,_=new Set(t.badges),g=Ub.filter(b=>!_.has(b.id)).slice(0,2);return C.jsxs("div",{className:"dashboard",children:[C.jsxs("header",{className:"header flex-between",children:[C.jsxs("div",{children:[C.jsxs("h1",{className:"greeting",children:["Hello, ",C.jsx("span",{className:"text-gradient",children:t.name})]}),C.jsx("p",{className:"subtitle",children:"Ready to conquer today?"})]}),C.jsx("button",{onClick:n,className:"btn-icon","aria-label":"Logout",children:""})]}),C.jsxs("div",{className:"stats-grid",children:[C.jsxs("div",{className:"card stat-card glass-panel",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-info",children:[C.jsx("h3",{children:t.streak}),C.jsx("p",{children:"Day Streak"})]})]}),C.jsxs("div",{className:"card stat-card glass-panel",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-info",children:[C.jsx("h3",{children:t.xp}),C.jsx("p",{children:"Total XP"})]})]}),C.jsxs("div",{className:"card stat-card glass-panel full-width",children:[C.jsxs("div",{className:"level-info flex-between",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-text",children:[C.jsxs("h3",{children:["Level ",l]}),C.jsxs("p",{children:[u-t.xp," XP to next level"]})]})]}),C.jsx("div",{className:"progress-bar-bg",children:C.jsx("div",{className:"progress-bar-fill",style:{width:`${p}%`}})})]})]}),C.jsxs("section",{className:"section",children:[C.jsxs("div",{className:"flex-between mb-2",children:[C.jsx("h2",{children:"Next Milestones"}),C.jsx("span",{className:"see-all",onClick:()=>r("badges"),children:"View All"})]}),C.jsx("div",{className:"badges-scroll",children:g.length>0?g.map(b=>C.jsxs("div",{className:"badge-card locked glass-panel",children:[C.jsx("div",{className:"badge-icon",children:b.icon}),C.jsxs("div",{className:"badge-details",children:[C.jsx("h4",{children:b.name}),C.jsx("p",{children:b.description})]})]},b.id)):C.jsx("div",{className:"empty-state",children:C.jsx("p",{children:"You're a legend! All current badges earned."})})})]}),C.jsxs("section",{className:"section",children:[C.jsx("h2",{children:"Recent Activity"}),C.jsx("div",{className:"activity-list",children:s.length===0?C.jsxs("div",{className:"card empty-card",children:[C.jsx("p",{children:"No workouts yet. Start your legend today!"}),C.jsx("button",{onClick:()=>r("workout"),className:"btn-primary mt-2",children:"Start First Workout"})]}):s.slice(0,3).map((b,S)=>C.jsxs("div",{className:"card workout-card glass-panel",children:[C.jsxs("div",{className:"workout-header",children:[C.jsx("span",{className:"workout-date",children:new Date(b.date).toLocaleDateString()}),C.jsxs("span",{className:"workout-xp",children:["+",b.xpEarned," XP"]})]}),C.jsxs("div",{className:"workout-summary",children:[b.exercises.length," Exercises Completed"]})]},S))})]}),C.jsx("style",{children:`
                .header {
                    margin-bottom: 24px;
                    padding-top: 10px;
                }
                .greeting {
                    font-size: 1.75rem;
                    margin-bottom: 4px;
                }
                .subtitle {
                    color: var(--text-muted);
                    font-size: 0.9rem;
                }
                
                .stats-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 12px;
                    margin-bottom: 32px;
                }
                .stat-card {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 16px;
                    margin-bottom: 0;
                    background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
                }
                .stat-card.full-width {
                    grid-column: span 2;
                    align-items: stretch;
                    text-align: left;
                }
                .stat-icon {
                    font-size: 2rem;
                    margin-bottom: 8px;
                    filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
                }
                .stat-info h3 {
                    font-size: 1.5rem;
                    color: white;
                    margin-bottom: 2px;
                }
                .stat-info p {
                    font-size: 0.8rem;
                    color: var(--text-muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                .level-info {
                    margin-bottom: 12px;
                }
                .level-info .stat-icon {
                    font-size: 2.5rem;
                    margin-bottom: 0;
                    margin-right: 16px;
                }
                .progress-bar-bg {
                    height: 8px;
                    background: rgba(255,255,255,0.1);
                    border-radius: 4px;
                    overflow: hidden;
                }
                .progress-bar-fill {
                    height: 100%;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    border-radius: 4px;
                    transition: width 1s ease-out;
                }

                .section {
                    margin-bottom: 32px;
                }
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 16px; }
                
                .see-all {
                    color: var(--primary);
                    font-size: 0.9rem;
                    font-weight: 600;
                    cursor: pointer;
                }

                .badges-scroll {
                    display: flex;
                    gap: 12px;
                    overflow-x: auto;
                    padding-bottom: 10px;
                    margin: 0 -20px;
                    padding: 0 20px 20px 20px;
                    -webkit-overflow-scrolling: touch;
                }
                .badge-card {
                    min-width: 160px;
                    padding: 16px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.05);
                }
                .badge-card.locked {
                    opacity: 0.7;
                }
                .badge-icon {
                    font-size: 2.5rem;
                    margin-bottom: 12px;
                    filter: grayscale(100%);
                }
                .badge-details h4 {
                    font-size: 0.9rem;
                    margin-bottom: 4px;
                    color: var(--text-main);
                }
                .badge-details p {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                    line-height: 1.3;
                }

                .workout-card {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 16px;
                }
                .workout-date {
                    font-weight: 600;
                    color: var(--text-main);
                }
                .workout-xp {
                    color: var(--accent);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .workout-summary {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin-top: 4px;
                }
                .empty-card {
                    text-align: center;
                    padding: 32px;
                    color: var(--text-muted);
                }
            `})]})},RD=(r,t)=>{const n=t.find(u=>u.exercises.some(d=>d.name===r));if(!n)return null;const s=n.exercises.find(u=>u.name===r);if(!s||!s.sets.length)return null;const l=Math.max(...s.sets.map(u=>u.weight||0));return l>0?l+2.5:null},FE=["Bench Press","Squat","Deadlift","Overhead Press","Pull Up","Dumbbell Row","Lunges"],ID=({onFinish:r})=>{const{user:t,workouts:n,addWorkout:s,updateUserStats:l}=ki(),[u,d]=Ne.useState([]),[p,_]=Ne.useState(FE[0]),g=()=>{const J=p,W=RD(J,n);d([...u,{id:Date.now(),name:J,targetWeight:W,sets:3,reps:10,weight:W||20}])},b=(J,W,Y)=>{const tt=[...u];tt[J][W]=Number(Y),d(tt)},S=J=>{const W=u.filter((Y,tt)=>tt!==J);d(W)},N=()=>{if(u.length===0)return;const J={id:crypto.randomUUID(),date:new Date().toISOString(),exercises:u},W=AD(J),Y=SD(t.lastWorkoutDate,t.streak),tt=t.xp+W,ut=zb(tt),lt={...t,streak:Y,xp:tt,level:ut,lastWorkoutDate:new Date().toISOString()},wt=wD(lt);s(J),l({streak:Y,xp:lt.xp,level:lt.level,lastWorkoutDate:lt.lastWorkoutDate,badges:[...t.badges,...wt]}),r()},G=u.length*10;return C.jsxs("div",{className:"workout-session",children:[C.jsxs("header",{className:"flex-between mb-2",children:[C.jsx("h2",{children:"Workout Session"}),C.jsxs("div",{className:"xp-badge",children:["+",G," XP"]})]}),C.jsx("div",{className:"exercise-list",children:u.map((J,W)=>C.jsxs("div",{className:"card exercise-card glass-panel",children:[C.jsxs("div",{className:"exercise-header",children:[C.jsx("h3",{children:J.name}),C.jsx("button",{className:"btn-icon delete-btn",onClick:()=>S(W),children:""})]}),C.jsxs("div",{className:"exercise-inputs",children:[C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Sets"}),C.jsx("input",{type:"number",value:J.sets,onChange:Y=>b(W,"sets",Y.target.value),placeholder:"0",inputMode:"numeric"})]}),C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Reps"}),C.jsx("input",{type:"number",value:J.reps,onChange:Y=>b(W,"reps",Y.target.value),placeholder:"0",inputMode:"numeric"})]}),C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Lbs"}),C.jsx("input",{type:"number",value:J.weight,onChange:Y=>b(W,"weight",Y.target.value),placeholder:"0",inputMode:"numeric"})]})]})]},W))}),C.jsxs("div",{className:"add-exercise-section",children:[C.jsx("select",{value:p,onChange:J=>_(J.target.value),className:"exercise-select",children:FE.map(J=>C.jsx("option",{value:J,children:J},J))}),C.jsx("button",{onClick:g,className:"btn-secondary btn-full mt-2",children:"+ Add Exercise"})]}),C.jsx("div",{className:"action-bar",children:C.jsx("button",{onClick:N,className:"btn-primary btn-full finish-btn",children:"Finish Workout"})}),C.jsx("style",{children:`
                .workout-session {
                    padding-bottom: 80px;
                }
                .xp-badge {
                    background: rgba(16, 185, 129, 0.2);
                    color: var(--accent);
                    padding: 4px 12px;
                    border-radius: var(--radius-full);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .exercise-card {
                    margin-bottom: 16px;
                    animation: slideIn 0.3s ease-out;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .exercise-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 12px;
                }
                .exercise-header h3 {
                    font-size: 1.1rem;
                    color: white;
                }
                .delete-btn {
                    color: var(--error);
                    opacity: 0.7;
                }
                .exercise-inputs {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 12px;
                }
                .input-col label {
                    text-align: center;
                    font-size: 0.75rem;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .input-col input {
                    text-align: center;
                    font-size: 1.1rem;
                    font-weight: 600;
                    padding: 12px 8px;
                }
                
                .exercise-select {
                    width: 100%;
                    padding: 16px;
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius-md);
                    color: white;
                    font-size: 1rem;
                    appearance: none;
                    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
                    background-repeat: no-repeat;
                    background-position: right 16px center;
                    background-size: 16px;
                }

                .action-bar {
                    position: fixed;
                    bottom: 90px; /* Above nav bar */
                    left: 50%;
                    transform: translateX(-50%);
                    width: calc(100% - 40px);
                    max-width: 400px;
                    z-index: 90;
                }
                
                .finish-btn {
                    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
                    font-size: 1.1rem;
                    padding: 16px;
                }
                
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 12px; }
            `})]})},CD=()=>{const{workouts:r}=ki(),t=[...r].sort((n,s)=>new Date(s.date)-new Date(n.date));return C.jsxs("div",{className:"history-page",children:[C.jsxs("header",{className:"header",children:[C.jsx("h1",{children:"Workout History"}),C.jsx("p",{className:"subtitle",children:"Your legacy in the making"})]}),C.jsx("div",{className:"history-list",children:t.length===0?C.jsxs("div",{className:"empty-state glass-panel",children:[C.jsx("span",{className:"empty-icon",children:""}),C.jsx("p",{children:"No workouts recorded yet."}),C.jsx("p",{className:"sub-text",children:"Complete your first workout to see it here."})]}):t.map((n,s)=>C.jsxs("div",{className:"history-card glass-panel",children:[C.jsxs("div",{className:"card-header",children:[C.jsxs("div",{className:"date-info",children:[C.jsx("span",{className:"day",children:new Date(n.date).toLocaleDateString(void 0,{weekday:"short"})}),C.jsx("span",{className:"date",children:new Date(n.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),C.jsxs("div",{className:"xp-badge",children:["+",n.xpEarned," XP"]})]}),C.jsxs("div",{className:"card-content",children:[C.jsxs("div",{className:"exercise-count",children:[C.jsx("span",{className:"icon",children:""}),C.jsxs("span",{children:[n.exercises.length," Exercises"]})]}),C.jsxs("div",{className:"exercises-preview",children:[n.exercises.slice(0,3).map((l,u)=>C.jsx("span",{className:"ex-tag",children:l.name},u)),n.exercises.length>3&&C.jsxs("span",{className:"ex-tag more",children:["+",n.exercises.length-3]})]})]})]},s))}),C.jsx("style",{children:`
        .header {
          margin-bottom: 24px;
          padding-top: 10px;
        }
        .header h1 {
          font-size: 1.75rem;
          margin-bottom: 4px;
        }
        .subtitle {
          color: var(--text-muted);
          font-size: 0.9rem;
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
          padding-bottom: 100px;
        }

        .history-card {
          padding: 20px;
          border-radius: 16px;
          background: var(--bg-card);
          border: 1px solid var(--border);
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 16px;
          padding-bottom: 16px;
          border-bottom: 1px solid var(--border);
        }

        .date-info {
          display: flex;
          flex-direction: column;
        }

        .day {
          font-size: 0.8rem;
          color: var(--text-muted);
          text-transform: uppercase;
          font-weight: 600;
        }

        .date {
          font-size: 1.2rem;
          font-weight: 700;
          color: var(--text-main);
        }

        .xp-badge {
          background: rgba(245, 158, 11, 0.1);
          color: var(--accent);
          padding: 4px 12px;
          border-radius: 20px;
          font-weight: 700;
          font-size: 0.9rem;
        }

        .card-content {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .exercise-count {
          display: flex;
          align-items: center;
          gap: 8px;
          color: var(--text-main);
          font-weight: 500;
        }

        .exercises-preview {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .ex-tag {
          font-size: 0.75rem;
          padding: 4px 10px;
          background: rgba(255,255,255,0.05);
          border-radius: 6px;
          color: var(--text-muted);
        }

        .ex-tag.more {
          background: rgba(255,255,255,0.1);
          color: var(--text-main);
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          border-radius: 16px;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          display: block;
          opacity: 0.5;
        }

        .sub-text {
          font-size: 0.9rem;
          color: var(--text-muted);
          margin-top: 8px;
        }
      `})]})},xD=()=>{const{user:r}=ki(),t=new Set(r.badges);return C.jsxs("div",{className:"container",children:[C.jsx("h2",{style:{marginBottom:"20px"},children:"Achievements"}),C.jsx("div",{className:"badges-grid",children:Ub.map(n=>{const s=t.has(n.id);return C.jsxs("div",{className:`card badge-card ${s?"unlocked":"locked"}`,children:[C.jsx("div",{className:"badge-icon",children:n.icon}),C.jsxs("div",{className:"badge-info",children:[C.jsx("h3",{children:n.name}),C.jsx("p",{children:n.description})]}),!s&&C.jsx("div",{className:"lock-overlay",children:""})]},n.id)})}),C.jsx("style",{children:`
        .badges-grid {
          display: grid;
          gap: var(--spacing-md);
        }

        .badge-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          position: relative;
          overflow: hidden;
        }

        .badge-card.locked {
          opacity: 0.5;
          filter: grayscale(1);
        }

        .badge-icon {
          font-size: 32px;
          background: rgba(255,255,255,0.05);
          width: 60px;
          height: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
        }

        .badge-info h3 {
          font-size: 16px;
          margin-bottom: 4px;
        }

        .badge-info p {
          font-size: 12px;
          color: var(--text-muted);
        }

        .lock-overlay {
          position: absolute;
          right: 20px;
          font-size: 20px;
        }

        .badge-card.unlocked {
          border: 1px solid rgba(10, 255, 153, 0.3);
          background: linear-gradient(90deg, var(--bg-card) 0%, rgba(10, 255, 153, 0.05) 100%);
        }
      `})]})},ND=({onGetStarted:r})=>{const{theme:t}=ki();return C.jsxs("div",{className:"landing-container",children:[C.jsxs("nav",{className:"landing-nav",children:[C.jsx("div",{className:"logo",children:" Shokunin"}),C.jsxs("div",{className:"nav-actions",children:[C.jsx(Pb,{}),C.jsx("button",{className:"btn-login",onClick:()=>r("login"),children:"Login"})]})]}),C.jsxs("section",{className:"hero",children:[C.jsxs("h1",{className:"hero-title",children:["Build Your ",C.jsx("span",{className:"highlight",children:"Daily Routine"})]}),C.jsx("p",{className:"hero-subtitle",children:"Master the art of consistency. Track your workouts, maintain your streak, and forge discipline like a true craftsman."}),C.jsx("button",{className:"btn-primary btn-hero",onClick:()=>{console.log("Start Journey clicked -> signup"),r("signup")},children:"Start Your Journey"})]}),C.jsxs("section",{className:"features",children:[C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Track Progress"}),C.jsx("p",{children:"Log every rep and set. Watch your strength grow over time."})]}),C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Maintain Streaks"}),C.jsx("p",{children:"Consistency is key. Keep your flame alive day after day."})]}),C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Earn Glory"}),C.jsx("p",{children:'Unlock badges like "Hercules Strength" and "Titan Endurance".'})]})]}),C.jsx("style",{children:`
        .landing-container {
          min-height: 100vh;
          background: var(--bg-app);
          color: var(--text-main);
          padding: 0 var(--spacing-md);
          transition: background-color 0.3s ease, color 0.3s ease;
        }

        .landing-nav {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 0;
          max-width: 1200px;
          margin: 0 auto;
        }

        .logo {
          font-weight: 800;
          font-size: 20px;
          color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle-landing {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-main);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .theme-toggle-landing:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary);
        }

        .btn-login {
          background: transparent;
          color: var(--text-main);
          border: 1px solid var(--border);
          padding: 8px 20px;
          border-radius: var(--radius-full);
          transition: all 0.2s;
        }

        .btn-login:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        .hero {
          text-align: center;
          padding: 80px 20px;
          max-width: 800px;
          margin: 0 auto;
        }

        .hero-title {
          font-size: 48px;
          font-weight: 900;
          line-height: 1.1;
          margin-bottom: 20px;
        }

        .highlight {
          color: var(--primary);
          text-shadow: 0 0 20px var(--primary-glow);
        }

        .hero-subtitle {
          font-size: 18px;
          color: var(--text-muted);
          margin-bottom: 40px;
          line-height: 1.6;
        }

        .btn-hero {
          font-size: 18px;
          padding: 16px 40px;
        }

        .features {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 30px;
          max-width: 1000px;
          margin: 40px auto;
          padding-bottom: 80px;
        }

        .feature-card {
          background: var(--bg-card);
          padding: 30px;
          border-radius: var(--radius-md);
          text-align: center;
          border: 1px solid rgba(255,255,255,0.05);
          transition: transform 0.2s;
        }

        .feature-card:hover {
          transform: translateY(-5px);
          border-color: var(--primary);
        }

        .feature-icon {
          font-size: 40px;
          margin-bottom: 20px;
        }

        .feature-card h3 {
          margin-bottom: 10px;
          color: var(--text-main);
        }

        .feature-card p {
          color: var(--text-muted);
          font-size: 14px;
        }

        @media (max-width: 600px) {
          .hero-title {
            font-size: 36px;
          }
        }
      `})]})},DD=({onNavigate:r})=>{const[t,n]=Ne.useState(""),[s,l]=Ne.useState(""),[u,d]=Ne.useState(""),{loginWithEmail:p,loginWithGoogle:_}=ki(),g=async()=>{const S=await _();S.success?r("dashboard"):d(S.error||"Google login failed")},b=async S=>{if(S.preventDefault(),t.trim()&&s.trim()){const N=await p(t,s);N.success?r("dashboard"):d(N.error)}else d("Please enter email and password")};return C.jsxs("div",{className:"auth-container full-screen-center",children:[C.jsxs("div",{className:"background-blobs",children:[C.jsx("div",{className:"blob blob-1"}),C.jsx("div",{className:"blob blob-2"})]}),C.jsxs("div",{className:"card auth-card glass-panel",children:[C.jsxs("div",{className:"auth-header",children:[C.jsx("h1",{children:"Welcome Back"}),C.jsx("p",{className:"auth-subtitle",children:"Continue your legendary journey."})]}),C.jsxs("form",{onSubmit:b,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Email"}),C.jsx("input",{type:"email",value:t,onChange:S=>{n(S.target.value),d("")},placeholder:"Enter your email",autoFocus:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Password"}),C.jsx("input",{type:"password",value:s,onChange:S=>{l(S.target.value),d("")},placeholder:"Enter your password"})]}),u&&C.jsx("p",{className:"error-msg",children:u}),C.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Login"})]}),C.jsx("div",{className:"divider",children:C.jsx("span",{children:"OR"})}),C.jsxs("button",{className:"btn-google btn-full",onClick:g,children:[C.jsx("span",{className:"google-icon",children:"G"})," Login with Google"]}),C.jsxs("p",{className:"auth-footer",children:["New here? ",C.jsx("button",{className:"btn-link",onClick:()=>r("signup"),children:"Create Account"})]})]}),C.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},OD=({onNavigate:r})=>{const[t,n]=Ne.useState(""),[s,l]=Ne.useState(""),[u,d]=Ne.useState(""),{signupWithEmail:p,loginWithGoogle:_}=ki(),g=async()=>{const S=await _();S.success?r("dashboard"):d(S.error||"Google signup failed")},b=async S=>{if(S.preventDefault(),t.trim()&&s.trim()){const N=await p(t,s);N.success?r("dashboard"):d(N.error)}else d("Please fill in all fields")};return C.jsxs("div",{className:"auth-container full-screen-center",children:[C.jsxs("div",{className:"background-blobs",children:[C.jsx("div",{className:"blob blob-1"}),C.jsx("div",{className:"blob blob-2"})]}),C.jsxs("div",{className:"card auth-card glass-panel",children:[C.jsxs("div",{className:"auth-header",children:[C.jsx("h2",{children:"Begin Your Journey"}),C.jsx("p",{className:"auth-subtitle",children:"Create an account to track your progress."})]}),C.jsxs("form",{onSubmit:b,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Email"}),C.jsx("input",{type:"email",value:t,onChange:S=>{n(S.target.value),d("")},placeholder:"Enter your email",autoFocus:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Password"}),C.jsx("input",{type:"password",value:s,onChange:S=>{l(S.target.value),d("")},placeholder:"Create a password"})]}),u&&C.jsx("p",{className:"error-msg",children:u}),C.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Start Adventure"})]}),C.jsx("div",{className:"divider",children:C.jsx("span",{children:"OR"})}),C.jsxs("button",{className:"btn-google btn-full",onClick:g,children:[C.jsx("span",{className:"google-icon",children:"G"})," Sign up with Google"]}),C.jsxs("p",{className:"auth-footer",children:["Already have an account? ",C.jsx("button",{className:"btn-link",onClick:()=>r("login"),children:"Login"})]})]}),C.jsx("style",{children:`
        .auth-container {
          position: relative;
          overflow: hidden;
        }
        
        .background-blobs {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          pointer-events: none;
        }
        
        .blob {
          position: absolute;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
        }
        
        .blob-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: -100px;
          right: -100px;
          animation: float 10s infinite ease-in-out;
        }
        
        .blob-2 {
          width: 250px;
          height: 250px;
          background: var(--secondary);
          bottom: -50px;
          left: -50px;
          animation: float 8s infinite ease-in-out reverse;
        }

        @keyframes float {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }

        .auth-card {
          width: 100%;
          max-width: 400px;
          margin: 0 auto;
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .auth-header {
          text-align: center;
          margin-bottom: 32px;
        }
        
        .auth-subtitle {
          color: var(--text-muted);
          margin-top: 8px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .btn-full {
          width: 100%;
          justify-content: center;
        }
        
        .mt-2 { margin-top: 16px; }

        .error-msg {
          color: var(--error);
          font-size: 12px;
          margin-top: 5px;
          text-align: center;
        }

        .divider {
          margin: 24px 0;
          text-align: center;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          height: 1px;
          background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
          background: var(--bg-card);
          padding: 0 10px;
          color: var(--text-muted);
          font-size: 12px;
          position: relative;
        }

        .btn-google {
          background: white;
          color: #333;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          font-weight: 600;
          padding: 12px;
          border-radius: var(--radius-full);
          transition: filter 0.2s;
        }

        .btn-google:hover {
          filter: brightness(0.9);
        }

        .google-icon {
          font-weight: 900;
          color: #4285F4;
        }
        
        .auth-footer {
          text-align: center;
          margin-top: 24px;
          font-size: 0.9rem;
          color: var(--text-muted);
        }
        
        .btn-link {
          background: none;
          color: var(--primary);
          padding: 0;
          font-weight: 600;
          text-decoration: underline;
        }
      `})]})},MD=()=>{const{isAuthenticated:r}=ki(),[t,n]=Ne.useState("dashboard"),[s,l]=Ne.useState("landing");if(!r)return s==="login"?C.jsx(DD,{onNavigate:l}):s==="signup"?C.jsx(OD,{onNavigate:l}):C.jsx(ND,{onGetStarted:l});const u=()=>{switch(t){case"dashboard":return C.jsx(HE,{onStartWorkout:()=>n("workout")});case"workout":return C.jsx(ID,{onFinish:()=>n("dashboard")});case"history":return C.jsx(CD,{});case"badges":return C.jsx(xD,{});default:return C.jsx(HE,{})}};return C.jsx(ED,{activeTab:t,onTabChange:n,children:u()})};function VD(){return C.jsx(vD,{children:C.jsx(MD,{})})}wA.createRoot(document.getElementById("root")).render(C.jsx(Ne.StrictMode,{children:C.jsx(VD,{})}));
