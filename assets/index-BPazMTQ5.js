(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Dd={exports:{}},yl={};var H_;function iA(){if(H_)return yl;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var F_;function rA(){return F_||(F_=1,Dd.exports=iA()),Dd.exports}var C=rA(),Od={exports:{}},vt={};var G_;function sA(){if(G_)return vt;G_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function st(M,X,nt){this.props=M,this.context=X,this.refs=Z,this.updater=nt||K}st.prototype.isReactComponent={},st.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},st.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function dt(){}dt.prototype=st.prototype;function ht(M,X,nt){this.props=M,this.context=X,this.refs=Z,this.updater=nt||K}var Bt=ht.prototype=new dt;Bt.constructor=ht,J(Bt,st.prototype),Bt.isPureReactComponent=!0;var Zt=Array.isArray;function kt(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,X,nt){var rt=nt.ref;return{$$typeof:r,type:M,key:X,ref:rt!==void 0?rt:null,props:nt}}function V(M,X){return I(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var w=/\/+/g;function ne(M,X){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):X.toString(36)}function Re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(kt,kt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,nt,rt,yt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Mt=!1;if(M===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(M.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=M._init,F(Mt(M._payload),X,nt,rt,yt)}}if(Mt)return yt=yt(M),Mt=rt===""?"."+ne(M,0):rt,Zt(yt)?(nt="",Mt!=null&&(nt=Mt.replace(w,"$&/")+"/"),F(yt,X,nt,"",function(ss){return ss})):yt!=null&&(O(yt)&&(yt=V(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Mt)),X.push(yt)),1;Mt=0;var Ie=rt===""?".":rt+":";if(Zt(M))for(var ie=0;ie<M.length;ie++)rt=M[ie],St=Ie+ne(rt,ie),Mt+=F(rt,X,nt,St,yt);else if(ie=G(M),typeof ie=="function")for(M=ie.call(M),ie=0;!(rt=M.next()).done;)rt=rt.value,St=Ie+ne(rt,ie++),Mt+=F(rt,X,nt,St,yt);else if(St==="object"){if(typeof M.then=="function")return F(Re(M),X,nt,rt,yt);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(M,X,nt){if(M==null)return M;var rt=[],yt=0;return F(M,rt,"","",function(St){return X.call(nt,St,yt++)}),rt}function ct(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:et,forEach:function(M,X,nt){et(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return et(M,function(){X++}),X},toArray:function(M){return et(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=S,vt.Children=Ht,vt.Component=st,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=J({},M.props),yt=M.key;if(X!=null)for(St in X.key!==void 0&&(yt=""+X.key),X)!A.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(rt[St]=X[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Mt=Array(St),Ie=0;Ie<St;Ie++)Mt[Ie]=arguments[Ie+2];rt.children=Mt}return I(M.type,yt,rt)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,X,nt){var rt,yt={},St=null;if(X!=null)for(rt in X.key!==void 0&&(St=""+X.key),X)A.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=X[rt]);var Mt=arguments.length-2;if(Mt===1)yt.children=nt;else if(1<Mt){for(var Ie=Array(Mt),ie=0;ie<Mt;ie++)Ie[ie]=arguments[ie+2];yt.children=Ie}if(M&&M.defaultProps)for(rt in Mt=M.defaultProps,Mt)yt[rt]===void 0&&(yt[rt]=Mt[rt]);return I(M,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:g,render:M}},vt.isValidElement=O,vt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ct}},vt.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},vt.startTransition=function(M){var X=x.T,nt={};x.T=nt;try{var rt=M(),yt=x.S;yt!==null&&yt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,Ut)}catch(St){Ut(St)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),x.T=X}},vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},vt.use=function(M){return x.H.use(M)},vt.useActionState=function(M,X,nt){return x.H.useActionState(M,X,nt)},vt.useCallback=function(M,X){return x.H.useCallback(M,X)},vt.useContext=function(M){return x.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,X){return x.H.useDeferredValue(M,X)},vt.useEffect=function(M,X){return x.H.useEffect(M,X)},vt.useEffectEvent=function(M){return x.H.useEffectEvent(M)},vt.useId=function(){return x.H.useId()},vt.useImperativeHandle=function(M,X,nt){return x.H.useImperativeHandle(M,X,nt)},vt.useInsertionEffect=function(M,X){return x.H.useInsertionEffect(M,X)},vt.useLayoutEffect=function(M,X){return x.H.useLayoutEffect(M,X)},vt.useMemo=function(M,X){return x.H.useMemo(M,X)},vt.useOptimistic=function(M,X){return x.H.useOptimistic(M,X)},vt.useReducer=function(M,X,nt){return x.H.useReducer(M,X,nt)},vt.useRef=function(M){return x.H.useRef(M)},vt.useState=function(M){return x.H.useState(M)},vt.useSyncExternalStore=function(M,X,nt){return x.H.useSyncExternalStore(M,X,nt)},vt.useTransition=function(){return x.H.useTransition()},vt.version="19.2.0",vt}var Q_;function Rm(){return Q_||(Q_=1,Od.exports=sA()),Od.exports}var Ne=Rm(),Md={exports:{}},_l={},Vd={exports:{}},kd={};var K_;function aA(){return K_||(K_=1,(function(r){function t(F,et){var ct=F.length;F.push(et);t:for(;0<ct;){var Ut=ct-1>>>1,Ht=F[Ut];if(0<l(Ht,et))F[Ut]=et,F[ct]=Ht,ct=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ct=F.pop();if(ct!==et){F[0]=ct;t:for(var Ut=0,Ht=F.length,M=Ht>>>1;Ut<M;){var X=2*(Ut+1)-1,nt=F[X],rt=X+1,yt=F[rt];if(0>l(nt,ct))rt<Ht&&0>l(yt,nt)?(F[Ut]=yt,F[rt]=ct,Ut=rt):(F[Ut]=nt,F[X]=ct,Ut=X);else if(rt<Ht&&0>l(yt,ct))F[Ut]=yt,F[rt]=ct,Ut=rt;else break t}}return et}function l(F,et){var ct=F.sortIndex-et.sortIndex;return ct!==0?ct:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,S=null,D=3,G=!1,K=!1,J=!1,Z=!1,st=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Bt(F){for(var et=i(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=F)s(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Zt(F){if(J=!1,Bt(F),!K)if(i(_)!==null)K=!0,kt||(kt=!0,U());else{var et=i(y);et!==null&&Re(Zt,et.startTime-F)}}var kt=!1,x=-1,A=5,I=-1;function V(){return Z?!0:!(r.unstable_now()-I<A)}function O(){if(Z=!1,kt){var F=r.unstable_now();I=F;var et=!0;try{t:{K=!1,J&&(J=!1,dt(x),x=-1),G=!0;var ct=D;try{e:{for(Bt(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,D=S.priorityLevel;var Ht=Ut(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,Bt(F),et=!0;break e}S===i(_)&&s(_),Bt(F)}else s(_);S=i(_)}if(S!==null)et=!0;else{var M=i(y);M!==null&&Re(Zt,M.startTime-F),et=!1}}break t}finally{S=null,D=ct,G=!1}et=void 0}}finally{et?U():kt=!1}}}var U;if(typeof ht=="function")U=function(){ht(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=O,U=function(){ne.postMessage(null)}}else U=function(){st(O,0)};function Re(F,et){x=st(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return F()}finally{D=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=D;D=F;try{return et()}finally{D=ct}},r.unstable_scheduleCallback=function(F,et,ct){var Ut=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,F={id:b++,callback:et,priorityLevel:F,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Ut?(F.sortIndex=ct,t(y,F),i(_)===null&&F===i(y)&&(J?(dt(x),x=-1):J=!0,Re(Zt,ct-Ut))):(F.sortIndex=Ht,t(_,F),K||G||(K=!0,kt||(kt=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var et=D;return function(){var ct=D;D=et;try{return F.apply(this,arguments)}finally{D=ct}}}})(kd)),kd}var Y_;function oA(){return Y_||(Y_=1,Vd.exports=aA()),Vd.exports}var Ud={exports:{}},Ye={};var X_;function lA(){if(X_)return Ye;X_=1;var r=Rm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,b)},Ye.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:G}):b==="script"&&s.d.X(_,{crossOrigin:S,integrity:D,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var $_;function uA(){if($_)return Ud.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=lA(),Ud.exports}var J_;function cA(){if(J_)return _l;J_=1;var r=oA(),t=Rm(),i=uA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,o=f;break}if(T===o){p=!0,o=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,o=h;break}if(T===o){p=!0,o=f,a=h;break}T=T.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case st:return"Profiler";case Z:return"StrictMode";case Zt:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Re=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function M(e){return{current:e}}function X(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function nt(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var rt=M(null),yt=M(null),St=M(null),Mt=M(null);function Ie(e,n){switch(nt(St,n),nt(yt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?f_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=f_(n),e=d_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),nt(rt,e)}function ie(){X(rt),X(yt),X(St)}function ss(e){e.memoizedState!==null&&nt(Mt,e);var n=rt.current,a=d_(n,e.type);n!==a&&(nt(yt,e),nt(rt,a))}function Zs(e){yt.current===e&&(X(rt),X(yt)),Mt.current===e&&(X(Mt),dl._currentValue=ct)}var Ws,ta;function ni(e){if(Ws===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ws=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+ta}var fo=!1;function as(e,n){if(!e||fo)return"";fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function mo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return ni("Activity");default:return""}}function go(e){try{var n="",a=null;do n+=mo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,Oh=r.unstable_shouldYield,Yl=r.unstable_requestPaint,We=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,$l=r.log,Jl=r.unstable_setDisableYieldValue,zn=null,ze=null;function An(e){if(typeof $l=="function"&&Jl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var ce=Math.clz32?Math.clz32:Wl,Zl=Math.log,ea=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(Zl(e)/ea|0)|0}var ii=256,ls=262144,pe=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ri(o):(p&=T,p!==0?h=ri(p):a||(a=T&~e,a!==0&&(h=ri(a))))):(T=o&~f,T!==0?h=ri(T):p!==0?h=ri(p):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-ce(a),Y=1<<H;T[H]=0,R[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&cs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function cs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function _o(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ce(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function vo(e,n){var a=n&-n;return a=(a&42)!==0?1:hs(a),(a&(e.suspendedLanes|n))!==0?0:a}function hs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:U_(e.type))}function Bn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var qn=Math.random().toString(36).slice(2),ye="__reactFiber$"+qn,Ve="__reactProps$"+qn,oi="__reactContainer$"+qn,na="__reactEvents$"+qn,Uh="__reactListeners$"+qn,nu="__reactHandles$"+qn,iu="__reactResources$"+qn,li="__reactMarker$"+qn;function ia(e){delete e[ye],delete e[Ve],delete e[na],delete e[Uh],delete e[nu]}function ui(e){var n=e[ye];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=T_(e);e!==null;){if(a=e[ye])return a;e=T_(e)}return n}e=a,a=e.parentNode}return null}function wn(e){if(e=e[ye]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[li]=!0}var To=new Set,Eo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function ru(e){return ge.call(Ao,e)?!0:ge.call(So,e)?!1:bo.test(e)?Ao[e]=!0:(So[e]=!0,!1)}function ra(e,n,a){if(ru(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ve(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=hr(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function fs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=hr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ds=/[\n"\\]/g;function rn(e){return e.replace(ds,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,a,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,p,ke(n)):a!=null?Ro(e,p,ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ke(T):e.removeAttribute("name")}function su(e,n,a,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function Ro(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function dr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ou.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Co(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var xo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,mi=null;function ms(e){var n=wn(e);if(n&&(e=n.stateNode)){var a=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(s(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fs(o)}break t;case"textarea":au(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&fr(e,!!a.multiple,n,!1)}}}var la=!1;function pr(e,n,a){if(la)return e(n,a);la=!0;try{var o=e(n);return o}finally{if(la=!1,(gr!==null||mi!==null)&&(ec(),gr&&(n=gr,e=mi,mi=gr=null,ms(n),e)))for(n=0;n<e.length;n++)ms(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ve]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(In)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{gs=!1}var gi=null,No=null,ps=null;function Do(){if(ps)return ps;var e,n=No,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return ps=h.slice(e,1<o?1-o:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Gn(){return!1}function je(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=je(Pi),yr=S({},Pi,{view:0,detail:0}),Oo=je(yr),_r,ua,yi,ca=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(_r=e.screenX-yi.screenX,ua=e.screenY-yi.screenY):ua=_r=0,yi=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Mo=je(ca),_s=S({},ca,{dataTransfer:0}),uu=je(_s),cu=S({},yr,{relatedTarget:0}),vs=je(cu),Vo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=je(Vo),ha=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=je(ha),du=S({},Pi,{data:0}),_i=je(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function vr(){return yu}var tn=S({},yr,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=je(tn),vu=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=je(vu),c=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=je(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=je(v),L=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),tt=S({},Pi,{newState:0,oldState:0}),Et=je(tt),he=[9,13,27,32],zt=In&&"CompositionEvent"in window,re=null;In&&"documentMode"in document&&(re=document.documentMode);var Cn=In&&"TextEvent"in window&&!re,vi=In&&(!zt||re&&8<re&&11>=re),Qn=" ",Kn=!1;function Ts(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function Ib(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function Cb(e,n){if(da)return e==="compositionend"||!zt&&Ts(e,n)?(e=Do(),ps=No=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xb[e.type]:n==="textarea"}function Ag(e,n,a,o){gr?mi?mi.push(o):mi=[o]:gr=o,n=lc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ko=null,Uo=null;function Nb(e){a_(e,0)}function Tu(e){var n=dn(e);if(fs(n))return e}function wg(e,n){if(e==="change")return n}var Rg=!1;if(In){var Lh;if(In){var Ph="oninput"in document;if(!Ph){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ph=typeof Ig.oninput=="function"}Lh=Ph}else Lh=!1;Rg=Lh&&(!document.documentMode||9<document.documentMode)}function Cg(){ko&&(ko.detachEvent("onpropertychange",xg),Uo=ko=null)}function xg(e){if(e.propertyName==="value"&&Tu(Uo)){var n=[];Ag(n,Uo,e,Rn(e)),pr(Nb,n)}}function Db(e,n,a){e==="focusin"?(Cg(),ko=n,Uo=a,ko.attachEvent("onpropertychange",xg)):e==="focusout"&&Cg()}function Ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Uo)}function Mb(e,n){if(e==="click")return Tu(n)}function Vb(e,n){if(e==="input"||e==="change")return Tu(n)}function kb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:kb;function Lo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ge.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,n){var a=Ng(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ng(a)}}function Og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ub=In&&"documentMode"in document&&11>=document.documentMode,ma=null,jh=null,Po=null,Bh=!1;function Vg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||ma==null||ma!==di(o)||(o=ma,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=lc(jh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ma)))}function Es(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},qh={},kg={};In&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function bs(e){if(qh[e])return qh[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in kg)return qh[e]=n[a];return e}var Ug=bs("animationend"),Lg=bs("animationiteration"),Pg=bs("animationstart"),Lb=bs("transitionrun"),Pb=bs("transitionstart"),zb=bs("transitioncancel"),zg=bs("transitionend"),jg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Yn(e,n){jg.set(e,n),hi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],pa=0,Fh=0;function bu(){for(var e=pa,n=Fh=pa=0;n<e;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Bg(a,h,f)}}function Su(e,n,a,o){xn[pa++]=e,xn[pa++]=n,xn[pa++]=a,xn[pa++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return Su(e,n,a,o),Au(e)}function Ss(e,n){return Su(e,null,null,n),Au(e)}function Bg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Au(e){if(50<al)throw al=0,ed=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function jb(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,a,o){return new jb(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var a=e.alternate;return a===null?(a=pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=GS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,n,h),e.elementType=I,e.lanes=f,e;case J:return As(a.children,h,f,n);case Z:p=8,h|=24;break;case st:return e=pn(12,a,n,h|2),e.elementType=st,e.lanes=f,e;case Zt:return e=pn(13,a,n,h),e.elementType=Zt,e.lanes=f,e;case kt:return e=pn(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:p=10;break t;case dt:p=9;break t;case Bt:p=11;break t;case x:p=14;break t;case A:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function As(e,n,a,o){return e=pn(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=pn(6,e,null,n),e.lanes=a,e}function Hg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Fg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:go(n)},Fg.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var _a=[],va=0,Ru=null,zo=0,Dn=[],On=0,Tr=null,Ti=1,Ei="";function Bi(e,n){_a[va++]=zo,_a[va++]=Ru,Ru=e,zo=n}function Gg(e,n,a){Dn[On++]=Ti,Dn[On++]=Ei,Dn[On++]=Tr,Tr=e;var o=Ti;e=Ei;var h=32-ce(o)-1;o&=~(1<<h),a+=1;var f=32-ce(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-ce(n)+h|a<<h|o,Ei=f+e}else Ti=1<<f|a<<h|o,Ei=e}function Xh(e){e.return!==null&&(Bi(e,1),Gg(e,1,0))}function $h(e){for(;e===Ru;)Ru=_a[--va],_a[va]=null,zo=_a[--va],_a[va]=null;for(;e===Tr;)Tr=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Qg(e,n){Dn[On++]=Ti,Dn[On++]=Ei,Dn[On++]=Tr,Ti=n.id,Ei=n.overflow,Tr=e}var Be=null,Wt=null,Ot=!1,Er=null,Mn=!1,Jh=Error(s(519));function br(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Nn(n,e)),Jh}function Kg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ll.length;a++)Rt(ll[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),dr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||c_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||br(e,!0)}function Yg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function Ta(e){if(e!==Be)return!1;if(!Ot)return Yg(e),Ot=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&Wt&&br(e),Yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=v_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=v_(e)}else n===27?(n=Wt,Ur(e.type)?(e=Ed,Ed=null,Wt=e):Wt=n):Wt=Be?kn(e.stateNode.nextSibling):null;return!0}function ws(){Wt=Be=null,Ot=!1}function Zh(){var e=Er;return e!==null&&(un===null?un=e:un.push.apply(un,e),Er=null),e}function jo(e){Er===null?Er=[e]:Er.push(e)}var Wh=M(null),Rs=null,qi=null;function Sr(e,n,a){nt(Wh,n._currentValue),n._currentValue=a}function Hi(e){e._currentValue=Wh.current,X(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),tf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var T=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Xg(Rs,e)}function Cu(e,n){return Rs===null&&Is(e),Xg(e,n)}function Xg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return a}var Bb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},qb=r.unstable_scheduleCallback,Hb=r.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new Bb,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&qb(Hb,function(){e.controller.abort()})}var qo=null,rf=0,ba=0,Sa=null;function Fb(e,n){if(qo===null){var a=qo=[];rf=0,ba=od(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,n.then($g,$g),n}function $g(){if(--rf===0&&qo!==null){Sa!==null&&(Sa.status="fulfilled");var e=qo;qo=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Gb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Jg=F.S;F.S=function(e,n){Vy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Fb(e,n),Jg!==null&&Jg(e,n)};var Cs=M(null);function sf(){var e=Cs.current;return e!==null?e:Jt.pooledCache}function xu(e,n){n===null?nt(Cs,Cs.current):nt(Cs,n.pool)}function Zg(){var e=sf();return e===null?null:{parent:Te._currentValue,pool:e}}var Aa=Error(s(460)),af=Error(s(474)),Nu=Error(s(542)),Du={then:function(){}};function Wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,np(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,np(e),e}throw Ns=n,Aa}}function xs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ns=a,Aa):a}}var Ns=null;function ep(){if(Ns===null)throw Error(s(459));var e=Ns;return Ns=null,e}function np(e){if(e===Aa||e===Nu)throw Error(s(483))}var wa=null,Ho=0;function Ou(e){var n=Ho;return Ho+=1,wa===null&&(wa=[]),tp(wa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ip(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=ji(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,N,P,Q){return N===null||N.tag!==6?(N=Kh(P,k.mode,Q),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,Q){var ut=P.type;return ut===J?H(k,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&xs(ut)===N.type)?(N=h(N,P.props),Fo(N,P),N.return=k,N):(N=wu(P.type,P.key,P.props,null,k.mode,Q),Fo(N,P),N.return=k,N)}function z(k,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Yh(P,k.mode,Q),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function H(k,N,P,Q,ut){return N===null||N.tag!==7?(N=As(P,k.mode,Q,ut),N.return=k,N):(N=h(N,P),N.return=k,N)}function Y(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return P=wu(N.type,N.key,N.props,null,k.mode,P),Fo(P,N),P.return=k,P;case K:return N=Yh(N,k.mode,P),N.return=k,N;case A:return N=xs(N),Y(k,N,P)}if(Re(N)||U(N))return N=As(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return Y(k,Ou(N),P);if(N.$$typeof===ht)return Y(k,Cu(k,N),P);Mu(k,N)}return null}function j(k,N,P,Q){var ut=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:T(k,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?R(k,N,P,Q):null;case K:return P.key===ut?z(k,N,P,Q):null;case A:return P=xs(P),j(k,N,P,Q)}if(Re(P)||U(P))return ut!==null?null:H(k,N,P,Q,null);if(typeof P.then=="function")return j(k,N,Ou(P),Q);if(P.$$typeof===ht)return j(k,N,Cu(k,P),Q);Mu(k,P)}return null}function q(k,N,P,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(N,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,R(N,k,Q,ut);case K:return k=k.get(Q.key===null?P:Q.key)||null,z(N,k,Q,ut);case A:return Q=xs(Q),q(k,N,P,Q,ut)}if(Re(Q)||U(Q))return k=k.get(P)||null,H(N,k,Q,ut,null);if(typeof Q.then=="function")return q(k,N,P,Ou(Q),ut);if(Q.$$typeof===ht)return q(k,N,P,Cu(N,Q),ut);Mu(N,Q)}return null}function at(k,N,P,Q){for(var ut=null,Lt=null,ot=N,At=N=0,Ct=null;ot!==null&&At<P.length;At++){ot.index>At?(Ct=ot,ot=null):Ct=ot.sibling;var Pt=j(k,ot,P[At],Q);if(Pt===null){ot===null&&(ot=Ct);break}e&&ot&&Pt.alternate===null&&n(k,ot),N=f(Pt,N,At),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt,ot=Ct}if(At===P.length)return a(k,ot),Ot&&Bi(k,At),ut;if(ot===null){for(;At<P.length;At++)ot=Y(k,P[At],Q),ot!==null&&(N=f(ot,N,At),Lt===null?ut=ot:Lt.sibling=ot,Lt=ot);return Ot&&Bi(k,At),ut}for(ot=o(ot);At<P.length;At++)Ct=q(ot,k,At,P[At],Q),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?At:Ct.key),N=f(Ct,N,At),Lt===null?ut=Ct:Lt.sibling=Ct,Lt=Ct);return e&&ot.forEach(function(Br){return n(k,Br)}),Ot&&Bi(k,At),ut}function mt(k,N,P,Q){if(P==null)throw Error(s(151));for(var ut=null,Lt=null,ot=N,At=N=0,Ct=null,Pt=P.next();ot!==null&&!Pt.done;At++,Pt=P.next()){ot.index>At?(Ct=ot,ot=null):Ct=ot.sibling;var Br=j(k,ot,Pt.value,Q);if(Br===null){ot===null&&(ot=Ct);break}e&&ot&&Br.alternate===null&&n(k,ot),N=f(Br,N,At),Lt===null?ut=Br:Lt.sibling=Br,Lt=Br,ot=Ct}if(Pt.done)return a(k,ot),Ot&&Bi(k,At),ut;if(ot===null){for(;!Pt.done;At++,Pt=P.next())Pt=Y(k,Pt.value,Q),Pt!==null&&(N=f(Pt,N,At),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt);return Ot&&Bi(k,At),ut}for(ot=o(ot);!Pt.done;At++,Pt=P.next())Pt=q(ot,k,At,Pt.value,Q),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?At:Pt.key),N=f(Pt,N,At),Lt===null?ut=Pt:Lt.sibling=Pt,Lt=Pt);return e&&ot.forEach(function(nA){return n(k,nA)}),Ot&&Bi(k,At),ut}function $t(k,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;N!==null;){if(N.key===ut){if(ut=P.type,ut===J){if(N.tag===7){a(k,N.sibling),Q=h(N,P.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&xs(ut)===N.type){a(k,N.sibling),Q=h(N,P.props),Fo(Q,P),Q.return=k,k=Q;break t}a(k,N);break}else n(k,N);N=N.sibling}P.type===J?(Q=As(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=wu(P.type,P.key,P.props,null,k.mode,Q),Fo(Q,P),Q.return=k,k=Q)}return p(k);case K:t:{for(ut=P.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(k,N.sibling),Q=h(N,P.children||[]),Q.return=k,k=Q;break t}else{a(k,N);break}else n(k,N);N=N.sibling}Q=Yh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case A:return P=xs(P),$t(k,N,P,Q)}if(Re(P))return at(k,N,P,Q);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),mt(k,N,P,Q)}if(typeof P.then=="function")return $t(k,N,Ou(P),Q);if(P.$$typeof===ht)return $t(k,N,Cu(k,P),Q);Mu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,P),Q.return=k,k=Q):(a(k,N),Q=Kh(P,k.mode,Q),Q.return=k,k=Q),p(k)):a(k,N)}return function(k,N,P,Q){try{Ho=0;var ut=$t(k,N,P,Q);return wa=null,ut}catch(ot){if(ot===Aa||ot===Nu)throw ot;var Lt=pn(29,ot,null,k.mode);return Lt.lanes=Q,Lt.return=k,Lt}finally{}}}var Ds=ip(!0),rp=ip(!1),Ar=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),Bg(e,null,a),n}return Su(e,o,n,a),Au(e)}function Go(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function Qo(){if(cf){var e=Sa;if(e!==null)throw e}}function Ko(e,n,a,o){cf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==p&&(T===null?H.firstBaseUpdate=z:T.next=z,H.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,H=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(It&j)===j:(o&j)===j){j!==0&&j===ba&&(cf=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,mt=T;j=n;var $t=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call($t,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call($t,Y,j):at,j==null)break t;Y=S({},Y,j);break t;case 2:Ar=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(z=H=q,R=Y):H=H.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Dr|=p,e.lanes=p,e.memoizedState=Y}}function sp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sp(a[e],n)}var Ra=M(null),Vu=M(0);function op(e,n){e=Zi,nt(Vu,e),nt(Ra,n),Zi=e|n.baseLanes}function hf(){nt(Vu,Zi),nt(Ra,Ra.current)}function ff(){Zi=Vu.current,X(Ra),X(Vu)}var yn=M(null),Vn=null;function Ir(e){var n=e.alternate;nt(fe,fe.current&1),nt(yn,e),Vn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Vn=e)}function df(e){nt(fe,fe.current),nt(yn,e),Vn===null&&(Vn=e)}function lp(e){e.tag===22?(nt(fe,fe.current),nt(yn,e),Vn===null&&(Vn=e)):Cr()}function Cr(){nt(fe,fe.current),nt(yn,yn.current)}function _n(e){X(yn),Vn===e&&(Vn=null),X(fe)}var fe=M(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,bt=null,Yt=null,Ee=null,Uu=!1,Ia=!1,Os=!1,Lu=0,Yo=0,Ca=null,Qb=0;function le(){throw Error(s(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Gp:Nf,Os=!1,f=a(o,h),Os=!1,Ia&&(f=cp(n,a,o,h)),up(e),f}function up(e){F.H=Jo;var n=Yt!==null&&Yt.next!==null;if(Fi=0,Ee=Yt=bt=null,Uu=!1,Yo=0,Ca=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Iu(e)&&(be=!0))}function cp(e,n,a,o){bt=e;var h=0;do{if(Ia&&(Ca=null),Yo=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,Ee=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Qp,f=n(a,o)}while(Ia);return f}function Kb(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),n}function pf(){var e=Lu!==0;return Lu=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Fi=0,Ee=Yt=bt=null,Ia=!1,Yo=Lu=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function de(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ee===null?bt.memoizedState:Ee.next;if(n!==null)Ee=n,Yt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Ca===null&&(Ca=[]),e=tp(Ca,e,n),n=bt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Gp:Nf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ht)return qe(e)}throw Error(s(438,String(e)))}function vf(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Pu(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Gi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=de();return Tf(n,Yt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,H=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(It&Y)===Y:(Fi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ba&&(H=!0);else if((Fi&j)===j){z=z.next,j===ba&&(H=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Y,p=f):R=R.next=Y,bt.lanes|=j,Dr|=j;Y=z.action,Os&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,bt.lanes|=Y,Dr|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!gn(f,e.memoizedState)&&(be=!0,H&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function hp(e,n,a){var o=bt,h=de(),f=Ot;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!gn((Yt||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,Af(mp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},dp.bind(null,o,h,a,n),null),Jt===null)throw Error(s(349));f||(Fi&127)!==0||fp(o,n,a)}return a}function fp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function dp(e,n,a,o){n.value=a,n.getSnapshot=o,gp(n)&&pp(e)}function mp(e,n,a){return a(function(){gp(n)&&pp(e)})}function gp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function pp(e){var n=Ss(e,2);n!==null&&cn(n,e,2)}function bf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Os){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function yp(e,n,a,o){return e.baseState=a,Tf(e,Yt,typeof o=="function"?o:Gi)}function Yb(e,n,a,o,h){if(Hu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,_p(n,f)):(f.next=a.next,n.pending=a.next=f)}}function _p(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=a(h,o),R=F.S;R!==null&&R(p,T),vp(e,n,T)}catch(z){Sf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),vp(e,n,f)}catch(z){Sf(e,n,z)}}function vp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tp(e,n,o)},function(o){return Sf(e,n,o)}):Tp(e,n,a)}function Tp(e,n,a){n.status="fulfilled",n.value=a,Ep(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,_p(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ep(n),n=n.next;while(n!==o)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bp(e,n){return n}function Sp(e,n){if(Ot){var a=Jt.formState;if(a!==null){t:{var o=bt;if(Ot){if(Wt){e:{for(var h=Wt,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=kn(h.nextSibling),o=h.data==="F!";break t}}br(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},a.queue=o,a=qp.bind(null,bt,o),o.dispatch=a,o=bf(!1),f=xf.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=Yb.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Ap(e){var n=de();return wp(n,Yt,e)}function wp(e,n,a){if(n=Tf(e,n,bp)[0],e=ju(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===Aa?Nu:p}else o=n;n=de();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,xa(9,{destroy:void 0},Xb.bind(null,h,a),null)),[o,f,e]}function Xb(e,n){e.action=n}function Rp(e){var n=de(),a=Yt;if(a!==null)return wp(n,a,e);de(),n=n.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function xa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ip(){return de().memoizedState}function Bu(e,n,a,o){var h=en();bt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function qu(e,n,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&mf(o,Yt.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(bt.flags|=e,h.memoizedState=xa(1|n,f,a,o))}function Cp(e,n){Bu(8390656,8,e,n)}function Af(e,n){qu(2048,8,e,n)}function $b(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Pu(),bt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function xp(e){var n=de().memoizedState;return $b({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Np(e,n){return qu(4,2,e,n)}function Dp(e,n){return qu(4,4,e,n)}function Op(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mp(e,n,a){a=a!=null?a.concat([e]):null,qu(4,4,Op.bind(null,n,e),a)}function wf(){}function Vp(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function kp(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Os){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(Fi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Uy(),bt.lanes|=e,Dr|=e,a)}function Up(e,n,a,o){return gn(a,n)?a:Ra.current!==null?(e=Rf(e,a,o),gn(e,n)||(be=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=a):(e=Uy(),bt.lanes|=e,Dr|=e,n)}function Lp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,xf(e,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=Gb(R,o);$o(e,n,H,En(e))}else $o(e,n,o,En(e))}catch(Y){$o(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{et.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function Jb(){}function If(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Pp(e).queue;Lp(e,h,n,ct,a===null?Jb:function(){return zp(e),a(o)})}function Pp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Pp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},En())}function Cf(){return qe(dl)}function jp(){return de().memoizedState}function Bp(){return de().memoizedState}function Zb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();e=wr(a);var o=Rr(n,e,a);o!==null&&(cn(o,n,a),Go(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function Wb(e,n,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Hp(n,a):(a=Gh(e,n,a,o),a!==null&&(cn(a,e,o),Fp(a,n,o)))}function qp(e,n,a){var o=En();$o(e,n,a,o)}function $o(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Hp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,p))return Su(e,n,h,0),Jt===null&&bu(),!1}catch{}finally{}if(a=Gh(e,n,h,o),a!==null)return cn(a,e,o),Fp(a,n,o),!0}return!1}function xf(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(s(479))}else n=Gh(e,a,o,2),n!==null&&cn(n,e,2)}function Hu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Hp(e,n){Ia=Uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Fp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}var Jo={readContext:qe,use:zu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Jo.useEffectEvent=le;var Gp={readContext:qe,use:zu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Cp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Bu(4194308,4,Op.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Os){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Os){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Wb.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,a=qp.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=en();return Rf(a,e,n)},useTransition:function(){var e=bf(!1);return e=Lp.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=en();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||fp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Cp(mp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},dp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Jt.identifierPrefix;if(Ot){var a=Ei,o=Ti;a=(o&~(1<<32-ce(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Qb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=Zb.bind(null,bt)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((jt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:qe,use:zu,useCallback:Vp,useContext:qe,useEffect:Af,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:ju,useRef:Ip,useState:function(){return ju(Gi)},useDebugValue:wf,useDeferredValue:function(e,n){var a=de();return Up(a,Yt.memoizedState,e,n)},useTransition:function(){var e=ju(Gi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Cf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var a=de();return yp(a,Yt,e,n)},useMemoCache:vf,useCacheRefresh:Bp};Nf.useEffectEvent=xp;var Qp={readContext:qe,use:zu,useCallback:Vp,useContext:qe,useEffect:Af,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:Ef,useRef:Ip,useState:function(){return Ef(Gi)},useDebugValue:wf,useDeferredValue:function(e,n){var a=de();return Yt===null?Rf(a,e,n):Up(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Ef(Gi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Cf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var a=de();return Yt!==null?yp(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Bp};Qp.useEffectEvent=xp;function Df(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Of={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=En(),h=wr(o);h.payload=n,a!=null&&(h.callback=a),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=En(),h=wr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=En(),o=wr(a);o.tag=2,n!=null&&(o.callback=n),n=Rr(e,o,a),n!==null&&(cn(n,e,a),Go(n,e,a))}};function Kp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,f):!0}function Yp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Xp(e){Eu(e)}function $p(e){console.error(e)}function Jp(e){Eu(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function Wp(e){return e=wr(e),e.tag=3,e}function ty(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Zp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Zp(n,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function tS(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?nc():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return a.flags|=65536,o===Du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),rd(e,o,h)),!1}throw Error(s(435,a.tag))}return rd(e,o,h),nc(),!1}if(Ot)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(s(422),{cause:o}),jo(Nn(e,a)))):(o!==Jh&&(n=Error(s(423),{cause:o}),jo(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=Mf(e.stateNode,o,h),uf(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Nn(f,a),sl===null?sl=[f]:sl.push(f),ue!==4&&(ue=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wp(h),ty(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),be=!1;function He(e,n,a,o){n.child=e===null?rp(n,null,a,o):Ds(n,e.child,a,o)}function ey(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Is(n),o=gf(e,n,a,p,f,h),T=pf(),e!==null&&!be?(yf(e,n,h),Qi(e,n,h)):(Ot&&T&&Xh(n),n.flags|=1,He(e,n,o,h),n.child)}function ny(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,iy(e,n,f,o,h)):(e=wu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(p,o)&&e.ref===n.ref)return Qi(e,n,h)}return n.flags|=1,e=ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Qi(e,n,h)}return kf(e,n,a,o,h)}function ry(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?op(n,f):hf(),lp(n);else return o=n.lanes=536870912,sy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(n,f.cachePool),op(n,f),Cr(),n.memoizedState=null):(e!==null&&xu(n,null),hf(),Cr());return He(e,n,h,a),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(e,n,a,o,h){var f=sf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),hf(),lp(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Gu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ay(e,n,a){return Ds(n,e.child,null,a),e=Gu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function eS(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=Gu(n,o),n.lanes=536870912,Zo(null,e);if(df(n),(e=Wt)?(e=__(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Hg(e),a.return=n,n.child=a,Be=n,Wt=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return Gu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ay(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Ea(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Jt,o!==null&&(p=vo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ss(e,p),cn(o,e,p),Vf;nc(),n=ay(e,n,a)}else e=f.treeContext,Wt=kn(p.nextSibling),Be=n,Ot=!0,Er=null,Mn=!1,e!==null&&Qg(n,e),n=Gu(n,o),n.flags|=4096;return n}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function kf(e,n,a,o,h){return Is(n),a=gf(e,n,a,o,void 0,h),o=pf(),e!==null&&!be?(yf(e,n,h),Qi(e,n,h)):(Ot&&o&&Xh(n),n.flags|=1,He(e,n,a,h),n.child)}function oy(e,n,a,o,h,f){return Is(n),n.updateQueue=null,a=cp(n,o,a,h),up(e),o=pf(),e!==null&&!be?(yf(e,n,f),Qi(e,n,f)):(Ot&&o&&Xh(n),n.flags|=1,He(e,n,a,f),n.child)}function ly(e,n,a,o,h){if(Is(n),n.stateNode===null){var f=ya,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Ms(a,T);f.props=R;var z=f.context,H=a.contextType;p=ya,typeof H=="object"&&H!==null&&(p=qe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Yp(n,f,o,p),Ar=!1;var j=n.memoizedState;f.state=j,Ko(n,o,f,h),Qo(),z=n.memoizedState,T||j!==z||Ar?(typeof Y=="function"&&(Df(n,a,Y,o),z=n.memoizedState),(R=Ar||Kp(n,a,R,o,j,z,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,H=Ms(a,p),f.props=H,Y=n.pendingProps,j=f.context,z=a.contextType,R=ya,typeof z=="object"&&z!==null&&(R=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==R)&&Yp(n,f,o,R),Ar=!1,j=n.memoizedState,f.state=j,Ko(n,o,f,h),Qo();var q=n.memoizedState;p!==Y||j!==q||Ar||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof T=="function"&&(Df(n,a,T,o),q=n.memoizedState),(H=Ar||Kp(n,a,H,o,j,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ds(n,e.child,null,h),n.child=Ds(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Qi(e,n,h),e}function uy(e,n,a,o){return ws(),n.flags|=256,He(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Zg()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function cy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(h?Ir(n):Cr(),(e=Wt)?(e=__(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Hg(e),a.return=n,n.child=a,Be=n,Wt=null)):e=null,e===null)throw br(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Cr(),h=n.mode,T=Ku({mode:"hidden",children:T},h),o=As(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,Zo(null,o)):(Ir(n),zf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ir(n),n.flags&=-257,n=jf(e,n,a)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),T=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),T=As(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Ds(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Pf(e,p,a),n.memoizedState=Uf,n=Zo(null,o));else if(Ir(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(s(419)),o.stack="",o.digest=p,jo({value:o,source:null,stack:null}),n=jf(e,n,a)}else if(be||Ea(e,n,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=Jt,p!==null&&(o=vo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ss(e,o),cn(p,e,o),Vf;vd(T)||nc(),n=jf(e,n,a)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=kn(T.nextSibling),Be=n,Ot=!0,Er=null,Mn=!1,e!==null&&Qg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Cr(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=As(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Zo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Zg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,p,a),n.memoizedState=Uf,Zo(e.child,o)):(Ir(n),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function jf(e,n,a){return Ds(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function Bf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function fy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=fe.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,nt(fe,p),He(e,n,o,a),o=Ot?zo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,a,n);else if(e.tag===19)hy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(n,!0,a,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ea(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ji(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function nS(e,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Sr(n,Te,e.memoizedState.cache),ws();break;case 27:case 5:ss(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cy(e,n,a):(Ir(n),e=Qi(e,n,a),e!==null?e.sibling:null);Ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ea(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return fy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,ry(e,n,a,n.pendingProps);case 24:Sr(n,Te,e.memoizedState.cache)}return Qi(e,n,a)}function dy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!qf(e,a)&&(n.flags&128)===0)return be=!1,nS(e,n,a);be=(e.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&Gg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xs(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Ms(e,o),n.tag=1,n=ly(null,n,e,o,a)):(n.tag=0,n=kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=ey(null,n,e,o,a);break t}else if(h===x){n.tag=14,n=ny(null,n,e,o,a);break t}}throw n=ne(e)||e,Error(s(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ms(o,n.pendingProps),ly(e,n,o,h,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Ko(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Sr(n,Te,o),o!==f.cache&&ef(n,[Te],a,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(e,n,o,a);break t}else if(o!==h){h=Nn(Error(s(424)),n),jo(h),n=uy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=kn(e.firstChild),Be=n,Ot=!0,Er=null,Mn=!0,a=rp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ws(),o===h){n=Qi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return Qu(e,n),e===null?(a=A_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,e=n.pendingProps,o=uc(St.current).createElement(a),o[ye]=n,o[Ve]=e,Fe(o,a,e),_e(o),n.stateNode=o):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ss(n),e===null&&Ot&&(o=n.stateNode=E_(n.type,n.pendingProps,St.current),Be=n,Mn=!0,h=Wt,Ur(n.type)?(Ed=h,Wt=kn(o.firstChild)):Wt=h),He(e,n,n.pendingProps.children,a),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((h=o=Wt)&&(o=OS(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,Wt=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||br(n)),ss(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,Kb,null,null,a),dl._currentValue=h),Qu(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Ot&&((e=a=Wt)&&(a=MS(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Be=n,Wt=null,e=!0):e=!1),e||br(n)),null;case 13:return cy(e,n,a);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ds(n,null,o,a):He(e,n,o,a),n.child;case 11:return ey(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Is(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return ny(e,n,n.type,n.pendingProps,a);case 15:return iy(e,n,n.type,n.pendingProps,a);case 19:return fy(e,n,a);case 31:return eS(e,n,a);case 22:return ry(e,n,a,n.pendingProps);case 24:return Is(n),o=qe(Te),e===null?(h=sf(),h===null&&(h=Jt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Sr(n,Te,h)):((e.lanes&a)!==0&&(lf(e,n),Ko(n,null,null,a),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,Te,o)):(o=f.cache,Sr(n,Te,o),o!==h.cache&&ef(n,[Te],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ki(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(jy())e.flags|=8192;else throw Ns=Du,af}else e.flags&=-16777217}function my(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(n))if(jy())e.flags|=8192;else throw Ns=Du,af}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Ma|=n)}function Wo(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function iS(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(Te),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(te(n),my(n,f)):(te(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(Ki(n),te(n),my(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),te(n),Hf(n,h,e,o,a)),null;case 27:if(Zs(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}e=rt.current,Ta(n)?Kg(n):(e=E_(h,o,a),n.stateNode=e,Ki(n))}return te(n),null;case 5:if(Zs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=rt.current,Ta(n))Kg(n);else{var p=uc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ye]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return te(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||c_(e.nodeValue,a)),e||br(n,!0)}else e=uc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Yu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&hd(n.stateNode.containerInfo),te(n),null;case 10:return Hi(n.type),te(n),null;case 19:if(X(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)qg(a,e),a=a.sibling;return nt(fe,fe.current&1|2),Ot&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>Wu&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*We()-o.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=fe.current,nt(fe,h?a&1|2:a&1),Ot&&Bi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return _n(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Yu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&X(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Hi(Te),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rS(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(Te),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(fe),null;case 4:return ie(),null;case 10:return Hi(n.type),null;case 22:case 23:return _n(n),ff(),e!==null&&X(Cs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hi(Te),null;case 25:return null;default:return null}}function gy(e,n){switch($h(n),n.tag){case 3:Hi(Te),ie();break;case 26:case 27:case 5:Zs(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(fe);break;case 10:Hi(n.type);break;case 22:case 23:_n(n),ff(),e!==null&&X(Cs);break;case 24:Hi(Te)}}function tl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(T){Qt(n,n.return,T)}}function xr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(H){Qt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function py(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ap(n,a)}catch(o){Qt(e,e.return,o)}}}function yy(e,n,a){a.props=Ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,n,o)}}function el(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,n,h)}}function bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,n,h)}else a.current=null}function _y(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;RS(o,e.type,a,n),o[Ve]=n}catch(h){Qt(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function Xu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xu(e,n,a),e=e.sibling;e!==null;)Xu(e,n,a),e=e.sibling}function Ty(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ye]=e,n[Ve]=a}catch(f){Qt(e,e.return,f)}}var Yi=!1,Se=!1,Kf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function sS(e,n){if(e=e.containerInfo,md=pc,e=Mg(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,R=-1,z=0,H=0,Y=e,j=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(T=p),j===f&&++H===o&&(R=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},pc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Ms(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function by(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&tl(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(a,a.return,p)}else{var h=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(a,a.return,p)}}o&64&&py(a),o&512&&el(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ap(e,n)}catch(p){Qt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:$i(e,a),n===null&&o&4&&_y(a),o&512&&el(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&wy(e,a);break;case 13:$i(e,a),o&4&&Ry(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mS.bind(null,a),VS(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Yi;var f=Se;Yi=o,(Se=n)&&!f?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Se=f}break;case 30:break;default:$i(e,a)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,an=!1;function Xi(e,n,a){for(a=a.child;a!==null;)Ay(e,n,a),a=a.sibling}function Ay(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Se||bi(a,n),Xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||bi(a,n);var o=se,h=an;Ur(a.type)&&(se=a.stateNode,an=!1),Xi(e,n,a),cl(a.stateNode),se=o,an=h;break;case 5:Se||bi(a,n);case 6:if(o=se,h=an,se=null,Xi(e,n,a),se=o,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:se!==null&&(an?(e=se,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):p_(se,a.stateNode));break;case 4:o=se,h=an,se=a.stateNode.containerInfo,an=!0,Xi(e,n,a),se=o,an=h;break;case 0:case 11:case 14:case 15:xr(2,a,n),Se||xr(4,a,n),Xi(e,n,a);break;case 1:Se||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&yy(a,n,o)),Xi(e,n,a);break;case 21:Xi(e,n,a);break;case 22:Se=(o=Se)||a.memoizedState!==null,Xi(e,n,a),Se=o;break;default:Xi(e,n,a)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){Qt(n,n.return,a)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){Qt(n,n.return,a)}}function aS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ey),n;default:throw Error(s(435,e.tag))}}function $u(e,n){var a=aS(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=gS.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Ur(T.type)){se=T.stateNode,an=!1;break t}break;case 5:se=T.stateNode,an=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(se===null)throw Error(s(160));Ay(f,p,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var Xn=null;function Iy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(xr(3,e,e.return),tl(3,e),xr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Se||a===null||bi(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,e),ln(e),o&512&&(Se||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ye]=e,_e(f),o=f;break t;case"link":var p=I_("link","href",h).get(o+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(p=I_("meta","content",h).get(o+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else C_(h,e.type,e.stateNode);else e.stateNode=R_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?C_(h,e.type,e.stateNode):R_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Se||a===null||bi(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Se||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(fc=null,h=Xn,Xn=cc(n.containerInfo),on(n,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(at){Qt(e,e.return,at)}Kf&&(Kf=!1,Cy(e));break;case 4:o=Xn,Xn=cc(e.stateNode.containerInfo),on(n,e),ln(e),Xn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Yi,H=Se;if(Yi=z||h,Se=H||R,on(n,e),Se=H,Yi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Yi||Se||Vs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Qt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Qt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?y_(q,!0):y_(R.stateNode,!1)}catch(at){Qt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,$u(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(vy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);Xu(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var T=Gf(e);Xu(e,T,p);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Gf(e);Qf(e,z,R);break;default:throw Error(s(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function Vs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Vs(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yy(n,n.return,a),Vs(n);break;case 27:cl(n.stateNode);case 26:case 5:bi(n,n.return),Vs(n);break;case 22:n.memoizedState===null&&Vs(n);break;case 30:Vs(n);break;default:Vs(n)}e=e.sibling}}function Ji(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),tl(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)sp(R[h],T)}catch(z){Qt(o,o.return,z)}}a&&p&64&&py(f),el(f,f.return);break;case 27:Ty(f);case 26:case 5:Ji(h,f,a),a&&o===null&&p&4&&_y(f),el(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&p&4&&wy(h,f);break;case 13:Ji(h,f,a),a&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),el(f,f.return);break;case 30:break;default:Ji(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bo(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(e,n,a,o),n=n.sibling}function xy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&tl(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):nl(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Na(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:$n(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:$n(e,n,a,o)}}function Na(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=a,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,T,R,h),tl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Na(f,p,T,R,h):nl(f,p):(H._visibility|=2,Na(f,p,T,R,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Na(f,p,T,R,h),h&&z&2048&&Xf(p.alternate,p);break;default:Na(f,p,T,R,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:nl(a,o),h&2048&&Yf(o.alternate,o);break;case 24:nl(a,o),h&2048&&Xf(o.alternate,o);break;default:nl(a,o)}n=n.sibling}}var il=8192;function Da(e,n,a){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Ny(e,n,a),e=e.sibling}function Ny(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&il&&e.memoizedState!==null&&QS(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Xn;Xn=cc(e.stateNode.containerInfo),Da(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Da(e,n,a),il=o):Da(e,n,a));break;default:Da(e,n,a)}}function Dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,My(o,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):rl(e);break;default:rl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,My(o,e)}Dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),Ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function My(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:xr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Sy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var oS={getCacheForType:function(e){var n=qe(Te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,jt=0,Jt=null,wt=null,It=0,Gt=0,vn=null,Nr=!1,Oa=!1,$f=!1,Zi=0,ue=0,Dr=0,ks=0,Jf=0,Tn=0,Ma=0,sl=null,un=null,Zf=!1,Zu=0,Vy=0,Wu=1/0,tc=null,Or=null,xe=0,Mr=null,Va=null,Wi=0,Wf=0,td=null,ky=null,al=0,ed=null;function En(){return(jt&2)!==0&&It!==0?It&-It:F.T!==null?od():eu()}function Uy(){if(Tn===0)if((It&536870912)===0||Ot){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),Tn=e}else Tn=536870912;return e=yn.current,e!==null&&(e.flags|=32),Tn}function cn(e,n,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Vr(e,It,Tn,!1)),us(e,a),((jt&2)===0||e!==Jt)&&(e===Jt&&((jt&2)===0&&(ks|=a),ue===4&&Vr(e,It,Tn,!1)),Si(e))}function Ly(e,n,a){if((jt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?hS(e,n):id(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Vr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!uS(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=sl;var R=T.current.memoizedState.isDehydrated;if(R&&(ka(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,Tn,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Zu+300-We(),10<h)){if(Vr(o,n,Tn,!Nr),si(o,0,!0)!==0)break t;Wi=n,o.timeoutHandle=m_(Py.bind(null,o,a,un,tc,Zf,n,Tn,ks,Ma,Nr,f,"Throttled",-0,0),h);break t}Py(o,a,un,tc,Zf,n,Tn,ks,Ma,Nr,f,null,-0,0)}}break}while(!0);Si(e)}function Py(e,n,a,o,h,f,p,T,R,z,H,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ny(n,f,Y);var at=(f&62914560)===f?Zu-We():(f&4194048)===f?Vy-We():0;if(at=KS(Y,at),at!==null){Wi=f,e.cancelPendingCommit=at(Qy.bind(null,e,n,f,a,o,h,p,T,R,H,Y,null,j,q)),Vr(e,f,p,!z);return}}Qy(e,n,f,a,o,h,p,T,R)}function uS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,a,o){n&=~Jf,n&=~ks,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&cs(e,a,n)}function ec(){return(jt&6)===0?(ol(0),!1):!0}function nd(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,qi=Rs=null,_f(e),wa=null,Ho=0,e=wt;for(;e!==null;)gy(e.alternate,e),e=e.return;wt=null}}function ka(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,xS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,nd(),Jt=e,wt=a=ji(e.current,null),It=n,Gt=0,vn=null,Nr=!1,Oa=jn(e,n),$f=!1,Ma=Tn=Jf=ks=Dr=ue=0,un=sl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Zi=n,bu(),a}function zy(e,n){bt=null,F.H=Jo,n===Aa||n===Nu?(n=ep(),Gt=3):n===af?(n=ep(),Gt=4):Gt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,wt===null&&(ue=1,Fu(e,Nn(n,e.current)))}function jy(){var e=yn.current;return e===null?!0:(It&4194048)===It?Vn===null:(It&62914560)===It||(It&536870912)!==0?e===Vn:!1}function By(){var e=F.H;return F.H=Jo,e===null?Jo:e}function qy(){var e=F.A;return F.A=oS,e}function nc(){ue=4,Nr||(It&4194048)!==It&&yn.current!==null||(Oa=!0),(Dr&134217727)===0&&(ks&134217727)===0||Jt===null||Vr(Jt,It,Tn,!1)}function id(e,n,a){var o=jt;jt|=2;var h=By(),f=qy();(Jt!==e||It!==n)&&(tc=null,ka(e,n)),n=!1;var p=ue;t:do try{if(Gt!==0&&wt!==null){var T=wt,R=vn;switch(Gt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Gt;if(Gt=0,vn=null,Ua(e,T,R,z),a&&Oa){p=0;break t}break;default:z=Gt,Gt=0,vn=null,Ua(e,T,R,z)}}cS(),p=ue;break}catch(H){zy(e,H)}while(!0);return n&&e.shellSuspendCounter++,qi=Rs=null,jt=o,F.H=h,F.A=f,wt===null&&(Jt=null,It=0,bu()),p}function cS(){for(;wt!==null;)Hy(wt)}function hS(e,n){var a=jt;jt|=2;var o=By(),h=qy();Jt!==e||It!==n?(tc=null,Wu=We()+500,ka(e,n)):Oa=jn(e,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=vn;e:switch(Gt){case 1:Gt=0,vn=null,Ua(e,n,f,1);break;case 2:case 9:if(Wg(f)){Gt=0,vn=null,Fy(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),Si(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Wg(f)?(Gt=0,vn=null,Fy(n)):(Gt=0,vn=null,Ua(e,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var T=wt;if(p?x_(p):T.stateNode.complete){Gt=0,vn=null;var R=T.sibling;if(R!==null)wt=R;else{var z=T.return;z!==null?(wt=z,ic(z)):wt=null}break e}}Gt=0,vn=null,Ua(e,n,f,5);break;case 6:Gt=0,vn=null,Ua(e,n,f,6);break;case 8:nd(),ue=6;break t;default:throw Error(s(462))}}fS();break}catch(H){zy(e,H)}while(!0);return qi=Rs=null,F.H=o,F.A=h,jt=a,wt!==null?0:(Jt=null,It=0,bu(),ue)}function fS(){for(;wt!==null&&!Oh();)Hy(wt)}function Hy(e){var n=dy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?ic(e):wt=n}function Fy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=oy(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=oy(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:_f(n);default:gy(a,n),n=wt=qg(n,Zi),n=dy(a,n,Zi)}e.memoizedProps=e.pendingProps,n===null?ic(e):wt=n}function Ua(e,n,a,o){qi=Rs=null,_f(n),wa=null,Ho=0;var h=n.return;try{if(tS(e,h,n,a,It)){ue=1,Fu(e,Nn(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Fu(e,Nn(a,e.current)),wt=null;return}n.flags&32768?(Ot||o===1?e=!0:Oa||(It&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Gy(n,Nr);return}e=n.return;var a=iS(n.alternate,n,Zi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Gy(e,n){do{var a=rS(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ue=6,wt=null}function Qy(e,n,a,o,h,f,p,T,R){e.cancelPendingCommit=null;do rc();while(xe!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,a,f,p,T,R),e===Jt&&(wt=Jt=null,It=0),Va=n,Mr=e,Wi=a,Wf=f,td=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pS(cr,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,p=jt,jt|=4;try{sS(e,n,a)}finally{jt=p,et.p=h,F.T=o}}xe=1,Ky(),Yy(),Xy()}}function Ky(){if(xe===1){xe=0;var e=Mr,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{Iy(n,e);var f=gd,p=Mg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var z=R.start,H=R.end;if(H===void 0&&(H=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(H,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=T.textContent.length,mt=Math.min(R.start,at),$t=R.end===void 0?mt:Math.min(R.end,at);!q.extend&&mt>$t&&(p=$t,$t=mt,mt=p);var k=Dg(T,mt),N=Dg(T,$t);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>$t?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pc=!!md,gd=md=null}finally{jt=h,et.p=o,F.T=a}}e.current=n,xe=2}}function Yy(){if(xe===2){xe=0;var e=Mr,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{by(e,n.alternate,n)}finally{jt=h,et.p=o,F.T=a}}xe=3}}function Xy(){if(xe===4||xe===3){xe=0,Yl();var e=Mr,n=Va,a=Wi,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Va=Mr=null,$y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Ui(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,et.p=h}}(Wi&3)!==0&&rc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?al++:(al=0,ed=e):al=0,ol(0)}}function $y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function rc(){return Ky(),Yy(),Xy(),Jy()}function Jy(){if(xe!==5)return!1;var e=Mr,n=Wf;Wf=0;var a=Ui(Wi),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=td,td=null;var f=Mr,p=Wi;if(xe=0,Va=Mr=null,Wi=0,(jt&6)!==0)throw Error(s(331));var T=jt;if(jt|=4,Oy(f.current),xy(f,f.current,p,a),jt=T,ol(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,F.T=o,$y(e,n)}}function Zy(e,n,a){n=Nn(a,n),n=Mf(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(us(e,2),Si(e))}function Qt(e,n,a){if(e.tag===3)Zy(e,e,a);else for(;n!==null;){if(n.tag===3){Zy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=Nn(a,e),a=Wp(2),o=Rr(n,a,2),o!==null&&(ty(a,o,n,e),us(o,2),Si(o));break}}n=n.return}}function rd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new lS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=dS.bind(null,e,n,a),n.then(e,e))}function dS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(It&a)===a&&(ue===4||ue===3&&(It&62914560)===It&&300>We()-Zu?(jt&2)===0&&ka(e,0):Jf|=a,Ma===It&&(Ma=0)),Si(e)}function Wy(e,n){n===0&&(n=tu()),e=Ss(e,n),e!==null&&(us(e,n),Si(e))}function mS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Wy(e,a)}function gS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Wy(e,a)}function pS(e,n){return Ce(e,n)}var sc=null,La=null,sd=!1,ac=!1,ad=!1,kr=0;function Si(e){e!==La&&e.next===null&&(La===null?sc=La=e:La=La.next=e),ac=!0,sd||(sd=!0,_S())}function ol(e,n){if(!ad&&ac){ad=!0;do for(var a=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,i_(o,f))}else f=It,f=si(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,i_(o,f));o=o.next}while(a);ad=!1}}function yS(){t_()}function t_(){ac=sd=!1;var e=0;kr!==0&&CS()&&(e=kr);for(var n=We(),a=null,o=sc;o!==null;){var h=o.next,f=e_(o,n);f===0?(o.next=null,a===null?sc=h:a.next=h,h===null&&(La=a)):(a=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}xe!==0&&xe!==5||ol(e),kr!==0&&(kr=0)}function e_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ce(f),T=1<<p,R=h[p];R===-1?((T&a)===0||(T&o)!==0)&&(h[p]=Vh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=Jt,a=It,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ur(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ur(o),Ui(a)){case 2:case 8:a=yo;break;case 32:a=cr;break;case 268435456:a=Xl;break;default:a=cr}return o=n_.bind(null,e),a=Ce(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ur(o),e.callbackPriority=2,e.callbackNode=null,2}function n_(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var o=It;return o=si(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,n),e_(e,We()),e.callbackNode!=null&&e.callbackNode===a?n_.bind(null,e):null)}function i_(e,n){if(rc())return null;Ly(e,n,!0)}function _S(){NS(function(){(jt&6)!==0?Ce(po,yS):t_()})}function od(){if(kr===0){var e=ba;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),kr=e}return kr}function r_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function s_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function vS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=r_((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?r_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new pi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(kr!==0){var R=p?s_(h,p):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?s_(h,p):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],TS=ud.toLowerCase(),ES=ud[0].toUpperCase()+ud.slice(1);Yn(TS,"on"+ES)}Yn(Ug,"onAnimationEnd"),Yn(Lg,"onAnimationIteration"),Yn(Pg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Lb,"onTransitionRun"),Yn(Pb,"onTransitionStart"),Yn(zb,"onTransitionCancel"),Yn(zg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function a_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(H){Eu(H)}h.currentTarget=null,f=R}}}}function Rt(e,n){var a=n[na];a===void 0&&(a=n[na]=new Set);var o=e+"__bubble";a.has(o)||(o_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),o_(a,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[oc]){e[oc]=!0,To.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,cd("selectionchange",!1,n))}}function o_(e,n,a,o){switch(U_(n)){case 2:var h=$S;break;case 8:h=JS;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ui(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}pr(function(){var z=f,H=Rn(a),Y=[];t:{var j=jg.get(e);if(j!==void 0){var q=pi,at=e;switch(e){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":at="focus",q=vs;break;case"focusout":at="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ug:case Lg:case Pg:q=hu;break;case zg:q=E;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=Et}var mt=(n&4)!==0,$t=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Fn(N,k),Q!=null&&mt.push(ul(N,Q,P))),$t)break;N=N.return}0<mt.length&&(j=new q(j,at,null,a,H),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==xo&&(at=a.relatedTarget||a.fromElement)&&(ui(at)||at[oi]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=z,at=at?ui(at):null,at!==null&&($t=u(at),mt=at.tag,at!==$t||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(mt=Mo,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=zi,Q="onPointerLeave",k="onPointerEnter",N="pointer"),$t=q==null?j:dn(q),P=at==null?j:dn(at),j=new mt(Q,N+"leave",q,a,H),j.target=$t,j.relatedTarget=P,Q=null,ui(H)===z&&(mt=new mt(k,N+"enter",at,a,H),mt.target=P,mt.relatedTarget=$t,Q=mt),$t=Q,q&&at)e:{for(mt=SS,k=q,N=at,P=0,Q=k;Q;Q=mt(Q))P++;Q=0;for(var ut=N;ut;ut=mt(ut))Q++;for(;0<P-Q;)k=mt(k),P--;for(;0<Q-P;)N=mt(N),Q--;for(;P--;){if(k===N||N!==null&&k===N.alternate){mt=k;break e}k=mt(k),N=mt(N)}mt=null}else mt=null;q!==null&&l_(Y,j,q,mt,!1),at!==null&&$t!==null&&l_(Y,$t,at,mt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Lt=wg;else if(Sg(j))if(Rg)Lt=Vb;else{Lt=Ob;var ot=Db}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Lt=wg):Lt=Mb;if(Lt&&(Lt=Lt(e,z))){Ag(Y,Lt,a,H);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ro(j,"number",j.value)}switch(ot=z?dn(z):window,e){case"focusin":(Sg(ot)||ot.contentEditable==="true")&&(ma=ot,jh=z,Po=null);break;case"focusout":Po=jh=ma=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Vg(Y,a,H);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":Vg(Y,a,H)}var At;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else da?Ts(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(vi&&a.locale!=="ko"&&(da||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&da&&(At=Do()):(gi=H,No="value"in gi?gi.value:gi.textContent,da=!0)),ot=lc(z,Ct),0<ot.length&&(Ct=new _i(Ct,e,null,a,H),Y.push({event:Ct,listeners:ot}),At?Ct.data=At:(At=fa(a),At!==null&&(Ct.data=At)))),(At=Cn?Ib(e,a):Cb(e,a))&&(Ct=lc(z,"onBeforeInput"),0<Ct.length&&(ot=new _i("onBeforeInput","beforeinput",null,a,H),Y.push({event:ot,listeners:Ct}),ot.data=At)),vS(Y,e,z,a,H)}a_(Y,n)})}function ul(e,n,a){return{instance:e,listener:n,currentTarget:a}}function lc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(ul(e,h,f)),h=Fn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function SS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Fn(a,f),z!=null&&p.unshift(ul(a,z,R))):h||(z=Fn(a,f),z!=null&&p.push(ul(a,z,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var AS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(AS,`
`).replace(wS,"")}function c_(e,n){return n=u_(n),u_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lu.get(a)||a,ra(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ra(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,p,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(e,n,o,H,a,null)}}su(e,f,T,R,z,p,h,!1);return;case"select":Rt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:Xt(e,n,h,T,a,null)}n=f,a=p,e.multiple=!!o,n!=null?fr(e,!!o,n,!1):a!=null&&fr(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,n,p,T,a,null)}dr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Rt(ll[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,z,o,a,null)}return;default:if(aa(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&dd(e,n,H,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Xt(e,n,T,o,a,null))}function RS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,H=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&Xt(e,n,j,q,o,Y)}}sa(e,p,T,R,z,H,f,h);return;case"select":q=p=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=T,a=p,o=q,j!=null?fr(e,!!a,j,!1):!!o!=!!a&&(n!=null?fr(e,!!a,n,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}au(e,j,q);return;case"option":for(var at in a)if(j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Xt(e,n,at,null,o,j)}for(R in o)if(j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Xt(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(e,n,z,j,o,q)}return;default:if(aa(n)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!o.hasOwnProperty($t)&&dd(e,n,$t,void 0,o,j);for(H in o)j=o[H],q=a[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||dd(e,n,H,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Xt(e,n,k,null,o,j);for(Y in o)j=o[Y],q=a[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Xt(e,n,Y,j,o,q)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&h_(p)){for(p=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>T)break;var H=R.transferSize,Y=R.initiatorType;H&&h_(Y)&&(R=R.responseEnd,p+=H*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function f_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function CS(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(DS)}:m_;function DS(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function p_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&cl(e.ownerDocument.body);a=h}while(a);Ba(n)}function y_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function OS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function MS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function __(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function v_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function E_(e,n,a){switch(n=uc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Un=new Map,b_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=et.d;et.d={f:kS,r:US,D:LS,C:PS,L:zS,m:jS,X:qS,S:BS,M:HS};function kS(){var e=tr.f(),n=ec();return e||n}function US(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):tr.r(e)}var Pa=typeof document>"u"?null:document;function S_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),_e(n),o.head.appendChild(n)))}}function LS(e){tr.D(e),S_("dns-prefetch",e,null)}function PS(e,n){tr.C(e,n),S_("preconnect",e,n)}function zS(e,n,a){tr.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Fe(n,"link",e),_e(n),o.head.appendChild(n)))}}function jS(e,n){tr.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(f)))return}o=a.createElement("link"),Fe(o,"link",e),_e(o),a.head.appendChild(o)}}}function BS(e,n,a){tr.S(e,n,a);var o=Pa;if(o&&e){var h=ci(o).hoistableStyles,f=za(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(hl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(f))&&bd(e,a);var R=p=o.createElement("link");_e(R),Fe(R,"link",e),R._p=new Promise(function(z,H){R.onload=z,R.onerror=H}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function qS(e,n){tr.X(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&Sd(e,n),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HS(e,n){tr.M(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Sd(e,n),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,n,a,o){var h=(h=St.current)?cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=za(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=za(a.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(hl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||FS(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function za(e){return'href="'+rn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function FS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),_e(n),e.head.appendChild(n))}function ja(e){return'[src="'+rn(e)+'"]'}function fl(e){return"script[async]"+e}function R_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),Fe(o,"style",h),hc(o,a.precedence,e),n.instance=o;case"stylesheet":h=za(a.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=w_(a),(h=Un.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Fe(f,"link",o),n.state.loading|=4,hc(f,a.precedence,e),n.instance=f;case"script":return f=ja(a.src),(h=e.querySelector(fl(f)))?(n.instance=h,_e(h),h):(o=a,(h=Un.get(f))&&(o=S({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,a.precedence,e));return n.instance}function hc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function I_(e,n,a){if(fc===null){var o=new Map,h=fc=new Map;h.set(a,o)}else h=fc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function C_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function GS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=za(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,o=w_(o),(h=Un.get(h))&&bd(o,h),f=f.createElement("link"),_e(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function KS(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*IS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(YS,e),mc=null,dc.call(e))}function YS(e,n){if(!(n.state.loading&4)){var a=mc.get(e);if(a)var o=a.get(null);else{a=new Map,mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function XS(e,n,a,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function N_(e,n,a,o,h,f,p,T,R,z,H,Y){return e=new XS(e,n,a,p,R,z,H,Y,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function D_(e){return e?(e=ya,e):ya}function O_(e,n,a,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Rr(e,o,n),a!==null&&(cn(a,e,n),Go(a,e,n))}function M_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){M_(e,n),(e=e.alternate)&&M_(e,n)}function V_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&cn(n,e,67108864),wd(e,67108864)}}function k_(e){if(e.tag===13||e.tag===31){var n=En();n=hs(n);var a=Ss(e,n);a!==null&&cn(a,e,n),wd(e,n)}}var pc=!0;function $S(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Rd(e,n,a,o)}finally{et.p=f,F.T=h}}function JS(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Rd(e,n,a,o)}finally{et.p=f,F.T=h}}function Rd(e,n,a,o){if(pc){var h=Id(o);if(h===null)fd(e,n,o,yc,a),L_(e,o);else if(WS(h,e,n,a,o))o.stopPropagation();else if(L_(e,o),n&4&&-1<ZS.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-ce(p);T.entanglements[1]|=R,p&=~R}Si(f),(jt&6)===0&&(Wu=We()+500,ol(0))}}break;case 31:case 13:T=Ss(f,2),T!==null&&cn(T,f,2),ec(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,yc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=Rn(e),Cd(e)}var yc=null;function Cd(e){if(yc=null,e=ui(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function U_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case po:return 2;case yo:return 8;case cr:case Mh:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var xd=!1,Lr=null,Pr=null,zr=null,ml=new Map,gl=new Map,jr=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&V_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function WS(e,n,a,o,h){switch(n){case"focusin":return Lr=pl(Lr,e,n,a,o,h),!0;case"dragenter":return Pr=pl(Pr,e,n,a,o,h),!0;case"mouseover":return zr=pl(zr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,e,n,a,o,h)),!0}return!1}function P_(e){var n=ui(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){k_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){k_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);xo=o,a.target.dispatchEvent(o),xo=null}else return n=wn(a),n!==null&&V_(n),e.blockedOn=a,!1;n.shift()}return!0}function z_(e,n,a){_c(e)&&a.delete(n)}function tA(){xd=!1,Lr!==null&&_c(Lr)&&(Lr=null),Pr!==null&&_c(Pr)&&(Pr=null),zr!==null&&_c(zr)&&(zr=null),ml.forEach(z_),gl.forEach(z_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tA)))}var Tc=null;function j_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=wn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ba(e){function n(R){return vc(R,e)}Lr!==null&&vc(Lr,e),Pr!==null&&vc(Pr,e),zr!==null&&vc(zr,e),ml.forEach(n),gl.forEach(n);for(var a=0;a<jr.length;a++){var o=jr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ve]||null;if(typeof f=="function")p||j_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),j_(a)}}}function B_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Ec.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=En();O_(a,o,e,n,null,null)},Ec.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;O_(e.current,2,null,e,null,null),ec(),n[oi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<jr.length&&n!==0&&n<jr[a].priority;a++);jr.splice(a,0,e),a===0&&P_(e)}};var q_=t.version;if(q_!=="19.2.0")throw Error(s(527,q_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var eA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{zn=bc.inject(eA),ze=bc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Xp,f=$p,p=Jp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=N_(e,1,!1,null,null,a,o,null,h,f,p,B_),e[oi]=n.current,hd(e),new Nd(n)},_l.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Xp,p=$p,T=Jp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=N_(e,1,!0,n,a??null,o,h,R,f,p,T,B_),n.context=D_(null),a=n.current,o=En(),o=hs(o),h=wr(o),h.callback=null,Rr(a,h,o),a=o,n.current.lanes=a,us(n,a),Si(n),e[oi]=n.current,hd(e),new Ec(n)},_l.version="19.2.0",_l}var Z_;function hA(){if(Z_)return Md.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=cA(),Md.exports}var fA=hA();const dA=()=>{};var W_={};const k0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=u>>2,S=(u&3)<<4|g>>4;let D=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(D=64)),s.push(i[b],i[S],i[D],i[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(k0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||y==null||S==null)throw new gA;const D=u<<2|g>>4;if(s.push(D),y!==64){const G=g<<4&240|y>>2;if(s.push(G),S!==64){const K=y<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(r){const t=k0(r);return U0.encodeByteArray(t,!0)},jc=function(r){return pA(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&L0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return dA()||_A()||vA()||TA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P0=r=>lh()?.emulatorHosts?.[r],EA=r=>{const t=P0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},z0=()=>lh()?.config,j0=r=>lh()?.[`_${r}`];class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}function SA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Sl={};function AA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function wA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let tv=!1;function q0(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Sl[r]===t||Sl[r]||tv)return;Sl[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=AA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{tv=!0,d()},D}function b(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=wA(s),G=i("text"),K=document.getElementById(G)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),st=i("preprendIcon"),dt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;g(ht),b(Z,J);const Bt=y();_(dt,st),ht.append(dt,K,Z,Bt),document.body.appendChild(ht)}u?(K.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function IA(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function G0(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function OA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const MA="FirebaseError";class ei extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=MA,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?VA(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ei(l,g,s)}}function VA(r,t){return r.replace(kA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const kA=/\{\$([^}]+)}/g;function UA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function rr(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(ev(u)&&ev(d)){if(!rr(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function LA(r,t){const i=new PA(r,t);return i.subscribe.bind(i)}class PA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");zA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}const jA=1e3,BA=2,qA=14400*1e3,HA=.5;function nv(r,t=jA,i=BA){const s=t*Math.pow(i,r),l=Math.round(HA*s*(Math.random()-.5)*2);return Math.min(qA,s+l)}function Pe(r){return r&&r._delegate?r._delegate:r}class ti{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class FA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new bA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QA(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(r){return r===Us?void 0:r}function QA(r){return r.instantiationMode==="EAGER"}class KA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new FA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const YA={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},XA=xt.INFO,$A={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},JA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=$A[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uh{constructor(t){this.name=t,this._logLevel=XA,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const ZA=(r,t)=>t.some(i=>r instanceof i);let iv,rv;function WA(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,tm=new WeakMap,K0=new WeakMap,Pd=new WeakMap,Im=new WeakMap;function e1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(Kr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Q0.set(i,r)}).catch(()=>{}),Im.set(t,r),t}function n1(r){if(tm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Kr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function i1(r){em=r(em)}function r1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(zd(this),t,...i);return K0.set(s,t.sort?t.sort():[t]),Kr(s)}:t1().includes(r)?function(...t){return r.apply(zd(this),t),Kr(Q0.get(this))}:function(...t){return Kr(r.apply(zd(this),t))}}function s1(r){return typeof r=="function"?r1(r):(r instanceof IDBTransaction&&n1(r),ZA(r,WA())?new Proxy(r,em):r)}function Kr(r){if(r instanceof IDBRequest)return e1(r);if(Pd.has(r))return Pd.get(r);const t=s1(r);return t!==r&&(Pd.set(r,t),Im.set(t,r)),t}const zd=r=>Im.get(r);function Y0(r,t,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=Kr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Kr(d.result),_.oldVersion,_.newVersion,Kr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],jd=new Map;function sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=o1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||a1.includes(i)))return;const u=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return jd.set(t,u),u}i1(r=>({...r,get:(t,i,s)=>sv(t,i)||r.get(t,i,s),has:(t,i)=>!!sv(t,i)||r.has(t,i)}));class l1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(u1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function u1(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",av="0.14.6";const sr=new uh("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",p1="@firebase/auth-compat",y1="@firebase/database",_1="@firebase/data-connect",v1="@firebase/database-compat",T1="@firebase/functions",E1="@firebase/functions-compat",b1="@firebase/installations",S1="@firebase/installations-compat",A1="@firebase/messaging",w1="@firebase/messaging-compat",R1="@firebase/performance",I1="@firebase/performance-compat",C1="@firebase/remote-config",x1="@firebase/remote-config-compat",N1="@firebase/storage",D1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/ai",V1="@firebase/firestore-compat",k1="firebase",U1="12.6.0";const im="[DEFAULT]",L1={[nm]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[g1]:"fire-auth",[p1]:"fire-auth-compat",[y1]:"fire-rtdb",[_1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[T1]:"fire-fn",[E1]:"fire-fn-compat",[b1]:"fire-iid",[S1]:"fire-iid-compat",[A1]:"fire-fcm",[w1]:"fire-fcm-compat",[R1]:"fire-perf",[I1]:"fire-perf-compat",[C1]:"fire-rc",[x1]:"fire-rc-compat",[N1]:"fire-gcs",[D1]:"fire-gcs-compat",[O1]:"fire-fst",[V1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};const Bc=new Map,P1=new Map,rm=new Map;function ov(r,t){try{r.container.addComponent(t)}catch(i){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Di(r){const t=r.name;if(rm.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const i of Bc.values())ov(i,r);for(const i of P1.values())ov(i,r);return!0}function Xs(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Ys("app","Firebase",z1);class j1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const ao=U1;function X0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:im,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(i||(i=z0()),!i)throw Yr.create("no-options");const u=Bc.get(l);if(u){if(rr(i,u.options)&&rr(s,u.config))return u;throw Yr.create("duplicate-app",{appName:l})}const d=new KA(l);for(const _ of rm.values())d.addComponent(_);const g=new j1(i,s,d);return Bc.set(l,g),g}function Cm(r=im){const t=Bc.get(r);if(!t&&r===im&&z0())return X0();if(!t)throw Yr.create("no-app",{appName:r});return t}function Pn(r,t,i){let s=L1[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}Di(new ti(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const B1="firebase-heartbeat-database",q1=1,Nl="firebase-heartbeat-store";let Bd=null;function $0(){return Bd||(Bd=Y0(B1,q1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function H1(r){try{const i=(await $0()).transaction(Nl),s=await i.objectStore(Nl).get(J0(r));return await i.done,s}catch(t){if(t instanceof ei)sr.warn(t.message);else{const i=Yr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(i.message)}}}async function lv(r,t){try{const s=(await $0()).transaction(Nl,"readwrite");await s.objectStore(Nl).put(t,J0(r)),await s.done}catch(i){if(i instanceof ei)sr.warn(i.message);else{const s=Yr.create("idb-set",{originalErrorMessage:i?.message});sr.warn(s.message)}}}function J0(r){return`${r.name}!${r.options.appId}`}const F1=1024,G1=30;class Q1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Y1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G1){const l=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:s}=K1(this._heartbeatsCache.heartbeats),l=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sr.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function K1(r,t=F1){const i=[];let s=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),cv(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),cv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?G0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await H1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cv(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function X1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function $1(r){Di(new ti("platform-logger",t=>new l1(t),"PRIVATE")),Di(new ti("heartbeat",t=>new Q1(t),"PRIVATE")),Pn(nm,av,r),Pn(nm,av,"esm2020"),Pn("fire-js","")}$1("");var J1="firebase",Z1="12.6.0";Pn(J1,Z1,"app");const Z0="@firebase/installations",xm="0.6.19";const W0=1e4,tT=`w:${xm}`,eT="FIS_v2",W1="https://firebaseinstallations.googleapis.com/v1",tw=3600*1e3,ew="installations",nw="Installations";const iw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qs=new Ys(ew,nw,iw);function nT(r){return r instanceof ei&&r.code.includes("request-failed")}function iT({projectId:r}){return`${W1}/projects/${r}/installations`}function rT(r){return{token:r.token,requestStatus:2,expiresIn:sw(r.expiresIn),creationTime:Date.now()}}async function sT(r,t){const s=(await t.json()).error;return qs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function aT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function rw(r,{refreshToken:t}){const i=aT(r);return i.append("Authorization",aw(t)),i}async function oT(r){const t=await r();return t.status>=500&&t.status<600?r():t}function sw(r){return Number(r.replace("s","000"))}function aw(r){return`${eT} ${r}`}async function ow({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=iT(r),l=aT(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:eT,appId:r.appId,sdkVersion:tT},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await oT(()=>fetch(s,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:rT(y.authToken)}}else throw await sT("Create Installation",_)}function lT(r){return new Promise(t=>{setTimeout(t,r)})}function lw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const uw=/^[cdef][\w-]{21}$/,sm="";function cw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=hw(r);return uw.test(i)?i:sm}catch{return sm}}function hw(r){return lw(r).substr(0,22)}function ch(r){return`${r.appName}!${r.appId}`}const uT=new Map;function cT(r,t){const i=ch(r);hT(i,t),fw(i,t)}function hT(r,t){const i=uT.get(r);if(i)for(const s of i)s(t)}function fw(r,t){const i=dw();i&&i.postMessage({key:r,fid:t}),mw()}let Ls=null;function dw(){return!Ls&&"BroadcastChannel"in self&&(Ls=new BroadcastChannel("[Firebase] FID Change"),Ls.onmessage=r=>{hT(r.data.key,r.data.fid)}),Ls}function mw(){uT.size===0&&Ls&&(Ls.close(),Ls=null)}const gw="firebase-installations-database",pw=1,Hs="firebase-installations-store";let qd=null;function Nm(){return qd||(qd=Y0(gw,pw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Hs)}}})),qd}async function qc(r,t){const i=ch(r),l=(await Nm()).transaction(Hs,"readwrite"),u=l.objectStore(Hs),d=await u.get(i);return await u.put(t,i),await l.done,(!d||d.fid!==t.fid)&&cT(r,t.fid),t}async function fT(r){const t=ch(r),s=(await Nm()).transaction(Hs,"readwrite");await s.objectStore(Hs).delete(t),await s.done}async function hh(r,t){const i=ch(r),l=(await Nm()).transaction(Hs,"readwrite"),u=l.objectStore(Hs),d=await u.get(i),g=t(d);return g===void 0?await u.delete(i):await u.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&cT(r,g.fid),g}async function Dm(r){let t;const i=await hh(r.appConfig,s=>{const l=yw(s),u=_w(r,l);return t=u.registrationPromise,u.installationEntry});return i.fid===sm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function yw(r){const t=r||{fid:cw(),registrationStatus:0};return dT(t)}function _w(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(qs.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=vw(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Tw(r)}:{installationEntry:t}}async function vw(r,t){try{const i=await ow(r,t);return qc(r.appConfig,i)}catch(i){throw nT(i)&&i.customData.serverCode===409?await fT(r.appConfig):await qc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Tw(r){let t=await hv(r.appConfig);for(;t.registrationStatus===1;)await lT(100),t=await hv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Dm(r);return s||i}return t}function hv(r){return hh(r,t=>{if(!t)throw qs.create("installation-not-found");return dT(t)})}function dT(r){return Ew(r)?{fid:r.fid,registrationStatus:0}:r}function Ew(r){return r.registrationStatus===1&&r.registrationTime+W0<Date.now()}async function bw({appConfig:r,heartbeatServiceProvider:t},i){const s=Sw(r,i),l=rw(r,i),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:tT,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},_=await oT(()=>fetch(s,g));if(_.ok){const y=await _.json();return rT(y)}else throw await sT("Generate Auth Token",_)}function Sw(r,{fid:t}){return`${iT(r)}/${t}/authTokens:generate`}async function Om(r,t=!1){let i;const s=await hh(r.appConfig,u=>{if(!mT(u))throw qs.create("not-registered");const d=u.authToken;if(!t&&Rw(d))return u;if(d.requestStatus===1)return i=Aw(r,t),u;{if(!navigator.onLine)throw qs.create("app-offline");const g=Cw(u);return i=ww(r,g),g}});return i?await i:s.authToken}async function Aw(r,t){let i=await fv(r.appConfig);for(;i.authToken.requestStatus===1;)await lT(100),i=await fv(r.appConfig);const s=i.authToken;return s.requestStatus===0?Om(r,t):s}function fv(r){return hh(r,t=>{if(!mT(t))throw qs.create("not-registered");const i=t.authToken;return xw(i)?{...t,authToken:{requestStatus:0}}:t})}async function ww(r,t){try{const i=await bw(r,t),s={...t,authToken:i};return await qc(r.appConfig,s),i}catch(i){if(nT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await fT(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await qc(r.appConfig,s)}throw i}}function mT(r){return r!==void 0&&r.registrationStatus===2}function Rw(r){return r.requestStatus===2&&!Iw(r)}function Iw(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+tw}function Cw(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function xw(r){return r.requestStatus===1&&r.requestTime+W0<Date.now()}async function Nw(r){const t=r,{installationEntry:i,registrationPromise:s}=await Dm(t);return s?s.catch(console.error):Om(t).catch(console.error),i.fid}async function Dw(r,t=!1){const i=r;return await Ow(i),(await Om(i,t)).token}async function Ow(r){const{registrationPromise:t}=await Dm(r);t&&await t}function Mw(r){if(!r||!r.options)throw Hd("App Configuration");if(!r.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw Hd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Hd(r){return qs.create("missing-app-config-values",{valueName:r})}const gT="installations",Vw="installations-internal",kw=r=>{const t=r.getProvider("app").getImmediate(),i=Mw(t),s=Xs(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Uw=r=>{const t=r.getProvider("app").getImmediate(),i=Xs(t,gT).getImmediate();return{getId:()=>Nw(i),getToken:l=>Dw(i,l)}};function Lw(){Di(new ti(gT,kw,"PUBLIC")),Di(new ti(Vw,Uw,"PRIVATE"))}Lw();Pn(Z0,xm);Pn(Z0,xm,"esm2020");const Hc="analytics",Pw="firebase_id",zw="origin",jw=60*1e3,Bw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mm="https://www.googletagmanager.com/gtag/js";const nn=new uh("@firebase/analytics");const qw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new Ys("analytics","Analytics",qw);function Hw(r){if(!r.startsWith(Mm)){const t=Sn.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(t.message),""}return r}function pT(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function Fw(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function Gw(r,t){const i=Fw("firebase-js-sdk-policy",{createScriptURL:Hw}),s=document.createElement("script"),l=`${Mm}?l=${r}&id=${t}`;s.src=i?i?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function Qw(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function Kw(r,t,i,s,l,u){const d=s[l];try{if(d)await t[d];else{const _=(await pT(i)).find(y=>y.measurementId===l);_&&await t[_.appId]}}catch(g){nn.error(g)}r("config",l,u)}async function Yw(r,t,i,s,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await pT(i);for(const _ of d){const y=g.find(S=>S.measurementId===_),b=y&&t[y.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,l||{})}catch(u){nn.error(u)}}function Xw(r,t,i,s){async function l(u,...d){try{if(u==="event"){const[g,_]=d;await Yw(r,t,i,g,_)}else if(u==="config"){const[g,_]=d;await Kw(r,t,i,s,g,_)}else if(u==="consent"){const[g,_]=d;r("consent",g,_)}else if(u==="get"){const[g,_,y]=d;r("get",g,_,y)}else if(u==="set"){const[g]=d;r("set",g)}else r(u,...d)}catch(g){nn.error(g)}}return l}function $w(r,t,i,s,l){let u=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=Xw(u,r,t,i),{gtagCore:u,wrappedGtag:window[l]}}function Jw(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Mm)&&i.src.includes(r))return i;return null}const Zw=30,Ww=1e3;class tR{constructor(t={},i=Ww){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const yT=new tR;function eR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function nR(r){const{appId:t,apiKey:i}=r,s={method:"GET",headers:eR(i)},l=Bw.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function iR(r,t=yT,i){const{appId:s,apiKey:l,measurementId:u}=r.options;if(!s)throw Sn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new aR;return setTimeout(async()=>{g.abort()},jw),_T({appId:s,apiKey:l,measurementId:u},d,g,t)}async function _T(r,{throttleEndTimeMillis:t,backoffCount:i},s,l=yT){const{appId:u,measurementId:d}=r;try{await rR(s,t)}catch(g){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await nR(r);return l.deleteThrottleMetadata(u),g}catch(g){const _=g;if(!sR(_)){if(l.deleteThrottleMetadata(u),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:d};throw g}const y=Number(_?.customData?.httpStatus)===503?nv(i,l.intervalMillis,Zw):nv(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(u,b),nn.debug(`Calling attemptFetch again in ${y} millis`),_T(r,b,s,l)}}function rR(r,t){return new Promise((i,s)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(i,l);r.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sR(r){if(!(r instanceof ei)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class aR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function oR(r,t,i,s,l){if(l&&l.global){r("event",i,s);return}else{const u=await t,d={...s,send_to:u};r("event",i,d)}}async function lR(r,t,i,s){if(s&&s.global){const l={};for(const u of Object.keys(i))l[`user_properties.${u}`]=i[u];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:i})}}async function uR(){if(F0())try{await G0()}catch(r){return nn.warn(Sn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return nn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cR(r,t,i,s,l,u,d){const g=iR(r);g.then(D=>{i[D.measurementId]=D.appId,r.options.measurementId&&D.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>nn.error(D)),t.push(g);const _=uR().then(D=>{if(D)return s.getId()}),[y,b]=await Promise.all([g,_]);Jw(u)||Gw(u,y.measurementId),l("js",new Date);const S=d?.config??{};return S[zw]="firebase",S.update=!0,b!=null&&(S[Pw]=b),l("config",y.measurementId,S),y.measurementId}class hR{constructor(t){this.app=t}_delete(){return delete Qa[this.app.options.appId],Promise.resolve()}}let Qa={},dv=[];const mv={};let Fd="dataLayer",fR="gtag",gv,Vm,pv=!1;function dR(){const r=[];if(H0()&&r.push("This is a browser extension environment."),OA()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),i=Sn.create("invalid-analytics-context",{errorInfo:t});nn.warn(i.message)}}function mR(r,t,i){dR();const s=r.options.appId;if(!s)throw Sn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(Qa[s]!=null)throw Sn.create("already-exists",{id:s});if(!pv){Qw(Fd);const{wrappedGtag:u,gtagCore:d}=$w(Qa,dv,mv,Fd,fR);Vm=u,gv=d,pv=!0}return Qa[s]=cR(r,dv,mv,t,gv,Fd,i),new hR(r)}function gR(r=Cm()){r=Pe(r);const t=Xs(r,Hc);return t.isInitialized()?t.getImmediate():pR(r)}function pR(r,t={}){const i=Xs(r,Hc);if(i.isInitialized()){const l=i.getImmediate();if(rr(t,i.getOptions()))return l;throw Sn.create("already-initialized")}return i.initialize({options:t})}function yR(r,t,i){r=Pe(r),lR(Vm,Qa[r.app.options.appId],t,i).catch(s=>nn.error(s))}function _R(r,t,i,s){r=Pe(r),oR(Vm,Qa[r.app.options.appId],t,i,s).catch(l=>nn.error(l))}const yv="@firebase/analytics",_v="0.10.19";function vR(){Di(new ti(Hc,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return mR(s,l,i)},"PUBLIC")),Di(new ti("analytics-internal",r,"PRIVATE")),Pn(yv,_v),Pn(yv,_v,"esm2020");function r(t){try{const i=t.getProvider(Hc).getImmediate();return{logEvent:(s,l,u)=>_R(i,s,l,u),setUserProperties:(s,l)=>yR(i,s,l)}}catch(i){throw Sn.create("interop-component-reg-failed",{reason:i})}}}vR();function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=vT,TT=new Ys("auth","Firebase",vT());const Fc=new uh("@firebase/auth");function ER(r,...t){Fc.logLevel<=xt.WARN&&Fc.warn(`Auth (${ao}): ${r}`,...t)}function Nc(r,...t){Fc.logLevel<=xt.ERROR&&Fc.error(`Auth (${ao}): ${r}`,...t)}function Oi(r,...t){throw Um(r,...t)}function Wn(r,...t){return Um(r,...t)}function km(r,t,i){const s={...TR(),[t]:i};return new Ys("auth","Firebase",s).create(t,{appName:r.name})}function js(r){return km(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bR(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Oi(r,"argument-error"),km(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return TT.create(r,...t)}function pt(r,t,...i){if(!r)throw Um(t,...i)}function nr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function ar(r,t){r||nr(t)}function am(){return typeof self<"u"&&self.location?.href||""}function SR(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}function AR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||H0()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ar(i>t,"Short delay should be less than long delay!"),this.isMobile=RA()||xA()}get(){return AR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(r,t){ar(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class ET{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new zl(3e4,6e4);function Pm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,i,s,l={}){return bT(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const g=Pl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...u};return CA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),ET.fetch()(await ST(r,r.config.apiHost,i,g),y)})}async function bT(r,t,i){r._canInitEmulator=!1;const s={...RR,...t};try{const l=new NR(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw km(r,b,y);Oi(r,b)}}catch(l){if(l instanceof ei)throw l;Oi(r,"network-request-failed",{message:String(l)})}}async function xR(r,t,i,s,l={}){const u=await oo(r,t,i,s,l);return"mfaPendingCredential"in u&&Oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ST(r,t,i,s){const l=`${t}${i}?${s}`,u=r,d=u.config.emulator?Lm(r.config,l):`${r.config.apiScheme}://${l}`;return IR.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),CR.get())})}}function Sc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Wn(r,t,s);return l.customData._tokenResponse=i,l}async function DR(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OR(r,t=!1){const i=Pe(r),s=await i.getIdToken(t),l=zm(s);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Al(Gd(l.auth_time)),issuedAtTime:Al(Gd(l.iat)),expirationTime:Al(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gd(r){return Number(r)*1e3}function zm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tv(r){const t=zm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ei&&MR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),s=await Dl(r,Gc(t,{idToken:i}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?AT(l.providerUserInfo):[],d=UR(r.providerData,u),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function kR(r){const t=Pe(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function AT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LR(r,t){const i=await bT(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await ST(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(_.credentials="include"),ET.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PR(r,t){return oo(r,"POST","/v2/accounts:revokeToken",Pm(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await LR(t,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,d=new Ka;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return nr("not implemented")}}function qr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new VR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OR(this,t)}reload(){return kR(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(js(this.auth));const t=await this.getIdToken();return await Dl(this,DR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:G,providerData:K,stsTokenManager:J}=i;pt(S&&J,t,"internal-error");const Z=Ka.fromJSON(this.name,J);pt(typeof S=="string",t,"internal-error"),qr(s,t.name),qr(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof G=="boolean",t,"internal-error"),qr(u,t.name),qr(d,t.name),qr(g,t.name),qr(_,t.name),qr(y,t.name),qr(b,t.name);const st=new Zn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return K&&Array.isArray(K)&&(st.providerData=K.map(dt=>({...dt}))),_&&(st._redirectEventId=_),st}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ka;l.updateFromServerResponse(i);const u=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Qc(u),u}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?AT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Ka;g.updateFromIdToken(s);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const Ev=new Map;function ir(r){ar(r instanceof Function,"Expected a class definition");let t=Ev.get(r);return t?(ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Ev.set(r,t),t)}class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}wT.type="NONE";const bv=wT;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Dc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ya(ir(bv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ir(bv);const d=Dc(s,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const D=await Gc(t,{idToken:b}).catch(()=>{});if(!D)break;S=await Zn._fromGetAccountInfoResponse(t,D,b)}else S=Zn._fromJSON(t,b);y!==u&&(g=S),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ya(u,t,s):(u=_[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Ya(u,t,s))}}function Sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DT(t))return"Blackberry";if(OT(t))return"Webos";if(IT(t))return"Safari";if((t.includes("chrome/")||CT(t))&&!t.includes("edge/"))return"Chrome";if(NT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function RT(r=Ze()){return/firefox\//i.test(r)}function IT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CT(r=Ze()){return/crios\//i.test(r)}function xT(r=Ze()){return/iemobile/i.test(r)}function NT(r=Ze()){return/android/i.test(r)}function DT(r=Ze()){return/blackberry/i.test(r)}function OT(r=Ze()){return/webos/i.test(r)}function jm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zR(r=Ze()){return jm(r)&&!!window.navigator?.standalone}function jR(){return NA()&&document.documentMode===10}function MT(r=Ze()){return jm(r)||NT(r)||OT(r)||DT(r)||/windows phone/i.test(r)||xT(r)}function VT(r,t=[]){let i;switch(r){case"Browser":i=Sv(Ze());break;case"Worker":i=`${Sv(Ze())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${s}`}class BR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=u=>new Promise((d,g)=>{try{const _=t(u);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qR(r,t={}){return oo(r,"GET","/v2/passwordPolicy",Pm(r,t))}const HR=6;class FR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class GR{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ir(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(js(this));const i=t?Pe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qR(this),i=new FR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ys("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await PR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ir(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ir(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ER(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fh(r){return Pe(r)}class Av{constructor(t){this.auth=t,this.observer=null,this.addObserver=LA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(r){Bm=r}function KR(r){return Bm.loadJS(r)}function YR(){return Bm.gapiScript}function XR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $R(r,t){const i=Xs(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(rr(u,t??{}))return l;Oi(l,"already-initialized")}return i.initialize({options:t})}function JR(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ir);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function ZR(r,t,i){const s=fh(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=kT(t),{host:d,port:g}=WR(t),_=g===null?"":`:${g}`,y={url:`${u}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(rr(y,s.config.emulator)&&rr(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,so(d)?(B0(`${u}//${d}${_}`),q0("Auth",!0)):tI()}function kT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function WR(r){const t=kT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:wv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:wv(d)}}}function wv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class UT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,i){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function Xa(r,t){return xR(r,"POST","/v1/accounts:signInWithIdp",Pm(r,t))}const eI="http://localhost";class Fs extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=i;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Xa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:eI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends jl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class er extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return er.credential(i,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Fr extends jl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends jl{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const u=await Zn._fromIdTokenResponse(t,s,l),d=Rv(s);return new Ja({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Rv(s);return new Ja({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Kc extends ei{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Kc(t,i,s,l)}}function LT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,t,s):u})}async function nI(r,t,i=!1){const s=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ja._forOperation(r,"link",s)}async function iI(r,t,i=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(js(s));const l="reauthenticate";try{const u=await Dl(r,LT(s,l,t,r),i);pt(u.idToken,s,"internal-error");const d=zm(u.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(r.uid===g,s,"user-mismatch"),Ja._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Oi(s,"user-mismatch"),u}}async function rI(r,t,i=!1){if(Jn(r.app))return Promise.reject(js(r));const s="signIn",l=await LT(r,s,t),u=await Ja._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(u.user),u}function sI(r,t,i,s){return Pe(r).onIdTokenChanged(t,i,s)}function aI(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function oI(r,t,i,s){return Pe(r).onAuthStateChanged(t,i,s)}function lI(r){return Pe(r).signOut()}const Yc="__sak";class PT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uI=1e3,cI=10;class zT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);jR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cI):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}zT.type="LOCAL";const hI=zT;class jT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}jT.type="SESSION";const BT=jT;function fI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new dh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,u)),_=await fI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Hm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class dI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,_)=>{const y=Hm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(D.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function mI(r){wi().location.href=r}function qT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function gI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){return navigator?.serviceWorker?.controller||null}function yI(){return qT()?self:null}const HT="firebaseLocalStorageDb",_I=1,Xc="firebaseLocalStorage",FT="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function vI(){const r=indexedDB.deleteDatabase(HT);return new Bl(r).toPromise()}function lm(){const r=indexedDB.open(HT,_I);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xc,{keyPath:FT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xc)?t(s):(s.close(),await vI(),t(await lm()))})})}async function Iv(r,t,i){const s=mh(r,!0).put({[FT]:t,value:i});return new Bl(s).toPromise()}async function TI(r,t){const i=mh(r,!1).get(t),s=await new Bl(i).toPromise();return s===void 0?null:s.value}function Cv(r,t){const i=mh(r,!0).delete(t);return new Bl(i).toPromise()}const EI=800,bI=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>bI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(yI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Iv(t,Yc,"1"),await Cv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>TI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=mh(l,!1).getAll();return new Bl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const SI=GT;new zl(3e4,6e4);function QT(r,t){return t?ir(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fm extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function AI(r){return rI(r.auth,new Fm(r),r.bypassAuthState)}function wI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),iI(i,new Fm(r),r.bypassAuthState)}async function RI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),nI(i,new Fm(r),r.bypassAuthState)}class KT{constructor(t,i,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return wI;default:Oi(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const II=new zl(2e3,1e4);async function CI(r,t,i){if(Jn(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=fh(r);bR(r,t,qm);const l=QT(s,i);return new Ps(s,"signInViaPopup",t,l).executeNotNull()}class Ps extends KT{constructor(t,i,s,l,u){super(t,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,II.get())};t()}}Ps.currentPopupAction=null;const xI="pendingRedirect",Oc=new Map;class NI extends KT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const s=await DI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DI(r,t){const i=VI(t),s=MI(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function OI(r,t){Oc.set(r._key(),t)}function MI(r){return ir(r._redirectPersistence)}function VI(r){return Dc(xI,r.config.apiKey,r.name)}async function kI(r,t,i=!1){if(Jn(r.app))return Promise.reject(js(r));const s=fh(r),l=QT(s,t),d=await new NI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const UI=600*1e3;class LI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!YT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Wn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function YT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(r);default:return!1}}async function zI(r,t={}){return oo(r,"GET","/v1/projects",t)}const jI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BI=/^https?/;async function qI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zI(r);for(const i of t)try{if(HI(i))return}catch{}Oi(r,"unauthorized-domain")}function HI(r){const t=am(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!BI.test(i))return!1;if(jI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const FI=new zl(3e4,6e4);function Nv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function GI(r){return new Promise((t,i)=>{function s(){Nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nv(),i(Wn(r,"network-request-failed"))},timeout:FI.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=XR("iframefcb");return wi()[l]=()=>{gapi.load?s():i(Wn(r,"network-request-failed"))},KR(`${YR()}?onload=${l}`).catch(u=>i(u))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function QI(r){return Mc=Mc||GI(r),Mc}const KI=new zl(5e3,15e3),YI="__/auth/iframe",XI="emulator/auth/iframe",$I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Lm(t,XI):`https://${r.config.authDomain}/${YI}`,s={apiKey:t.apiKey,appName:r.name,v:ao},l=JI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Pl(s).slice(1)}`}async function WI(r){const t=await QI(r),i=wi().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:ZI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$I,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Wn(r,"network-request-failed"),g=wi().setTimeout(()=>{u(d)},KI.get());function _(){wi().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{u(d)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,n2=600,i2="_blank",r2="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,t,i,s=e2,l=n2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...t2,width:s.toString(),height:l.toString(),top:u,left:d},y=Ze().toLowerCase();i&&(g=CT(y)?i2:i),RT(y)&&(t=t||r2,_.scrollbars="yes");const b=Object.entries(_).reduce((D,[G,K])=>`${D}${G}=${K},`,"");if(zR(y)&&g!=="_self")return a2(t||"",g),new Dv(null);const S=window.open(t||"",g,b);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new Dv(S)}function a2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function Ov(r,t,i,s,l,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ao,eventId:l};if(t instanceof qm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",UA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof jl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${u2}=${encodeURIComponent(_)}`:"";return`${c2(r)}?${Pl(g).slice(1)}${y}`}function c2({config:r}){return r.emulator?Lm(r,l2):`https://${r.authDomain}/${o2}`}const Qd="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=kI,this._overrideRedirectResult=OI}async _openPopup(t,i,s,l){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ov(t,i,s,am(),l);return s2(t,u,Hm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const u=await Ov(t,i,s,am(),l);return mI(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await WI(t),s=new LI(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const u=l?.[0]?.[Qd];u!==void 0&&i(!!u),Oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return MT()||IT()||jm()}}const f2=h2;var Mv="@firebase/auth",Vv="1.11.1";class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){Di(new ti("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},y=new GR(s,l,u,_);return JR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Di(new ti("auth-internal",t=>{const i=fh(t.getProvider("auth").getImmediate());return(s=>new d2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Mv,Vv,m2(r)),Pn(Mv,Vv,"esm2020")}const p2=300,y2=j0("authIdTokenMaxAge")||p2;let kv=null;const _2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>y2)return;const l=i?.token;kv!==l&&(kv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function v2(r=Cm()){const t=Xs(r,"auth");if(t.isInitialized())return t.getImmediate();const i=$R(r,{popupRedirectResolver:f2,persistence:[SI,hI,BT]}),s=j0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=_2(u.toString());aI(i,d,()=>d(i.currentUser)),sI(i,g=>d(g))}}const l=P0("auth");return l&&ZR(i,`http://${l}`),i}function T2(){return document.getElementsByTagName("head")?.[0]??document}QR({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Wn("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",T2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,XT;(function(){var r;function t(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,O,U){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return A.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],O=x.g[2];let U=x.g[3],w;w=A+(U^I&(O^U))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(O^A&(I^O))+V[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=O+(I^U&(A^I))+V[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(A^O&(U^A))+V[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(U^I&(O^U))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(O^A&(I^O))+V[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=O+(I^U&(A^I))+V[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(A^O&(U^A))+V[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(U^I&(O^U))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(O^A&(I^O))+V[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=O+(I^U&(A^I))+V[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(A^O&(U^A))+V[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(U^I&(O^U))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(O^A&(I^O))+V[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=O+(I^U&(A^I))+V[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(A^O&(U^A))+V[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=A+(O^U&(I^O))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(A^I))+V[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(U^A))+V[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(O^U))+V[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^U&(I^O))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(A^I))+V[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(U^A))+V[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(O^U))+V[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^U&(I^O))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(A^I))+V[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(U^A))+V[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(O^U))+V[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(O^U&(I^O))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(A^I))+V[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=O+(A^I&(U^A))+V[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(O^U))+V[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=A+(I^O^U)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^O)+V[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=O+(U^A^I)+V[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^A)+V[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^U)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^O)+V[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=O+(U^A^I)+V[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^A)+V[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^U)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^O)+V[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=O+(U^A^I)+V[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^A)+V[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(I^O^U)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^O)+V[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=O+(U^A^I)+V[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^A)+V[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=A+(O^(I|~U))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~O))+V[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=O+(A^(U|~I))+V[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~A))+V[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~U))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~O))+V[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=O+(A^(U|~I))+V[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~A))+V[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~U))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~O))+V[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=O+(A^(U|~I))+V[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~A))+V[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=A+(O^(I|~U))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~O))+V[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=O+(A^(U|~I))+V[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=I;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[O++]=x.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<A;)if(V[O++]=x[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function u(x,A){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let O=x.length-1;O>=0;O--){const U=x[O]|0;V&&U==A||(I[O]=U,V=!1)}this.g=I}var g={};function _(x){return-128<=x&&x<128?u(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return Z(y(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Z(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let U=0;U<x.length;U+=8){var O=Math.min(8,x.length-U);const w=parseInt(x.substring(U,U+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=_(0),D=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(J(this))return-Z(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(K(this))return"0";if(J(this))return"-"+Z(this).toString(x);const A=y(Math.pow(x,6));var I=this;let V="";for(;;){const O=Bt(I,A).g;I=st(I,O.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,K(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function K(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function J(x){return x.h==-1}r.l=function(x){return x=st(this,x),J(x)?-1:K(x)?0:1};function Z(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(D)}r.abs=function(){return J(this)?Z(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let U=V+(this.i(O)&65535)+(x.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=w>>>16,U&=65535,w&=65535,I[O]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function st(x,A){return x.add(Z(A))}r.j=function(x){if(K(this)||K(x))return S;if(J(this))return J(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(J(x))return Z(this.j(Z(x)));if(this.l(G)<0&&x.l(G)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const U=this.i(V)>>>16,w=this.i(V)&65535,ne=x.i(O)>>>16,Re=x.i(O)&65535;I[2*V+2*O]+=w*Re,dt(I,2*V+2*O),I[2*V+2*O+1]+=U*Re,dt(I,2*V+2*O+1),I[2*V+2*O+1]+=w*ne,dt(I,2*V+2*O+1),I[2*V+2*O+2]+=U*ne,dt(I,2*V+2*O+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function dt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ht(x,A){this.g=x,this.h=A}function Bt(x,A){if(K(A))throw Error("division by zero");if(K(x))return new ht(S,S);if(J(x))return A=Bt(Z(x),A),new ht(Z(A.g),Z(A.h));if(J(A))return A=Bt(x,Z(A)),new ht(Z(A.g),A.h);if(x.g.length>30){if(J(x)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var I=D,V=A;V.l(x)<=0;)I=Zt(I),V=Zt(V);var O=kt(I,1),U=kt(V,1);for(V=kt(V,2),I=kt(I,2);!K(V);){var w=U.add(V);w.l(x)<=0&&(O=O.add(I),U=w),V=kt(V,1),I=kt(I,1)}return A=st(x,O.j(A)),new ht(O,A)}for(O=S;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(A);J(w)||w.l(x)>0;)I-=V,U=y(I),w=U.j(A);K(U)&&(U=D),O=O.add(U),x=st(x,w)}return new ht(O,x)}r.B=function(x){return Bt(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function Zt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function kt(x,A){const I=A>>5;A%=32;const V=x.g.length-I,O=[];for(let U=0;U<V;U++)O[U]=A>0?x.i(U+I)>>>A|x.i(U+I+1)<<32-A:x.i(U+I);return new d(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,XT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Xr=d}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $T,vl,JT,Vc,um,ZT,WT,tE;(function(){var r,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in v))break t;v=v[L]}c=c[c.length-1],E=v[c],m=m(E),m!=E&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=_,y.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(E,L,B){for(var tt=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)tt[Et-2]=arguments[Et];return m.prototype[L].apply(E,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const m=c.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=c[E];return v}return[]}function K(c,m){for(let E=1;E<arguments.length;E++){const L=arguments[E];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=L[tt]}else c.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function st(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const E=ht.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new J(()=>new Bt,c=>c.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,kt=!1,x=new dt,A=()=>{const c=Promise.resolve(void 0);Zt=()=>{c.then(I)}};function I(){for(var c;c=st();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ht;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ne(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ne,O),ne.prototype.init=function(c,m){const v=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,m,v,E,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,m,v){for(const E in c)m.call(v,c[E],E,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)c[v]=E[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(E,v)&&(c[v]=E[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,E,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=St(c,m,E,L);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!E,L),m.fa=v,c.push(m)),m};function yt(c,m){const v=m.type;if(v in c.g){var E=c.g[v],L=Array.prototype.indexOf.call(E,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(E,L,1),B&&(ct(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,E){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==E)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ie(c,m,v,E,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(c,m[B],v,E,L);return null}return v=go(v),c&&c[Re]?c.J(m,v,g(E)?!!E.capture:!1,L):ss(c,m,v,!1,E,L)}function ss(c,m,v,E,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Et=as(c);if(Et||(c[Mt]=Et=new rt(c)),v=Et.add(m,v,E,tt,B),v.proxy)return v;if(E=Zs(),v.proxy=E,E.src=c,E.listener=v,c.addEventListener)U||(L=tt),L===void 0&&(L=!1),c.addEventListener(m.toString(),E,L);else if(c.attachEvent)c.attachEvent(ni(m.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zs(){function c(v){return m.call(c.src,c.listener,v)}const m=fo;return c}function Ws(c,m,v,E,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ws(c,m[B],v,E,L);else E=g(E)?!!E.capture:!!E,v=go(v),c&&c[Re]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=St(m,v,E,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=as(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,E,L)),(v=c>-1?m[c]:null)&&ta(v))}function ta(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Re])yt(m.i,c);else{var v=c.type,E=c.proxy;m.removeEventListener?m.removeEventListener(v,E,c.capture):m.detachEvent?m.detachEvent(ni(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=as(m))?(yt(v,c),v.h==0&&(v.src=null,m[Mt]=null)):ct(c)}}}function ni(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function fo(c,m){if(c.da)c=!0;else{m=new ne(m,this);const v=c.listener,E=c.ha||c.src;c.fa&&ta(c),c=v.call(E,m)}return c}function as(c){return c=c[Mt],c instanceof rt?c:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(c){return typeof c=="function"?c:(c[mo]||(c[mo]=function(m){return c.handleEvent(m)}),c[mo])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,V),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(c,m,v,E){Ws(this,c,m,v,E)};function Ce(c,m){var v,E=c.G;if(E)for(v=[];E;E=E.G)v.push(E);if(c=c.M,E=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(E,c),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ur(B,E,!0,m)&&L;if(B=m.g=c,L=ur(B,E,!0,m)&&L,L=ur(B,E,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ur(B,E,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let E=0;E<v.length;E++)ct(v[E]);delete c.g[m],c.h--}}this.G=null},ge.prototype.J=function(c,m,v,E){return this.i.add(String(c),m,!1,v,E)},ge.prototype.K=function(c,m,v,E){return this.i.add(String(c),m,!0,v,E)};function ur(c,m,v,E){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Et=tt.listener,he=tt.ha||tt.src;tt.fa&&yt(c.i,tt),L=Et.call(he,E)!==!1&&L}}return L&&!E.defaultPrevented}function Oh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Yl(c){c.g=Oh(()=>{c.g=null,c.i&&(c.i=!1,Yl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){V.call(this),this.h=c,this.g={}}S(os,V);var po=[];function yo(c){Ut(c.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},c),c.g={}}os.prototype.N=function(){os.Z.N.call(this),yo(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=d.JSON.stringify,Mh=d.JSON.parse,Xl=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $l(){}function Jl(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function An(){O.call(this,"c")}S(An,O);var ce={},Zl=null;function ea(){return Zl=Zl||new ge}ce.Ia="serverreachability";function Wl(c){O.call(this,ce.Ia,c)}S(Wl,O);function ii(c){const m=ea();Ce(m,new Wl(m))}ce.STAT_EVENT="statevent";function ls(c,m){O.call(this,ce.STAT_EVENT,c),this.stat=m}S(ls,O);function pe(c){const m=ea();Ce(m,new ls(m,c))}ce.Ja="timingevent";function ri(c,m){O.call(this,ce.Ja,c),this.size=m}S(ri,O);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Vh(c,m,v,E,L,B){c.info(function(){if(c.g)if(B){var tt="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var he=Et[zt].split("=");if(he.length>1){const re=he[0];he=he[1];const Cn=re.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(re+"="+he+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function tu(c,m,v,E,L,B,tt){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ai(c,m,v,E){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(c,v)+(E?" "+E:"")})}function us(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function kh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return cr(B)}catch{return m}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function hs(){}S(hs,$l),hs.prototype.g=function(){return new XMLHttpRequest},vo=new hs;function Ui(c){return encodeURIComponent(String(c))}function eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,E){this.j=c,this.i=m,this.l=v,this.S=E||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function oi(c,m,v){c.M=1,c.A=fs(ve(m)),c.u=v,c.R=!0,na(c,null)}function na(c,m){c.F=Date.now(),li(c),c.B=ve(c.A);var v=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),aa(v.i,"t",E),c.C=0,v=c.j.L,c.h=new qn,c.g=pu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,E=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(po[0]=L.toString()),L=po);for(let B=0;B<L.length;B++){const tt=ie(v,L[B],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Vh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)t:{const Et=Gn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Et!=4||he==7||(he==8||zt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(c=B)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,pe(12),dn(this),wn(this);break t}}if(this.R){c=!0;let re;for(;!this.K&&this.C<v.length;)if(re=iu(this,v),re==Ve){Et==4&&(this.m=4,pe(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,re,null),ci(this,re);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,pe(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(tt),tt.P=!0,pe(11))}}else ai(this.i,this.l,v,null),ci(this,v);Et==4&&dn(this),this.o&&!this.K&&(Et==4?fu(this.j,this):(this.o=!1,li(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),dn(this),wn(this)}}}catch{}finally{}};function Uh(c){if(!nu(c))return c.g.la();const m=je(c.g);if(m==="")return"";let v="";const E=m.length,L=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<E;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==E-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function iu(c,m){var v=c.C,E=m.indexOf(`
`,v);return E==-1?Ve:(v=Number(m.substring(v,E)),isNaN(v)?ye:(E+=1,E+v>m.length?Ve:(m=m.slice(E,E+v),c.C=E+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function li(c){c.T=Date.now()+c.H,ia(c,c.H)}function ia(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),m)}function ui(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(us(this.i,this.B),this.M!=2&&(ii(),pe(17)),dn(this),this.m=2,wn(this)):ia(this,this.T-c)};function wn(c){c.j.I==0||c.K||fu(c.j,c)}function dn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,yo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ha(v),_r(v);else break t;vs(v),pe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Cn=zt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const vi=zt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=zt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(E=1.5*Qn,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Kn=c.g;if(Kn){const Ts=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=E.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(E.G){const fa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(E.wa=fa,Ft(E.J,E.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var tt=c;if(E.na=gu(E,E.L?E.ba:null,E.W),tt.L){So(E.h,tt);var Et=tt,he=E.O;he&&(Et.H=he),Et.D&&(ui(Et),li(Et)),E.g=tt}else cu(E);v.i.length>0&&yi(v)}else zt[0]!="stop"&&zt[0]!="close"||_i(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?_i(v,7):Oo(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ii(4)}catch{}}var _e=class{constructor(c,m){this.g=c,this.map=m}};function To(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function bo(c,m){c.g?c.g.add(m):c.h=m}function So(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}To.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return G(c.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const E=c[v].indexOf("=");let L,B=null;E>=0?(L=c[v].substring(0,E),B=c[v].substring(E+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,wo(this,lu(c.i)),this.m=c.m):c&&(m=String(c).match(ru))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hr(this,m[4]),this.h=di(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ds(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ds(m,sa,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ds(v,v.charAt(0)=="/"?Ro:su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ds(v,au)),c.join("")},mn.prototype.resolve=function(c){const m=ve(this);let v=!!c.j;v?ke(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var E=c.h;if(v)hr(m,c.u);else if(v=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=m.h.lastIndexOf("/");L!=-1&&(E=m.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Et=L[tt++];Et=="."?E&&tt==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&tt==L.length&&B.push("")):(B.push(Et),E=!0)}E=B.join("/")}else E=L}return v?m.h=E:v=c.i.toString()!=="",v?wo(m,lu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function ve(c){return new mn(c)}function ke(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function wo(c,m,v){m instanceof dr?(c.i=m,oa(c.i,c.l)):(v||(m=ds(m,fr)),c.i=new dr(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function fs(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ds(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sa=/[#\/\?@]/g,su=/[#\?:]/g,Ro=/[#\?]/g,fr=/[#\?@]/g,au=/#/g;function dr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(c,m){sn(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function ou(c,m){sn(c),m=mr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Io(c,m){return sn(c),m=mr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,E){v.forEach(function(L){c.call(m,L,E,this)},this)},this)};function Co(c,m){sn(c);let v=[];if(typeof m=="string")Io(c,m)&&(v=v.concat(c.g.get(mr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=mr(this,c),Io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Co(this,c),c.length>0?String(c[0]):m):m};function aa(c,m,v){ou(c,m),v.length>0&&(c.i=null,c.g.set(mr(c,m),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const L=Ui(v);v=Co(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Ui(v[B])),c.push(tt)}}return this.i=c.join("&")};function lu(c){const m=new dr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function mr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function oa(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,E){const L=E.toLowerCase();E!=L&&(ou(this,E),aa(this,L,v))},c)),c.j=m}function Hn(c,m){const v=new jn;if(d.Image){const E=new Image;E.onload=b(Rn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Rn,v,"TestLoadImage: error",!1,m,E),E.onabort=b(Rn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Rn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else m(!1)}function xo(c,m){const v=new jn,E=new AbortController,L=setTimeout(()=>{E.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function gr(){this.g=new Xl}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(mi,$l),mi.prototype.g=function(){return new ms(this.i,this.h)};function ms(c,m){ge.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ms,ge),r=ms.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?pr(this):Fn(this),this.readyState==3&&la(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return Ut(c,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function gs(c,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=In(v),typeof c=="string"?v!=null&&Ui(v):Ft(c,m,v))}function Kt(c){ge.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var gi=/^https?$/i,No=["POST","PUT"];r=Kt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){ps(this,B);return}if(c=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())v.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){ps(this,B)}};function ps(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Do(c),Li(c)}function Do(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ce(this,"complete"),Ce(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ce(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=B===0){let tt=String(c.D).match(ru)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!gi.test(tt?tt.toLowerCase():"")}v=E}if(v)Ce(c,"complete"),Ce(c,"success");else{c.o=6;try{var L=Gn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Do(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ce(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Mh(m)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(w(c[E]))continue;var v=eu(c[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ht(m,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function yr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new To(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,E){pe(0),this.W=c,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=gu(this,null,this.W),yi(this)};function Oo(c){if(ua(c),c.I==3){var m=c.V++,v=ve(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),_s(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=fs(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}mu(c)}function _r(c){c.g&&(Vo(c),c.g.cancel(),c.g=null)}function ua(c){_r(c),c.v&&(d.clearTimeout(c.v),c.v=null),ha(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function yi(c){if(!Eo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Zt||A(),kt||(Zt(),kt=!0),x.add(m,c),c.D=0}}function ca(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,m),du(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Bn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,L,m),v=ve(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),_s(this,v),B&&(this.R?m="headers="+Ui(In(B))+"&"+m:this.u&&gs(v,this.u,B)),bo(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?Mo(this,c):this.i.length==0||Eo(this.h)||Mo(this))};function Mo(c,m){var v;m?v=m.l:v=c.V++;const E=ve(c.J);Ft(E,"SID",c.M),Ft(E,"RID",v),Ft(E,"AID",c.K),_s(c,E),c.u&&c.o&&gs(E,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bo(c.h,v),oi(v,E,m)}function _s(c,m){c.H&&Ut(c.H,function(v,E){Ft(m,E,v)}),c.l&&Ut({},function(v,E){Ft(m,E,v)})}function uu(c,m,v){v=Math.min(c.i.length,v);const E=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let Et=-1;for(;;){const he=["count="+v];Et==-1?v>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let zt=!0;for(let re=0;re<v;re++){var B=L[re].g;const Cn=L[re].map;if(B-=Et,B<0)Et=Math.max(0,L[re].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Qn]of tt){let Kn=Qn;g(Qn)&&(Kn=cr(Qn)),he.push(B+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw he.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{E&&E(Cn)}}if(zt){tt=he.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function cu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Zt||A(),kt||(Zt(),kt=!0),x.add(m,c),c.A=0}}function vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),du(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),_r(this),hu(this))};function Vo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function hu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ve(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),_s(c,m),c.u&&c.o&&gs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=fs(ve(m)),v.u=null,v.R=!0,na(v,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),vs(this),pe(19))};function ha(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function fu(c,m){var v=null;if(c.g==m){ha(c),Vo(c),c.g=null;var E=2}else if(fi(c.h,m))v=m.G,So(c.h,m),E=1;else return;if(c.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;E=ea(),Ce(E,new ri(E,v)),yi(c)}else cu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(E==1&&ca(c,m)||E==2&&vs(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function du(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),E=c.Ua;const L=!E;E=new mn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(E,"https"),fs(E),L?Hn(E.toString(),v):xo(E.toString(),v)}else pe(2);c.I=0,c.l&&c.l.pa(m),mu(c),ua(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function mu(c){if(c.I=0,c.ja=[],c.l){const m=Ao(c.h);(m.length!=0||c.i.length!=0)&&(K(c.ja,m),K(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function gu(c,m,v){var E=v instanceof mn?ve(v):new mn(v);if(E.g!="")m&&(E.g=m+"."+E.g),hr(E,E.u);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);E&&ke(B,E),m&&(B.g=m),L&&hr(B,L),v&&(B.h=v),E=B}return v=c.G,m=c.wa,v&&m&&Ft(E,v,m),Ft(E,"VER",c.ka),_s(c,E),E}function pu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Kt(new mi({ab:v})):new Kt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){ge.call(this),this.g=new yr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(tn,ge),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Oo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);m.i.push(new _e(m.Ya++,c)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,tn.Z.N.call(this)};function _u(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(_u,ze);function vu(){An.call(this),this.status=1}S(vu,An);function zi(c){this.g=c}S(zi,yu),zi.prototype.ra=function(){Ce(this.g,"a")},zi.prototype.qa=function(c){Ce(this.g,new _u(c))},zi.prototype.pa=function(c){Ce(this.g,new vu)},zi.prototype.oa=function(){Ce(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,tE=function(){return new vr},WT=function(){return ea()},ZT=ce,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Vc=cs,_o.COMPLETE="complete",JT=_o,Jl.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,vl=Jl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,$T=Kt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",Pv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let lo="12.3.0";const Gs=new uh("@firebase/firestore");function qa(){return Gs.logLevel}function it(r,...t){if(Gs.logLevel<=xt.DEBUG){const i=t.map(Gm);Gs.debug(`Firestore (${lo}): ${r}`,...i)}}function or(r,...t){if(Gs.logLevel<=xt.ERROR){const i=t.map(Gm);Gs.error(`Firestore (${lo}): ${r}`,...i)}}function Za(r,...t){if(Gs.logLevel<=xt.WARN){const i=t.map(Gm);Gs.warn(`Firestore (${lo}): ${r}`,...i)}}function Gm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,eE(r,s,i)}function eE(r,t,i){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw or(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||eE(t,l,s)}function Tt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ei{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class nE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new nE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class A2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new zv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=I2(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=t.charAt(l[u]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function cm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return Kd(l)===Kd(u)?Nt(l,u):Kd(l)?1:-1}return Nt(r.length,t.length)}const C2=55296,x2=57343;function Kd(r){const t=r.charCodeAt(0);return t>=C2&&t<=x2}function Wa(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const jv="__name__";class Ai{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&gt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const u=Ai.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Nt(t.length,i.length)}static compareSegments(t,i){const s=Ai.isNumericId(t),l=Ai.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class ae extends Ai{construct(t,i,s){return new ae(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return N2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new Qe([jv])}static fromServerFormat(t){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ae.fromString(t))}static fromName(t){return new ft(ae.fromString(t).popFirst(5))}static empty(){return new ft(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ae(t.slice()))}}function D2(r,t,i){if(!i)throw new lt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O2(r,t,i,s){if(t===!0&&s===!0)throw new lt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Bv(r){if(!ft.isDocumentKey(r))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Qs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Km(r);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function we(r,t){const i={typeString:r};return t&&(i.value=t),i}function ql(r,t){if(!iE(r))throw new lt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new lt(W.INVALID_ARGUMENT,i);return!0}const qv=-62135596800,Hv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Hv);return new ee(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<qv)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function M2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Jr(l,ft.empty(),t)}function V2(r){return new Jr(r.readTime,r.key,Ol)}class Jr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Jr(_t.min(),ft.empty(),Ol)}static max(){return new Jr(_t.max(),ft.empty(),Ol)}}function k2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==U2)throw r;it("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(_=>s(_)))})),d=!0,u===l&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,u)=>{s.push(i.call(this,l,u))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,l)=>{const u=t.length,d=new Array(u);let g=0;for(let _=0;_<u;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===u&&s(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((s,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):s()};u()}))}}function P2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Ym=-1;function ph(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rE="";function j2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Fv(t)),t=B2(r.get(i),t);return Fv(t)}function B2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case rE:i+="";break;default:i+=u}}return i}function Fv(r){return r+rE+""}function Gv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function is(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function sE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,u){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,u){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,s,l,u){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aE("Invalid base64 string: "+u):u}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=q2.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const oE="server_timestamp",lE="__type__",uE="__previous_value__",cE="__local_write_time__";function Xm(r){return(r?.mapValue?.fields||{})[lE]?.stringValue===oE}function yh(r){const t=r.mapValue.fields[uE];return Xm(t)?yh(t):t}function Ml(r){const t=Zr(r.mapValue.fields[cE].timestampValue);return new ee(t.seconds,t.nanos)}class H2{constructor(t,i,s,l,u,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Jc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const hE="__type__",F2="__max__",Rc={mapValue:{}},fE="__vector__",Zc="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:Q2(r)?9007199254740991:G2(r)?10:11:gt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=ts(r);if(i!==ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Zr(l.timestampValue),g=Zr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return Wr(l.bytesValue).isEqual(Wr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return me(l.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return me(l.integerValue)===me(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=me(l.doubleValue),g=me(u.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Gv(d)!==Gv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Mi(d[_],g[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function to(r,t){if(r===t)return 0;const i=ts(r),s=ts(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=me(u.integerValue||u.doubleValue),_=me(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return Kv(r.timestampValue,t.timestampValue);case 4:return Kv(Ml(r),Ml(t));case 5:return cm(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=Wr(u),_=Wr(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Nt(g[y],_[y]);if(b!==0)return b}return Nt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Nt(me(u.latitude),me(d.latitude));return g!==0?g:Nt(me(u.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},_=d.fields||{},y=g[Zc]?.arrayValue,b=_[Zc]?.arrayValue,S=Nt(y?.values?.length||0,b?.values?.length||0);return S!==0?S:Yv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Rc.mapValue&&d===Rc.mapValue)return 0;if(u===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=u.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const D=cm(_[S],b[S]);if(D!==0)return D;const G=to(g[_[S]],y[b[S]]);if(G!==0)return G}return Nt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Zr(r),s=Zr(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function Yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=to(i[l],s[l]);if(u)return u}return Nt(i.length,s.length)}function eo(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Zr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Wr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=hm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function kc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return is(s.fields,((u,d)=>{l+=u.length+kc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function fm(r){return!!r&&"integerValue"in r}function $m(r){return!!r&&"arrayValue"in r}function Xv(r){return!!r&&"nullValue"in r}function $v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[hE]?.stringValue===fE}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=wl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=wl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){is(i,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new fn(wl(this.value))}}function dE(r){const t=[];return is(r.fields,((i,s)=>{const l=new Qe([i]);if(Uc(s)){const u=dE(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new bn(t)}class Je{constructor(t,i,s,l,u,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,i,s,l){return new Je(t,1,i,_t.min(),s,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Jv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=to(d,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function K2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class mE{}class De extends mE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new X2(t,i,s):i==="array-contains"?new Z2(t,s):i==="in"?new W2(t,s):i==="not-in"?new tC(t,s):i==="array-contains-any"?new eC(t,s):new De(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new $2(t,s):new J2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends mE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return gE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function pE(r){return Y2(r)&&gE(r)}function Y2(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function dm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(pE(r))return r.filters.map((t=>dm(t))).join(",");{const t=r.filters.map((i=>dm(i))).join(",");return`${r.op}(${t})`}}function yE(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Mi(s.value,l.value)})(r,t):r instanceof Vi?(function(s,l){return l instanceof Vi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&yE(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function _E(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(r):r instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(_E).join(" ,")+"}"})(r):"Filter"}class X2 extends De{constructor(t,i,s){super(t,i,s),this.key=ft.fromName(s.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends De{constructor(t,i){super(t,"in",i),this.keys=vE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class J2 extends De{constructor(t,i){super(t,"not-in",i),this.keys=vE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function vE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class Z2 extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return $m(i)&&kl(i.arrayValue,this.value)}}class W2 extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class tC extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class eC extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}class nC{constructor(t,i=null,s=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Wv(r,t=null,i=[],s=[],l=null,u=null,d=null){return new nC(r,t,i,s,l,u,d)}function Jm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>dm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>eo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>eo(s))).join(",")),t.Te=i}return t.Te}function Zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!K2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!yE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Zv(r.startAt,t.startAt)&&Zv(r.endAt,t.endAt)}function mm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(t,i=null,s=[],l=[],u=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iC(r,t,i,s,l,u,d,g){return new _h(r,t,i,s,l,u,d,g)}function Wm(r){return new _h(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rC(r){return r.collectionGroup!==null}function Rl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new th(u,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),s))}return t.Ie}function Ri(r){const t=Tt(r);return t.Ee||(t.Ee=sC(t,Rl(r))),t.Ee}function sC(r,t){if(r.limitType==="F")return Wv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new th(l.field,u)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Wv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function gm(r,t,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return Zm(Ri(r),Ri(t))&&r.limitType===t.limitType}function TE(r){return`${Jm(Ri(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>_E(l))).join(", ")}]`),ph(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ft.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Rl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,_){const y=Jv(d,g,_);return d.inclusive?y<=0:y<0})(s.startAt,Rl(s),l)||s.endAt&&!(function(d,g,_){const y=Jv(d,g,_);return d.inclusive?y>=0:y>0})(s.endAt,Rl(s),l))})(r,t)}function aC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function EE(r){return(t,i)=>{let s=!1;for(const l of Rl(r)){const u=oC(l,t,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function oC(r,t,i){const s=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(u,d,g){const _=d.data.field(u),y=g.data.field(u);return _!==null&&y!==null?to(_,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,((i,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}const lC=new oe(ft.comparator);function lr(){return lC}const bE=new oe(ft.comparator);function Tl(...r){let t=bE;for(const i of r)t=t.insert(i.key,i);return t}function SE(r){let t=bE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function zs(){return Il()}function AE(){return Il()}function Il(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uC=new oe(ft.comparator),cC=new Me(ft.comparator);function Dt(...r){let t=cC;for(const i of r)t=t.add(i);return t}const hC=new Me(Nt);function fC(){return hC}function tg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function wE(r){return{integerValue:""+r}}function dC(r,t){return z2(t)?wE(t):tg(r,t)}class Eh{constructor(){this._=void 0}}function mC(r,t,i){return r instanceof eh?(function(l,u){const d={fields:{[lE]:{stringValue:oE},[cE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Xm(u)&&(u=yh(u)),u&&(d.fields[uE]=u),{mapValue:d}})(i,t):r instanceof no?IE(r,t):r instanceof Ul?CE(r,t):(function(l,u){const d=RE(l,u),g=e0(d)+e0(l.Ae);return fm(d)&&fm(l.Ae)?wE(g):tg(l.serializer,g)})(r,t)}function gC(r,t,i){return r instanceof no?IE(r,t):r instanceof Ul?CE(r,t):i}function RE(r,t){return r instanceof nh?(function(s){return fm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class eh extends Eh{}class no extends Eh{constructor(t){super(),this.elements=t}}function IE(r,t){const i=xE(t);for(const s of r.elements)i.some((l=>Mi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ul extends Eh{constructor(t){super(),this.elements=t}}function CE(r,t){let i=xE(t);for(const s of r.elements)i=i.filter((l=>!Mi(l,s)));return{arrayValue:{values:i}}}class nh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function e0(r){return me(r.integerValue||r.doubleValue)}function xE(r){return $m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pC{constructor(t,i){this.field=t,this.transform=i}}function yC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof no&&l instanceof no||s instanceof Ul&&l instanceof Ul?Wa(s.elements,l.elements,Mi):s instanceof nh&&l instanceof nh?Mi(s.Ae,l.Ae):s instanceof eh&&l instanceof eh})(r.transform,t.transform)}class _C{constructor(t,i){this.version=t,this.transformResults=i}}class Ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function NE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new OE(r.key,Ii.none()):new Hl(r.key,r.data,Ii.none());{const i=r.data,s=fn.empty();let l=new Me(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new rs(r.key,s,new bn(l.toArray()),Ii.none())}}function vC(r,t,i){r instanceof Hl?(function(l,u,d){const g=l.value.clone(),_=i0(l.fieldTransforms,u,d.transformResults);g.setAll(_),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof rs?(function(l,u,d){if(!Lc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=i0(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(DE(l)),_.setAll(g),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,s){return r instanceof Hl?(function(u,d,g,_){if(!Lc(u.precondition,d))return g;const y=u.value.clone(),b=r0(u.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof rs?(function(u,d,g,_){if(!Lc(u.precondition,d))return g;const y=r0(u.fieldTransforms,_,d),b=d.data;return b.setAll(DE(u)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(u,d,g){return Lc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function TC(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=RE(s.transform,l||null);u!=null&&(i===null&&(i=fn.empty()),i.set(s.field,u))}return i||null}function n0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Wa(s,l,((u,d)=>yC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hl extends bh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rs extends bh{constructor(t,i,s,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function i0(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);s.set(u.field,gC(d,g,i[l]))}return s}function r0(r,t,i){const s=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);s.set(l.field,mC(u,d,t))}return s}class OE extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EC extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bC{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&vC(u,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Cl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Cl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=AE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const _=NE(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Dt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,s)=>n0(i,s)))&&Wa(this.baseMutations,t.baseMutations,((i,s)=>n0(i,s)))}}class eg{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return uC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new eg(t,i,s,l)}}class SC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ae,Vt;function wC(r){switch(r){case W.OK:return gt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function ME(r){if(r===void 0)return or("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ae.OK:return W.OK;case Ae.CANCELLED:return W.CANCELLED;case Ae.UNKNOWN:return W.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return W.INTERNAL;case Ae.UNAVAILABLE:return W.UNAVAILABLE;case Ae.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ae.NOT_FOUND:return W.NOT_FOUND;case Ae.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ae.ABORTED:return W.ABORTED;case Ae.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ae.DATA_LOSS:return W.DATA_LOSS;default:return gt(39323,{code:r})}}(Vt=Ae||(Ae={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";function RC(){return new TextEncoder}const IC=new Xr([4294967295,4294967295],0);function s0(r){const t=RC().encode(r),i=new XT;return i.update(t),new Uint8Array(i.digest())}function a0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xr([i,s],0),new Xr([l,u],0)]}class ng{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Xr.fromNumber(s)));return l.compare(IC)===1&&(l=new Xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=s0(t),[s,l]=a0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new ng(u,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=s0(t),[s,l]=a0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,s,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Sh(_t.min(),l,new oe(Nt),lr(),Dt())}}class Fl{constructor(t,i,s,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Fl(s,i,Dt(),Dt(),Dt())}}class Pc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class VE{constructor(t,i){this.targetId=t,this.Ce=i}}class kE{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class o0{constructor(){this.ve=0,this.Fe=l0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Dt(),i=Dt(),s=Dt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:u})}})),new Fl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=l0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CC{constructor(t){this.Ge=t,this.ze=new Map,this.je=lr(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(mm(u))if(s===0){const d=new ft(u.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Wr(s).toUint8Array()}catch(_){if(_ instanceof aE)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ng(d,l,u)}catch(_){return Za(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&mm(g.target)){const _=new ft(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let s=Dt();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,s);return this.je=lr(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new o0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new o0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new oe(ft.comparator)}function l0(){return new oe(ft.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},NC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DC={and:"AND",or:"OR"};class OC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MC(r,t){return ih(r,t.toTimestamp())}function Ci(r){return qt(!!r,49232),_t.fromTimestamp((function(i){const s=Zr(i);return new ee(s.seconds,s.nanos)})(r))}function ig(r,t){return ym(r,t).canonicalString()}function ym(r,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function LE(r){const t=ae.fromString(r);return qt(qE(t),10190,{key:t.toString()}),t}function _m(r,t){return ig(r.databaseId,t.path)}function Yd(r,t){const i=LE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(zE(i))}function PE(r,t){return ig(r.databaseId,t)}function VC(r){const t=LE(r);return t.length===4?ae.emptyPath():zE(t)}function vm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u0(r,t,i){return{name:_m(r,t),fields:i.value.mapValue.fields}}function kC(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(qt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:ME(y.code);return new lt(b,y.message||"")})(d);i=new kE(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Yd(r,s.document.name),u=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):_t.min(),g=new fn({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(l,u,d,g),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Pc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Yd(r,s.document),u=s.readTime?Ci(s.readTime):_t.min(),d=Je.newNoDocument(l,u),g=s.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Yd(r,s.document),u=s.removedTargetIds||[];i=new Pc([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new AC(l,u),g=s.targetId;i=new VE(g,d)}}return i}function UC(r,t){let i;if(t instanceof Hl)i={update:u0(r,t.key,t.value)};else if(t instanceof OE)i={delete:_m(r,t.key)};else if(t instanceof rs)i={update:u0(r,t.key,t.data),updateMask:GC(t.fieldMask)};else{if(!(t instanceof EC))return gt(16599,{Vt:t.type});i={verify:_m(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:MC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),i}function LC(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,u){let d=l.updateTime?Ci(l.updateTime):Ci(u);return d.isEqual(_t.min())&&(d=Ci(u)),new _C(d,l.transformResults||[])})(i,t)))):[]}function PC(r,t){return{documents:[PE(r,t.path)]}}function zC(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=PE(r,l);const u=(function(y){if(y.length!==0)return BE(Vi.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((b=>(function(D){return{field:Fa(D.field),direction:qC(D.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function jC(r){let t=VC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let u=[];i.where&&(u=(function(S){const D=jE(S);return D instanceof Vi&&pE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(K){return new th(Ga(K.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,ph(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(S){const D=!!S.before,G=S.values||[];return new Wc(G,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,G=S.values||[];return new Wc(G,D)})(i.endAt)),iC(t,l,d,u,g,"F",_,y)}function BC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function jE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ga(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(i.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((s=>jE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function qC(r){return xC[r]}function HC(r){return NC[r]}function FC(r){return DC[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Qe.fromServerFormat(r.fieldPath)}function BE(r){return r instanceof De?(function(i){if(i.op==="=="){if($v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Xv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:HC(i.op),value:i.value}}})(r):r instanceof Vi?(function(i){const s=i.getFilters().map((l=>BE(l)));return s.length===1?s[0]:{compositeFilter:{op:FC(i.op),filters:s}}})(r):gt(54877,{filter:r})}function GC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function qE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(t,i,s,l,u=_t.min(),d=_t.min(),g=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QC{constructor(t){this.yt=t}}function KC(r){const t=jC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}class YC{constructor(){this.Cn=new XC}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Jr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Jr.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class XC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ae.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ae.comparator)).toArray()}}const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(HE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const h0="LruGarbageCollector",$C=1048576;function f0([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class JC{constructor(t){this.Ir=t,this.buffer=new Me(f0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(h0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?it(h0,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class WC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(gh.ce);const s=new JC(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(c0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,u,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),qa()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function tx(r,t){return new WC(r,t)}class ex{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ix{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Cl(s.mutation,l,bn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Dt()){const l=zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((u=>{let d=Tl();return u.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=zs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Dt())))}populateOverlays(t,i,s){const l=[];return s.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let u=lr();const d=Il(),g=(function(){return Il()})();return i.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof rs)?u=u.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Cl(b.mutation,y,b.mutation.getFieldMask(),ee.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new nx(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Il();let l=new oe(((d,g)=>d-g)),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=s.get(_)||bn.empty();b=g.applyToLocalView(y,b),s.set(_,b);const S=(l.get(g.batchId)||Dt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,S=AE();b.forEach((D=>{if(!u.has(D)){const G=NE(i.get(D),s.get(D));G!==null&&S.set(D,G),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-u.size):$.resolve(zs());let g=Ol,_=u;return d.next((y=>$.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((D=>{_=_.insert(b,D)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,Dt()))).next((b=>({batchId:g,changes:SE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const u=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(_=>{const y=(function(S,D){return new _h(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((b=>{b.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,l)))).next((d=>{u.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=Tl();return d.forEach(((_,y)=>{const b=u.get(_);b!==void 0&&Cl(b.mutation,y,bn.empty(),ee.now()),Th(i,y)&&(g=g.insert(_,y))})),g}))}}class rx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KC(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),$.resolve()}}class sx{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=zs();return $.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,u)=>{this.St(t,i,u)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const l=zs(),u=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let u=new oe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=zs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=zs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new SC(i,s));let u=this.qr.get(i);u===void 0&&(u=Dt(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class ax{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class rg{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ft(new ae([])),s=new Le(i,t),l=new Le(i,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ae([])),s=new Le(i,t),l=new Le(i,t+1);let u=Dt();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class ox{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bC(u,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Nt);return i.forEach((l=>{const u=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let u=s;ft.isDocumentKey(u)||(u=u.child(""));const d=new Le(new ft(u),0);let g=new Me(Nt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,(l=>{const u=new Le(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lx{constructor(t){this.ri=t,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let s=lr();return i.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let u=lr();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||k2(V2(b),s)<=0||(l.has(b.key)||Th(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,i,s,l){gt(9500)}ii(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new ux(this)}getSize(t){return $.resolve(this.size)}}class ux extends ex{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cx{constructor(t){this.persistence=t,this.si=new $s((i=>Jm(i)),Zm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class FE{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new ax,this.referenceDelegate=t(this),this.Pi=new cx(this),this.indexManager=new YC,this.remoteDocumentCache=(function(l){return new lx(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QC(i),this.Ii=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new ox(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new hx(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,i){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class hx extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Ri=new rg,this.Vi=null}static mi(t){return new sg(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ft.fromPath(s);return this.gi(t,l).next((u=>{u||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new $s((s=>j2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=tx(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?$.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,s){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ag{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Dt(),l=Dt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ag(t,i.fromCache,s,l)}}class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DA()?8:P2(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const u={result:null};return this.ys(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,i,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new fx;return this.Ss(t,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>u.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(qa()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qa()<=xt.DEBUG&&it("QueryEngine","Query:",Ha(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(qa()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):$.resolve())}ys(t,i){if(t0(i))return $.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Dt(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,s,l){return t0(i)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,s,l)?$.resolve(null):(qa()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,M2(l,Ol)).next((g=>g)))}))}Ds(t,i){let s=new Me(EE(t));return i.forEach(((l,u)=>{Th(t,u)&&(s=s.add(u))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,i,s){return qa()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,Jr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const og="LocalStore",mx=3e8;class gx{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new $s((u=>Jm(u)),Zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ix(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function px(r,t,i,s){return new gx(r,t,i,s)}async function GE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let _=Dt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of u){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function yx(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const S=y.batch,D=S.keys();let G=$.resolve();return D.forEach((K=>{G=G.next((()=>b.getEntry(_,K))).next((J=>{const Z=y.docVersions.get(K);qt(Z!==null,48541),J.version.compareTo(Z)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),b.addEntry(J)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,s,t,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Dt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function QE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _x(r,t){const i=Tt(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,S)=>{const D=l.get(S);if(!D)return;g.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,S))));let G=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,s)),l=l.insert(S,G),(function(J,Z,st){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=mx?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(D,G,b)&&g.push(i.Pi.updateTargetData(u,G))}));let _=lr(),y=Dt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(vx(u,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!s.isEqual(_t.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(i.Ms=l,u)))}function vx(r,t,i){let s=Dt(),l=Dt();return i.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=lr();return i.forEach(((g,_)=>{const y=u.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):it(og,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function Tx(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Ex(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Tm(r,t,i){const s=Tt(r),l=s.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;it(og,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function d0(r,t,i){const s=Tt(r);let l=_t.min(),u=Dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=Tt(_),D=S.xs.get(b);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,b)})(s,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?u:Dt()))).next((g=>(bx(s,aC(t),g),{documents:g,Qs:u})))))}function bx(r,t,i){let s=r.Os.get(t)||_t.min();i.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class m0{constructor(){this.activeTargetIds=fC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Sx{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ax{Oo(t){}shutdown(){}}const g0="ConnectivityMonitor";class p0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(g0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(g0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function Em(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Xd="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,u){const d=Em(),g=this.zo(t,i.toUriEncodedString());it(Xd,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:y}=new URL(g),b=so(y);return this.Jo(t,g,_,s,b).then((S=>(it(Xd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(Xd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,u,d){return this.Go(t,i,s,l,u)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,i){const s=wx[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class Ix{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class Cx extends Rx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,u){const d=Em();return new Promise(((g,_)=>{const y=new $T;y.setWithCredentials(!0),y.listenOnce(JT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const S=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Vc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),_(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const D=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const K=G?.error;if(K&&K.status&&K.message){const J=(function(st){const dt=st.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(dt)>=0?dt:W.UNKNOWN})(K.status);_(new lt(J,K.message))}else _(new lt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(W.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,s,15)}))}T_(t,i,s){const l=Em(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=tE(),g=WT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const b=u.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let D=!1,G=!1;const K=new Ix({Yo:Z=>{G?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),J=(Z,st,dt)=>{Z.listen(st,(ht=>{try{dt(ht)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return J(S,vl.EventType.OPEN,(()=>{G||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),K.o_())})),J(S,vl.EventType.CLOSE,(()=>{G||(G=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),K.a_(),this.E_(S))})),J(S,vl.EventType.ERROR,(Z=>{G||(G=!0,Za(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.a_(new lt(W.UNAVAILABLE,"The operation could not be completed")))})),J(S,vl.EventType.MESSAGE,(Z=>{if(!G){const st=Z.data[0];qt(!!st,16349);const dt=st,ht=dt?.error||dt[0]?.error;if(ht){it(Xe,`RPC '${t}' stream ${l} received error:`,ht);const Bt=ht.status;let Zt=(function(A){const I=Ae[A];if(I!==void 0)return ME(I)})(Bt),kt=ht.message;Zt===void 0&&(Zt=W.INTERNAL,kt="Unknown error status: "+Bt+" with message "+ht.message),G=!0,K.a_(new lt(Zt,kt)),S.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,st),K.u_(st)}})),J(g,ZT.STAT_EVENT,(Z=>{Z.stat===um.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===um.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Ah(r){return new OC(r,!0)}class KE{constructor(t,i,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const y0="PersistentStream";class YE{constructor(t,i,s,l,u,d,g,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(or(i.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new lt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xx extends YE{constructor(t,i,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=kC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ci(d.readTime):_t.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(u,d){let g;const _=d.target;if(g=mm(_)?{documents:PC(u,_)}:{query:zC(u,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=UE(u,d.resumeToken);const y=pm(u,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=ih(u,d.snapshotVersion.toTimestamp());const y=pm(u,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=BC(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class Nx extends YE{constructor(t,i,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LC(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>UC(this.serializer,s)))};this.q_(i)}}class Dx{}class Ox extends Dx{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,ym(i,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(W.UNKNOWN,u.toString())}))}Ho(t,i,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class Vx{constructor(t,i,s,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Js(this)&&(it(Ks,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await Gl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new Mx(s,l)}}async function wh(r){if(Js(r))for(const t of r.da)await t(!0)}async function Gl(r){for(const t of r.da)await t(!1)}function XE(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),hg(i)?cg(i):ho(i).O_()&&ug(i,t))}function lg(r,t){const i=Tt(r),s=ho(i);i.Ia.delete(t),s.O_()&&$E(i,t),i.Ia.size===0&&(s.O_()?s.L_():Js(i)&&i.Ra.set("Unknown"))}function ug(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(r).Y_(t)}function $E(r,t){r.Va.Ue(t),ho(r).Z_(t)}function cg(r){r.Va=new CC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function hg(r){return Js(r)&&!ho(r).x_()&&r.Ia.size>0}function Js(r){return Tt(r).Ea.size===0}function JE(r){r.Va=void 0}async function kx(r){r.Ra.set("Online")}async function Ux(r){r.Ia.forEach(((t,i)=>{ug(r,t)}))}async function Lx(r,t){JE(r),hg(r)?(r.Ra.ha(t),cg(r)):r.Ra.set("Unknown")}async function Px(r,t,i){if(r.Ra.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){it(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(r,s)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof VE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const s=await QE(r.localStore);i.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),$E(u,_);const S=new Qr(b.target,_,y,b.sequenceNumber);ug(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){it(Ks,"Failed to raise snapshot:",s),await sh(r,s)}}async function sh(r,t,i){if(!co(t))throw t;r.Ea.add(1),await Gl(r),r.Ra.set("Offline"),i||(i=()=>QE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ks,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function ZE(r,t){return t().catch((i=>sh(r,i,t)))}async function Rh(r){const t=Tt(r),i=es(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ym;for(;zx(t);)try{const l=await Tx(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,jx(t,l)}catch(l){await sh(t,l)}WE(t)&&tb(t)}function zx(r){return Js(r)&&r.Ta.length<10}function jx(r,t){r.Ta.push(t);const i=es(r);i.O_()&&i.X_&&i.ea(t.mutations)}function WE(r){return Js(r)&&!es(r).x_()&&r.Ta.length>0}function tb(r){es(r).start()}async function Bx(r){es(r).ra()}async function qx(r){const t=es(r);for(const i of r.Ta)t.ea(i.mutations)}async function Hx(r,t,i){const s=r.Ta.shift(),l=eg.from(s,t,i);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function Fx(r,t){t&&es(r).X_&&await(async function(s,l){if((function(d){return wC(d)&&d!==W.ABORTED})(l.code)){const u=s.Ta.shift();es(s).B_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Rh(s)}})(r,t),WE(r)&&tb(r)}async function _0(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(Ks,"RemoteStore received new credentials");const s=Js(i);i.Ea.add(3),await Gl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function Gx(r,t){const i=Tt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(i,s,l){const u=Tt(i);return u.sa(),new xx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:kx.bind(null,r),t_:Ux.bind(null,r),r_:Lx.bind(null,r),H_:Px.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),hg(r)?cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))}))),r.ma}function es(r){return r.fa||(r.fa=(function(i,s,l){const u=Tt(i);return u.sa(),new Nx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bx.bind(null,r),r_:Fx.bind(null,r),ta:qx.bind(null,r),na:Hx.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class fg{constructor(t,i,s,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,u){const d=Date.now()+s,g=new fg(t,i,d,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,t){if(or("AsyncQueue",`${t}: ${r}`),co(r))return new lt(W.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Tl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new $a;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class v0{constructor(){this.ga=new oe(ft.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ro{constructor(t,i,s,l,u,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ro(t,i,$a.emptySet(i),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class Qx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Kx{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),u=l.queries;l.queries=T0(),u.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function T0(){return new $s((r=>TE(r)),vh)}async function Yx(r,t){const i=Tt(r);let s=3;const l=t.query;let u=i.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new Qx,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=dg(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&mg(i)}async function Xx(r,t){const i=Tt(r),s=t.query;let l=3;const u=i.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function $x(r,t){const i=Tt(r);let s=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&mg(i)}function Jx(r,t,i){const s=Tt(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(i);s.queries.delete(t)}function mg(r){r.Ca.forEach((t=>{t.next()}))}var bm,E0;(E0=bm||(bm={})).Ma="default",E0.Cache="cache";class Zx{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class eb{constructor(t){this.key=t}}class nb{constructor(t){this.key=t}}class Wx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=EE(t),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new v0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const D=l.get(b),G=Th(this.query,S)?S:null,K=!!D&&this.mutatedKeys.has(D.key),J=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;D&&G?D.data.isEqual(G.data)?K!==J&&(s.track({type:3,doc:G}),Z=!0):this.su(D,G)||(s.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!D&&G?(s.track({type:0,doc:G}),Z=!0):D&&!G&&(s.track({type:1,doc:D}),Z=!0,(_||y)&&(g=!0)),Z&&(G?(d=d.add(G),u=J?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(G,K){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Z})}};return J(G)-J(K)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ro(this.query,t.tu,u,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new nb(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new eb(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Dt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class tN{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class eN{constructor(t){this.key=t,this.hu=!1}}class nN{constructor(t,i,s,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((g=>TE(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iN(r,t,i=!0){const s=lb(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ib(s,t,i,!0),l}async function rN(r,t){const i=lb(r);await ib(i,t,!0,!1)}async function ib(r,t,i,s){const l=await Ex(r.localStore,Ri(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await sN(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&XE(r.remoteStore,l),g}async function sN(r,t,i,s,l){r.pu=(S,D,G)=>(async function(J,Z,st,dt){let ht=Z.view.ru(st);ht.Cs&&(ht=await d0(J.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,ht))));const Bt=dt&&dt.targetChanges.get(Z.targetId),Zt=dt&&dt.targetMismatches.get(Z.targetId)!=null,kt=Z.view.applyChanges(ht,J.isPrimaryClient,Bt,Zt);return S0(J,Z.targetId,kt.au),kt.snapshot})(r,S,D,G);const u=await d0(r.localStore,t,!0),d=new Wx(t,u.Qs),g=d.ru(u.documents),_=Fl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);S0(r,i,y.au);const b=new tN(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function aN(r,t,i){const s=Tt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!vh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&lg(s.remoteStore,l.targetId),Sm(s,l.targetId)})).catch(uo)):(Sm(s,l.targetId),await Tm(s.localStore,l.targetId,!0))}async function oN(r,t){const i=Tt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),lg(i.remoteStore,s.targetId))}async function lN(r,t,i){const s=gN(r);try{const l=await(function(d,g){const _=Tt(d),y=ee.now(),b=g.reduce(((G,K)=>G.add(K.key)),Dt());let S,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let K=lr(),J=Dt();return _.Ns.getEntries(G,b).next((Z=>{K=Z,K.forEach(((st,dt)=>{dt.isValidDocument()||(J=J.add(st))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,K))).next((Z=>{S=Z;const st=[];for(const dt of g){const ht=TC(dt,S.get(dt.key).overlayedDocument);ht!=null&&st.push(new rs(dt.key,ht,dE(ht.value.mapValue),Ii.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,st,g)})).next((Z=>{D=Z;const st=Z.applyToLocalDocumentSet(S,J);return _.documentOverlayCache.saveOverlays(G,Z.batchId,st)}))})).then((()=>({batchId:D.batchId,changes:SE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,i),await Ql(s,l.changes),await Rh(s.remoteStore)}catch(l){const u=dg(l,"Failed to persist write");i.reject(u)}}async function rb(r,t){const i=Tt(r);try{const s=await _x(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Ql(i,s,t)}catch(s){await uo(s)}}function b0(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Tt(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,S)=>{for(const D of S.Sa)D.va(g)&&(y=!0)})),y&&mg(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function uN(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new oe(ft.comparator);d=d.insert(u,Je.newNoDocument(u,_t.min()));const g=Dt().add(u),_=new Sh(_t.min(),new Map,new oe(Nt),d,g);await rb(s,_),s.du=s.du.remove(u),s.Au.delete(t),pg(s)}else await Tm(s.localStore,t,!1).then((()=>Sm(s,t,i))).catch(uo)}async function cN(r,t){const i=Tt(r),s=t.batch.batchId;try{const l=await yx(i.localStore,t);ab(i,s,null),sb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ql(i,l)}catch(l){await uo(l)}}async function hN(r,t,i){const s=Tt(r);try{const l=await(function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(qt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,t);ab(s,t,i),sb(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ql(s,l)}catch(l){await uo(l)}}function sb(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ab(r,t,i){const s=Tt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||ob(r,s)}))}function ob(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(lg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),pg(r))}function S0(r,t,i){for(const s of i)s instanceof eb?(r.Ru.addReference(s.key,t),fN(r,s)):s instanceof nb?(it(gg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||ob(r,s.key)):gt(19791,{wu:s})}function fN(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(gg,"New document in limbo: "+i),r.Eu.add(s),pg(r))}function pg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ae.fromString(t)),s=r.fu.next();r.Au.set(s,new eN(i)),r.du=r.du.insert(i,s),XE(r.remoteStore,new Qr(Ri(Wm(i.path)),s,"TargetPurposeLimboResolution",gh.ce))}}async function Ql(r,t,i){const s=Tt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=ag.As(_.targetId,y);u.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(_,y){const b=Tt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(D=>$.forEach(D.Es,(G=>b.persistence.referenceDelegate.addReference(S,D.targetId,G))).next((()=>$.forEach(D.ds,(G=>b.persistence.referenceDelegate.removeReference(S,D.targetId,G)))))))))}catch(S){if(!co(S))throw S;it(og,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const G=b.Ms.get(D),K=G.snapshotVersion,J=G.withLastLimboFreeSnapshotVersion(K);b.Ms=b.Ms.insert(D,J)}}})(s.localStore,u))}async function dN(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){it(gg,"User change. New user:",t.toKey());const s=await GE(i.localStore,t);i.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((_=>{_.reject(new lt(W.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ql(i,s.Ls)}}function mN(r,t){const i=Tt(r),s=i.Au.get(t);if(s&&s.hu)return Dt().add(s.key);{let l=Dt();const u=i.Iu.get(t);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function lb(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uN.bind(null,t),t.Pu.H_=$x.bind(null,t.eventManager),t.Pu.yu=Jx.bind(null,t.eventManager),t}function gN(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return px(this.persistence,new dx,t.initialUser,this.serializer)}Cu(t){return new FE(sg.mi,this.serializer)}Du(t){return new Sx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class pN extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new FE((s=>rh.mi(s,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,this.syncEngine),await Gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Kx})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),s=(function(u){return new Cx(u)})(t.databaseInfo);return(function(u,d,g,_){return new Ox(u,d,g,_)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,u,d,g){return new Vx(s,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>b0(this.syncEngine,i,0)),(function(){return p0.v()?new p0:new Ax})())}createSyncEngine(t,i){return(function(l,u,d,g,_,y,b){const S=new nN(l,u,d,g,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);it(Ks,"RemoteStore shutting down."),s.Ea.add(5),await Gl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class yN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ns="FirestoreClient";class _N{constructor(t,i,s,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{it(ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=dg(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),it(ns,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await GE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function A0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await vN(r);it(ns,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>_0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>_0(t.remoteStore,l))),r._onlineComponents=t}async function vN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ns,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Jd(r,new ah)}}else it(ns,"Using default OfflineComponentProvider"),await Jd(r,new pN(void 0));return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ns,"Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(it(ns,"Using default OnlineComponentProvider"),await A0(r,new Am))),r._onlineComponents}function TN(r){return ub(r).then((t=>t.syncEngine))}async function EN(r){const t=await ub(r),i=t.eventManager;return i.onListen=iN.bind(null,t.syncEngine),i.onUnlisten=aN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=rN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oN.bind(null,t.syncEngine),i}function bN(r,t,i={}){const s=new $r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,_,y){const b=new yN({next:D=>{b.Nu(),d.enqueueAndForget((()=>Xx(u,S)));const G=D.docs.has(g);!G&&D.fromCache?y.reject(new lt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&_&&_.source==="server"?y.reject(new lt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new Zx(Wm(g.path),b,{includeMetadataChanges:!0,qa:!0});return Yx(u,S)})(await EN(r),r.asyncQueue,t,i,s))),s.promise}function cb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const w0=new Map;const hb="firestore.googleapis.com",R0=!0;class I0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=R0}else this.host=t.host,this.ssl=t.ssl??R0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$C)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yg{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new E2;switch(s.type){case"firstParty":return new w2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=w0.get(i);s&&(it("ComponentProvider","Removing Datastore"),w0.delete(i),s.terminate())})(this),Promise.resolve()}}function SN(r,t,i,s={}){r=Qs(r,yg);const l=so(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(B0(`https://${g}`),q0("Firestore",!0)),u.host!==hb&&u.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:g,ssl:l,emulatorOptions:s};if(!rr(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=$e.MOCK_USER;else{y=SA(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(S)}r._authCredentials=new b2(new nE(y,b))}}class _g{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _g(this.firestore,t,this._query)}}class Oe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(ql(i,Oe._jsonSchema))return new Oe(t,s||null,new ft(ae.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Ll extends _g{constructor(t,i,s){super(t,i,Wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ft(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Zd(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=Qm.newId()),D2("doc","path",t),r instanceof yg){const s=ae.fromString(t,...i);return Bv(s),new Oe(r,null,new ft(s))}{if(!(r instanceof Oe||r instanceof Ll))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...i));return Bv(s),new Oe(r.firestore,r instanceof Ll?r.converter:null,new ft(s))}}const C0="AsyncQueue";class x0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&it(C0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;it(C0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",N0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=fg.createAndSchedule(this,t,i,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function N0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ih extends yg{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new x0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new x0(t),this._firestoreClient=void 0,await t}}}function AN(r,t){const i=typeof r=="object"?r:Cm(),s=typeof r=="string"?r:Jc,l=Xs(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=EA("firestore");u&&SN(l,...u)}return l}function fb(r){if(r._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wN(r),r._firestoreClient}function wN(r){const t=r._freezeSettings(),i=(function(l,u,d,g){return new H2(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,cb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _N(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:we("string",Ln._jsonSchemaVersion),bytes:we("string")};class Ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:we("string",xi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new lt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:we("string",Ni._jsonSchemaVersion),vectorValues:we("object")};const RN=/^__.*__$/;class IN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class db{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function mb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Nh{constructor(t,i,s,l,u,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mb(this.Ac)&&RN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Ah(t)}Cc(t,i,s,l=!1){return new Nh({Ac:t,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gb(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new CN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function xN(r,t,i,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,i,l);Tg("Data must be an object, but it was:",d,s);const g=pb(s,d);let _,y;if(u.merge)_=new bn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const D=wm(t,S,i);if(!d.contains(D))throw new lt(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);_b(b,D)||b.push(D)}_=new bn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new IN(new fn(g),_,y)}class Dh extends xh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function NN(r,t,i){return new Nh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vg extends xh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=NN(this,t,!0),s=this.vc.map((u=>Kl(u,i))),l=new no(s);return new pC(t.path,l)}isEqual(t){return t instanceof vg&&rr(this.vc,t.vc)}}function DN(r,t,i,s){const l=r.Cc(1,t,i);Tg("Data must be an object, but it was:",l,s);const u=[],d=fn.empty();is(s,((_,y)=>{const b=Eg(t,_,i);y=Pe(y);const S=l.yc(b);if(y instanceof Dh)u.push(b);else{const D=Kl(y,S);D!=null&&(u.push(b),d.set(b,D))}}));const g=new bn(u);return new db(d,g,l.fieldTransforms)}function ON(r,t,i,s,l,u){const d=r.Cc(1,t,i),g=[wm(t,s,i)],_=[l];if(u.length%2!=0)throw new lt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)g.push(wm(t,u[D])),_.push(u[D+1]);const y=[],b=fn.empty();for(let D=g.length-1;D>=0;--D)if(!_b(y,g[D])){const G=g[D];let K=_[D];K=Pe(K);const J=d.yc(G);if(K instanceof Dh)y.push(G);else{const Z=Kl(K,J);Z!=null&&(y.push(G),b.set(G,Z))}}const S=new bn(y);return new db(b,S,d.fieldTransforms)}function Kl(r,t){if(yb(r=Pe(r)))return Tg("Unsupported field value:",t,r),pb(r,t);if(r instanceof xh)return(function(s,l){if(!mb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let _=Kl(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ee.fromDate(s);return{timestampValue:ih(l.serializer,u)}}if(s instanceof ee){const u=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(l.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:UE(l.serializer,s._byteString)};if(s instanceof Oe){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ni)return(function(d,g){return{mapValue:{fields:{[hE]:{stringValue:fE},[Zc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return tg(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Km(s)}`)})(r,t)}function pb(r,t){const i={};return sE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,((s,l)=>{const u=Kl(l,t.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function yb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof xi||r instanceof Ln||r instanceof Oe||r instanceof xh||r instanceof Ni)}function Tg(r,t,i){if(!yb(i)||!iE(i)){const s=Km(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function wm(r,t,i){if((t=Pe(t))instanceof Ch)return t._internalPath;if(typeof t=="string")return Eg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MN=new RegExp("[~\\*/\\[\\]]");function Eg(r,t,i){if(t.search(MN)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ch(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new lt(W.INVALID_ARGUMENT,g+r+_)}function _b(r,t){return r.some((i=>i.isEqual(t)))}class vb{constructor(t,i,s,l,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Tb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VN extends vb{data(){return super.data()}}function Tb(r,t){return typeof t=="string"?Eg(r,t):t instanceof Ch?t._internalPath:t._delegate._internalPath}class kN{convertValue(t,i="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return is(t,((l,u)=>{s[l]=this.convertValue(u,i)})),s}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new xi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=yh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=Zr(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ae.fromString(t);qt(qE(s),9688,{name:t});const l=new Vl(s.get(1),s.get(3)),u=new ft(s.popFirst(5));return l.isEqual(i)||or(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function UN(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends vb{constructor(t,i,s,l,u,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Tb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:we("string",Bs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class zc extends Bs{data(t={}){return super.data(t)}}class xl{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new zc(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:LN(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function PN(r){r=Qs(r,Oe);const t=Qs(r.firestore,Ih);return bN(fb(t),r._key).then((i=>BN(t,r,i)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:we("string",xl._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class zN extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function jN(r,t,i){r=Qs(r,Oe);const s=Qs(r.firestore,Ih),l=UN(r.converter,t);return Eb(s,[xN(gb(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ii.none())])}function D0(r,t,i,...s){r=Qs(r,Oe);const l=Qs(r.firestore,Ih),u=gb(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Ch?ON(u,"updateDoc",r._key,t,i,s):DN(u,"updateDoc",r._key,t),Eb(l,[d.toMutation(r._key,Ii.exists(!0))])}function Eb(r,t){return(function(s,l){const u=new $r;return s.asyncQueue.enqueueAndForget((async()=>lN(await TN(s),l,u))),u.promise})(fb(r),t)}function BN(r,t,i){const s=i.docs.get(t._key),l=new zN(r);return new Bs(r,l,t._key,s,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function qN(...r){return new vg("arrayUnion",r)}(function(t,i=!0){(function(l){lo=l})(ao),Di(new ti("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new Ih(new S2(s.getProvider("auth-internal")),new R2(d,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,b)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Pn(Lv,Pv,t),Pn(Lv,Pv,"esm2020")})();const HN={apiKey:"AIzaSyAOC7HKO557OZIY2sOKubjaazk1ZxpKxdo",authDomain:"workout-tracker-52fc7.firebaseapp.com",projectId:"workout-tracker-52fc7",storageBucket:"workout-tracker-52fc7.firebasestorage.app",messagingSenderId:"1032877044952",appId:"1:1032877044952:web:68598ac1b2618cc24213ad",measurementId:"G-T8H89EHWH0"},bg=X0(HN);gR(bg);const xc=v2(bg),FN=new er,Wd=AN(bg),bb=Ne.createContext(),O0={name:"Athlete",xp:0,level:1,streak:0,lastWorkoutDate:null,badges:[]},GN=({children:r})=>{const[t,i]=Ne.useState(()=>localStorage.getItem("workout-tracker-theme")||"dark");Ne.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("workout-tracker-theme",t)},[t]);const s=()=>{i(K=>K==="dark"?"light":"dark")},[l,u]=Ne.useState(null),[d,g]=Ne.useState(!0),[_,y]=Ne.useState(null);Ne.useEffect(()=>{const K=oI(xc,async J=>{if(J){u(J);try{const Z=Zd(Wd,"users",J.uid),st=await PN(Z);if(st.exists())y(st.data());else{const dt={user:{...O0,name:J.displayName||J.email.split("@")[0]},workouts:[]};await jN(Z,dt),y(dt)}}catch(Z){console.error("Error fetching user data:",Z);const st=localStorage.getItem(`workout-tracker-data-${J.uid}`);if(st)y(JSON.parse(st));else{const dt={user:{...O0,name:J.displayName||J.email.split("@")[0]},workouts:[]};y(dt)}}}else u(null),y(null);g(!1)});return()=>K()},[]);const b=async()=>{try{if(xc.app.options.apiKey==="YOUR_API_KEY")throw new Error("Firebase not configured. Please update src/firebase.js with your keys.");return await CI(xc,FN),{success:!0}}catch(K){return console.error("Google Login Error:",K),{success:!1,error:K.message}}},S=async()=>{try{await lI(xc)}catch(K){console.error("Logout Error:",K)}},D=async K=>{if(y(J=>({...J,workouts:[K,...J.workouts]})),l)try{const J=Zd(Wd,"users",l.uid);await D0(J,{workouts:qN(K)})}catch(J){console.error("Error saving workout:",J)}},G=async K=>{if(y(J=>({...J,user:{...J.user,...K}})),l)try{const J=Zd(Wd,"users",l.uid),Z={};for(const[st,dt]of Object.entries(K))Z[`user.${st}`]=dt;await D0(J,Z)}catch(J){console.error("Error updating stats:",J)}};return C.jsx(bb.Provider,{value:{user:_?.user,workouts:_?.workouts||[],isAuthenticated:!!l,loading:d,theme:t,toggleTheme:s,loginWithGoogle:b,logout:S,addWorkout:D,updateUserStats:G},children:!d&&r})},ki=()=>Ne.useContext(bb),Sb=({className:r=""})=>{const{theme:t,toggleTheme:i}=ki();return C.jsxs("label",{className:`theme-switch ${r}`,children:[C.jsx("input",{type:"checkbox",checked:t==="light",onChange:i}),C.jsxs("span",{className:"slider round",children:[C.jsx("span",{className:"icon sun",children:""}),C.jsx("span",{className:"icon moon",children:""})]}),C.jsx("style",{children:`
                .theme-switch {
                    position: relative;
                    display: inline-block;
                    width: 60px;
                    height: 30px;
                }

                .theme-switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: var(--bg-card);
                    border: 1px solid var(--border);
                    transition: .4s;
                    border-radius: 34px;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0 5px;
                    overflow: hidden;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 22px;
                    width: 22px;
                    left: 4px;
                    bottom: 3px;
                    background-color: var(--primary);
                    transition: .4s;
                    border-radius: 50%;
                    z-index: 2;
                }

                input:checked + .slider {
                    background-color: var(--bg-card);
                }

                input:checked + .slider:before {
                    transform: translateX(28px);
                }

                .icon {
                    font-size: 14px;
                    z-index: 1;
                    line-height: 1;
                }
                
                .sun { margin-left: 2px; }
                .moon { margin-right: 2px; }
            `})]})},QN=({children:r,activeTab:t,onTabChange:i})=>{const{theme:s}=ki();return C.jsxs("div",{className:"app-container",children:[C.jsx("div",{className:"page-content",children:r}),C.jsxs("nav",{className:"bottom-nav glass-panel",children:[C.jsxs("button",{className:`nav-item ${t==="dashboard"?"active":""}`,onClick:()=>i("dashboard"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"Home"})]}),C.jsxs("button",{className:`nav-item ${t==="history"?"active":""}`,onClick:()=>i("history"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"History"})]}),C.jsx("button",{className:`nav-item ${t==="workout"?"active":""}`,onClick:()=>i("workout"),children:C.jsx("div",{className:"nav-fab",children:"+"})}),C.jsxs("button",{className:`nav-item ${t==="badges"?"active":""}`,onClick:()=>i("badges"),children:[C.jsx("span",{className:"nav-icon",children:""}),C.jsx("span",{className:"nav-label",children:"Badges"})]})]}),C.jsx("div",{className:"layout-theme-toggle",children:C.jsx(Sb,{})}),C.jsx("style",{children:`
        .layout-theme-toggle {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 100;
        }
        
        .bottom-nav {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          width: calc(100% - 40px);
          max-width: 400px;
          height: 70px;
          border-radius: 24px;
          display: flex;
          justify-content: space-around;
          align-items: center;
          z-index: 100;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .nav-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          padding: 0;
          color: var(--text-muted);
          font-size: 0.75rem;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          width: 60px;
          cursor: pointer;
        }

        .nav-item.active {
          color: var(--primary);
          transform: translateY(-2px);
        }

        .nav-icon {
          font-size: 1.5rem;
          margin-bottom: 2px;
          filter: grayscale(100%);
          transition: filter 0.3s;
        }

        .nav-item.active .nav-icon {
          filter: grayscale(0%);
        }

        .nav-fab {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, var(--primary), var(--secondary));
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 2rem;
          font-weight: 300;
          box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
          transform: translateY(-20px);
          transition: transform 0.2s;
          border: 4px solid var(--bg-app);
        }

        .nav-item:active .nav-fab {
          transform: translateY(-18px) scale(0.95);
        }
      `})]})},KN=()=>new Date().toISOString().split("T")[0],Ab=(r,t)=>!r||!t?!1:r.split("T")[0]===t.split("T")[0],YN=r=>{if(!r)return!1;const t=new Date,i=new Date(t);return i.setDate(i.getDate()-1),Ab(r,i.toISOString())},wb=[{id:"first_workout",name:"Spartan Initiate",description:"Complete your first workout",icon:""},{id:"streak_3",name:"Hermes Speed",description:"Maintain a 3-day streak",icon:""},{id:"streak_7",name:"Hercules Strength",description:"Maintain a 7-day streak",icon:""},{id:"streak_30",name:"Titan Endurance",description:"Maintain a 30-day streak",icon:""},{id:"heavy_lifter",name:"Atlas Bearer",description:"Lift over 100kg in any exercise",icon:""},{id:"level_5",name:"Olympian",description:"Reach Level 5",icon:""}],XN=(r,t)=>{const i=KN();return r?Ab(r,i)?t:YN(r)?t+1:1:1},$N=r=>{let t=50;return r.exercises.forEach(i=>{t+=i.sets.length*10}),t},Rb=r=>Math.floor(r/100)+1,JN=(r,t)=>{const i=[],s=new Set(r.badges);return s.has("first_workout")||i.push("first_workout"),r.streak>=3&&!s.has("streak_3")&&i.push("streak_3"),r.streak>=7&&!s.has("streak_7")&&i.push("streak_7"),r.streak>=30&&!s.has("streak_30")&&i.push("streak_30"),r.level>=5&&!s.has("level_5")&&i.push("level_5"),i},M0=({onNavigate:r})=>{const{user:t,logout:i,workouts:s}=ki(),l=Rb(t.xp),u=(l+1)*1e3,d=l*1e3,g=(t.xp-d)/(u-d)*100,_=new Set(t.badges),y=wb.filter(b=>!_.has(b.id)).slice(0,2);return C.jsxs("div",{className:"dashboard",children:[C.jsxs("header",{className:"header flex-between",children:[C.jsxs("div",{children:[C.jsxs("h1",{className:"greeting",children:["Hello, ",C.jsx("span",{className:"text-gradient",children:t.name})]}),C.jsx("p",{className:"subtitle",children:"Ready to conquer today?"})]}),C.jsx("button",{onClick:i,className:"btn-icon","aria-label":"Logout",children:""})]}),C.jsxs("div",{className:"stats-grid",children:[C.jsxs("div",{className:"card stat-card glass-panel",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-info",children:[C.jsx("h3",{children:t.streak}),C.jsx("p",{children:"Day Streak"})]})]}),C.jsxs("div",{className:"card stat-card glass-panel",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-info",children:[C.jsx("h3",{children:t.xp}),C.jsx("p",{children:"Total XP"})]})]}),C.jsxs("div",{className:"card stat-card glass-panel full-width",children:[C.jsxs("div",{className:"level-info flex-between",children:[C.jsx("span",{className:"stat-icon",children:""}),C.jsxs("div",{className:"stat-text",children:[C.jsxs("h3",{children:["Level ",l]}),C.jsxs("p",{children:[u-t.xp," XP to next level"]})]})]}),C.jsx("div",{className:"progress-bar-bg",children:C.jsx("div",{className:"progress-bar-fill",style:{width:`${g}%`}})})]})]}),C.jsxs("section",{className:"section",children:[C.jsxs("div",{className:"flex-between mb-2",children:[C.jsx("h2",{children:"Next Milestones"}),C.jsx("span",{className:"see-all",onClick:()=>r("badges"),children:"View All"})]}),C.jsx("div",{className:"badges-scroll",children:y.length>0?y.map(b=>C.jsxs("div",{className:"badge-card locked glass-panel",children:[C.jsx("div",{className:"badge-icon",children:b.icon}),C.jsxs("div",{className:"badge-details",children:[C.jsx("h4",{children:b.name}),C.jsx("p",{children:b.description})]})]},b.id)):C.jsx("div",{className:"empty-state",children:C.jsx("p",{children:"You're a legend! All current badges earned."})})})]}),C.jsxs("section",{className:"section",children:[C.jsx("h2",{children:"Recent Activity"}),C.jsx("div",{className:"activity-list",children:s.length===0?C.jsxs("div",{className:"card empty-card",children:[C.jsx("p",{children:"No workouts yet. Start your legend today!"}),C.jsx("button",{onClick:()=>r("workout"),className:"btn-primary mt-2",children:"Start First Workout"})]}):s.slice(0,3).map((b,S)=>C.jsxs("div",{className:"card workout-card glass-panel",children:[C.jsxs("div",{className:"workout-header",children:[C.jsx("span",{className:"workout-date",children:new Date(b.date).toLocaleDateString()}),C.jsxs("span",{className:"workout-xp",children:["+",b.xpEarned," XP"]})]}),C.jsxs("div",{className:"workout-summary",children:[b.exercises.length," Exercises Completed"]})]},S))})]}),C.jsx("style",{children:`
                .header {
                    margin-bottom: 24px;
                    padding-top: 10px;
                }
                .greeting {
                    font-size: 1.75rem;
                    margin-bottom: 4px;
                }
                .subtitle {
                    color: var(--text-muted);
                    font-size: 0.9rem;
                }
                
                .stats-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 12px;
                    margin-bottom: 32px;
                }
                .stat-card {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 16px;
                    margin-bottom: 0;
                    background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
                }
                .stat-card.full-width {
                    grid-column: span 2;
                    align-items: stretch;
                    text-align: left;
                }
                .stat-icon {
                    font-size: 2rem;
                    margin-bottom: 8px;
                    filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
                }
                .stat-info h3 {
                    font-size: 1.5rem;
                    color: white;
                    margin-bottom: 2px;
                }
                .stat-info p {
                    font-size: 0.8rem;
                    color: var(--text-muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                .level-info {
                    margin-bottom: 12px;
                }
                .level-info .stat-icon {
                    font-size: 2.5rem;
                    margin-bottom: 0;
                    margin-right: 16px;
                }
                .progress-bar-bg {
                    height: 8px;
                    background: rgba(255,255,255,0.1);
                    border-radius: 4px;
                    overflow: hidden;
                }
                .progress-bar-fill {
                    height: 100%;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                    border-radius: 4px;
                    transition: width 1s ease-out;
                }

                .section {
                    margin-bottom: 32px;
                }
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 16px; }
                
                .see-all {
                    color: var(--primary);
                    font-size: 0.9rem;
                    font-weight: 600;
                    cursor: pointer;
                }

                .badges-scroll {
                    display: flex;
                    gap: 12px;
                    overflow-x: auto;
                    padding-bottom: 10px;
                    margin: 0 -20px;
                    padding: 0 20px 20px 20px;
                    -webkit-overflow-scrolling: touch;
                }
                .badge-card {
                    min-width: 160px;
                    padding: 16px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.05);
                }
                .badge-card.locked {
                    opacity: 0.7;
                }
                .badge-icon {
                    font-size: 2.5rem;
                    margin-bottom: 12px;
                    filter: grayscale(100%);
                }
                .badge-details h4 {
                    font-size: 0.9rem;
                    margin-bottom: 4px;
                    color: var(--text-main);
                }
                .badge-details p {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                    line-height: 1.3;
                }

                .workout-card {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 16px;
                }
                .workout-date {
                    font-weight: 600;
                    color: var(--text-main);
                }
                .workout-xp {
                    color: var(--accent);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .workout-summary {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin-top: 4px;
                }
                .empty-card {
                    text-align: center;
                    padding: 32px;
                    color: var(--text-muted);
                }
            `})]})},ZN=(r,t)=>{const i=t.find(u=>u.exercises.some(d=>d.name===r));if(!i)return null;const s=i.exercises.find(u=>u.name===r);if(!s||!s.sets.length)return null;const l=Math.max(...s.sets.map(u=>u.weight||0));return l>0?l+2.5:null},V0=["Bench Press","Squat","Deadlift","Overhead Press","Pull Up","Dumbbell Row","Lunges"],WN=({onFinish:r})=>{const{user:t,workouts:i,addWorkout:s,updateUserStats:l}=ki(),[u,d]=Ne.useState([]),[g,_]=Ne.useState(V0[0]),y=()=>{const K=g,J=ZN(K,i);d([...u,{id:Date.now(),name:K,targetWeight:J,sets:3,reps:10,weight:J||20}])},b=(K,J,Z)=>{const st=[...u];st[K][J]=Number(Z),d(st)},S=K=>{const J=u.filter((Z,st)=>st!==K);d(J)},D=()=>{if(u.length===0)return;const K={id:crypto.randomUUID(),date:new Date().toISOString(),exercises:u},J=$N(K),Z=XN(t.lastWorkoutDate,t.streak),st=t.xp+J,dt=Rb(st),ht={...t,streak:Z,xp:st,level:dt,lastWorkoutDate:new Date().toISOString()},Bt=JN(ht);s(K),l({streak:Z,xp:ht.xp,level:ht.level,lastWorkoutDate:ht.lastWorkoutDate,badges:[...t.badges,...Bt]}),r()},G=u.length*10;return C.jsxs("div",{className:"workout-session",children:[C.jsxs("header",{className:"flex-between mb-2",children:[C.jsx("h2",{children:"Workout Session"}),C.jsxs("div",{className:"xp-badge",children:["+",G," XP"]})]}),C.jsx("div",{className:"exercise-list",children:u.map((K,J)=>C.jsxs("div",{className:"card exercise-card glass-panel",children:[C.jsxs("div",{className:"exercise-header",children:[C.jsx("h3",{children:K.name}),C.jsx("button",{className:"btn-icon delete-btn",onClick:()=>S(J),children:""})]}),C.jsxs("div",{className:"exercise-inputs",children:[C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Sets"}),C.jsx("input",{type:"number",value:K.sets,onChange:Z=>b(J,"sets",Z.target.value),placeholder:"0",inputMode:"numeric"})]}),C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Reps"}),C.jsx("input",{type:"number",value:K.reps,onChange:Z=>b(J,"reps",Z.target.value),placeholder:"0",inputMode:"numeric"})]}),C.jsxs("div",{className:"input-col",children:[C.jsx("label",{children:"Lbs"}),C.jsx("input",{type:"number",value:K.weight,onChange:Z=>b(J,"weight",Z.target.value),placeholder:"0",inputMode:"numeric"})]})]})]},J))}),C.jsxs("div",{className:"add-exercise-section",children:[C.jsx("select",{value:g,onChange:K=>_(K.target.value),className:"exercise-select",children:V0.map(K=>C.jsx("option",{value:K,children:K},K))}),C.jsx("button",{onClick:y,className:"btn-secondary btn-full mt-2",children:"+ Add Exercise"})]}),C.jsx("div",{className:"action-bar",children:C.jsx("button",{onClick:D,className:"btn-primary btn-full finish-btn",children:"Finish Workout"})}),C.jsx("style",{children:`
                .workout-session {
                    padding-bottom: 80px;
                }
                .xp-badge {
                    background: rgba(16, 185, 129, 0.2);
                    color: var(--accent);
                    padding: 4px 12px;
                    border-radius: var(--radius-full);
                    font-weight: 700;
                    font-size: 0.9rem;
                }
                .exercise-card {
                    margin-bottom: 16px;
                    animation: slideIn 0.3s ease-out;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .exercise-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 12px;
                }
                .exercise-header h3 {
                    font-size: 1.1rem;
                    color: white;
                }
                .delete-btn {
                    color: var(--error);
                    opacity: 0.7;
                }
                .exercise-inputs {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 12px;
                }
                .input-col label {
                    text-align: center;
                    font-size: 0.75rem;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .input-col input {
                    text-align: center;
                    font-size: 1.1rem;
                    font-weight: 600;
                    padding: 12px 8px;
                }
                
                .exercise-select {
                    width: 100%;
                    padding: 16px;
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius-md);
                    color: white;
                    font-size: 1rem;
                    appearance: none;
                    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
                    background-repeat: no-repeat;
                    background-position: right 16px center;
                    background-size: 16px;
                }

                .action-bar {
                    position: fixed;
                    bottom: 90px; /* Above nav bar */
                    left: 50%;
                    transform: translateX(-50%);
                    width: calc(100% - 40px);
                    max-width: 400px;
                    z-index: 90;
                }
                
                .finish-btn {
                    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
                    font-size: 1.1rem;
                    padding: 16px;
                }
                
                .mb-2 { margin-bottom: 16px; }
                .mt-2 { margin-top: 12px; }
            `})]})},tD=()=>{const{workouts:r}=ki(),t=[...r].sort((i,s)=>new Date(s.date)-new Date(i.date));return C.jsxs("div",{className:"history-page",children:[C.jsxs("header",{className:"header",children:[C.jsx("h1",{children:"Workout History"}),C.jsx("p",{className:"subtitle",children:"Your legacy in the making"})]}),C.jsx("div",{className:"history-list",children:t.length===0?C.jsxs("div",{className:"empty-state glass-panel",children:[C.jsx("span",{className:"empty-icon",children:""}),C.jsx("p",{children:"No workouts recorded yet."}),C.jsx("p",{className:"sub-text",children:"Complete your first workout to see it here."})]}):t.map((i,s)=>C.jsxs("div",{className:"history-card glass-panel",children:[C.jsxs("div",{className:"card-header",children:[C.jsxs("div",{className:"date-info",children:[C.jsx("span",{className:"day",children:new Date(i.date).toLocaleDateString(void 0,{weekday:"short"})}),C.jsx("span",{className:"date",children:new Date(i.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),C.jsxs("div",{className:"xp-badge",children:["+",i.xpEarned," XP"]})]}),C.jsxs("div",{className:"card-content",children:[C.jsxs("div",{className:"exercise-count",children:[C.jsx("span",{className:"icon",children:""}),C.jsxs("span",{children:[i.exercises.length," Exercises"]})]}),C.jsxs("div",{className:"exercises-preview",children:[i.exercises.slice(0,3).map((l,u)=>C.jsx("span",{className:"ex-tag",children:l.name},u)),i.exercises.length>3&&C.jsxs("span",{className:"ex-tag more",children:["+",i.exercises.length-3]})]})]})]},s))}),C.jsx("style",{children:`
        .header {
          margin-bottom: 24px;
          padding-top: 10px;
        }
        .header h1 {
          font-size: 1.75rem;
          margin-bottom: 4px;
        }
        .subtitle {
          color: var(--text-muted);
          font-size: 0.9rem;
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
          padding-bottom: 100px;
        }

        .history-card {
          padding: 20px;
          border-radius: 16px;
          background: var(--bg-card);
          border: 1px solid var(--border);
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 16px;
          padding-bottom: 16px;
          border-bottom: 1px solid var(--border);
        }

        .date-info {
          display: flex;
          flex-direction: column;
        }

        .day {
          font-size: 0.8rem;
          color: var(--text-muted);
          text-transform: uppercase;
          font-weight: 600;
        }

        .date {
          font-size: 1.2rem;
          font-weight: 700;
          color: var(--text-main);
        }

        .xp-badge {
          background: rgba(245, 158, 11, 0.1);
          color: var(--accent);
          padding: 4px 12px;
          border-radius: 20px;
          font-weight: 700;
          font-size: 0.9rem;
        }

        .card-content {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .exercise-count {
          display: flex;
          align-items: center;
          gap: 8px;
          color: var(--text-main);
          font-weight: 500;
        }

        .exercises-preview {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .ex-tag {
          font-size: 0.75rem;
          padding: 4px 10px;
          background: rgba(255,255,255,0.05);
          border-radius: 6px;
          color: var(--text-muted);
        }

        .ex-tag.more {
          background: rgba(255,255,255,0.1);
          color: var(--text-main);
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          border-radius: 16px;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          display: block;
          opacity: 0.5;
        }

        .sub-text {
          font-size: 0.9rem;
          color: var(--text-muted);
          margin-top: 8px;
        }
      `})]})},eD=()=>{const{user:r}=ki(),t=new Set(r.badges);return C.jsxs("div",{className:"container",children:[C.jsx("h2",{style:{marginBottom:"20px"},children:"Achievements"}),C.jsx("div",{className:"badges-grid",children:wb.map(i=>{const s=t.has(i.id);return C.jsxs("div",{className:`card badge-card ${s?"unlocked":"locked"}`,children:[C.jsx("div",{className:"badge-icon",children:i.icon}),C.jsxs("div",{className:"badge-info",children:[C.jsx("h3",{children:i.name}),C.jsx("p",{children:i.description})]}),!s&&C.jsx("div",{className:"lock-overlay",children:""})]},i.id)})}),C.jsx("style",{children:`
        .badges-grid {
          display: grid;
          gap: var(--spacing-md);
        }

        .badge-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          position: relative;
          overflow: hidden;
        }

        .badge-card.locked {
          opacity: 0.5;
          filter: grayscale(1);
        }

        .badge-icon {
          font-size: 32px;
          background: rgba(255,255,255,0.05);
          width: 60px;
          height: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
        }

        .badge-info h3 {
          font-size: 16px;
          margin-bottom: 4px;
        }

        .badge-info p {
          font-size: 12px;
          color: var(--text-muted);
        }

        .lock-overlay {
          position: absolute;
          right: 20px;
          font-size: 20px;
        }

        .badge-card.unlocked {
          border: 1px solid rgba(10, 255, 153, 0.3);
          background: linear-gradient(90deg, var(--bg-card) 0%, rgba(10, 255, 153, 0.05) 100%);
        }
      `})]})},nD=({onGetStarted:r})=>{const{theme:t}=ki();return C.jsxs("div",{className:"landing-container",children:[C.jsxs("nav",{className:"landing-nav",children:[C.jsx("div",{className:"logo",children:" Shokunin"}),C.jsxs("div",{className:"nav-actions",children:[C.jsx(Sb,{}),C.jsx("button",{className:"btn-login",onClick:()=>r("login"),children:"Login"})]})]}),C.jsxs("section",{className:"hero",children:[C.jsxs("h1",{className:"hero-title",children:["Build Your ",C.jsx("span",{className:"highlight",children:"Daily Routine"})]}),C.jsx("p",{className:"hero-subtitle",children:"Master the art of consistency. Track your workouts, maintain your streak, and forge discipline like a true craftsman."}),C.jsx("button",{className:"btn-primary btn-hero",onClick:()=>{console.log("Start Journey clicked -> signup"),r("signup")},children:"Start Your Journey"})]}),C.jsxs("section",{className:"features",children:[C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Track Progress"}),C.jsx("p",{children:"Log every rep and set. Watch your strength grow over time."})]}),C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Maintain Streaks"}),C.jsx("p",{children:"Consistency is key. Keep your flame alive day after day."})]}),C.jsxs("div",{className:"feature-card",children:[C.jsx("div",{className:"feature-icon",children:""}),C.jsx("h3",{children:"Earn Glory"}),C.jsx("p",{children:'Unlock badges like "Hercules Strength" and "Titan Endurance".'})]})]}),C.jsx("style",{children:`
        .landing-container {
          min-height: 100vh;
          background: var(--bg-app);
          color: var(--text-main);
          padding: 0 var(--spacing-md);
          transition: background-color 0.3s ease, color 0.3s ease;
        }

        .landing-nav {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 0;
          max-width: 1200px;
          margin: 0 auto;
        }

        .logo {
          font-weight: 800;
          font-size: 20px;
          color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle-landing {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-main);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .theme-toggle-landing:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary);
        }

        .btn-login {
          background: transparent;
          color: var(--text-main);
          border: 1px solid var(--border);
          padding: 8px 20px;
          border-radius: var(--radius-full);
          transition: all 0.2s;
        }

        .btn-login:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        .hero {
          text-align: center;
          padding: 80px 20px;
          max-width: 800px;
          margin: 0 auto;
        }

        .hero-title {
          font-size: 48px;
          font-weight: 900;
          line-height: 1.1;
          margin-bottom: 20px;
        }

        .highlight {
          color: var(--primary);
          text-shadow: 0 0 20px var(--primary-glow);
        }

        .hero-subtitle {
          font-size: 18px;
          color: var(--text-muted);
          margin-bottom: 40px;
          line-height: 1.6;
        }

        .btn-hero {
          font-size: 18px;
          padding: 16px 40px;
        }

        .features {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 30px;
          max-width: 1000px;
          margin: 40px auto;
          padding-bottom: 80px;
        }

        .feature-card {
          background: var(--bg-card);
          padding: 30px;
          border-radius: var(--radius-md);
          text-align: center;
          border: 1px solid rgba(255,255,255,0.05);
          transition: transform 0.2s;
        }

        .feature-card:hover {
          transform: translateY(-5px);
          border-color: var(--primary);
        }

        .feature-icon {
          font-size: 40px;
          margin-bottom: 20px;
        }

        .feature-card h3 {
          margin-bottom: 10px;
          color: var(--text-main);
        }

        .feature-card p {
          color: var(--text-muted);
          font-size: 14px;
        }

        @media (max-width: 600px) {
          .hero-title {
            font-size: 36px;
          }
        }
      `})]})},iD=({onNavigate:r})=>{const[t,i]=Ne.useState(""),[s,l]=Ne.useState(""),[u,d]=Ne.useState(""),{login:g,loginWithGoogle:_}=ki(),y=async()=>{const S=await _();S.success?r("dashboard"):d(S.error||"Google login failed")},b=S=>{if(S.preventDefault(),t.trim()&&s.trim()){const D=g(t,s);D.success||d(D.error)}else d("Please enter username and password")};return C.jsxs("div",{className:"auth-container full-screen-center",children:[C.jsxs("div",{className:"background-blobs",children:[C.jsx("div",{className:"blob blob-1"}),C.jsx("div",{className:"blob blob-2"})]}),C.jsxs("div",{className:"card auth-card glass-panel",children:[C.jsxs("div",{className:"auth-header",children:[C.jsx("h1",{children:"Welcome Back"}),C.jsx("p",{className:"auth-subtitle",children:"Continue your legendary journey."})]}),C.jsxs("form",{onSubmit:b,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Username"}),C.jsx("input",{type:"text",value:t,onChange:S=>{i(S.target.value),d("")},placeholder:"e.g. Hercules",autoFocus:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Password"}),C.jsx("input",{type:"password",value:s,onChange:S=>{l(S.target.value),d("")},placeholder:"Enter your password"})]}),u&&C.jsx("p",{className:"error-msg",children:u}),C.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Login"})]}),C.jsx("div",{className:"divider",children:C.jsx("span",{children:"OR"})}),C.jsxs("button",{className:"btn-google btn-full",onClick:y,children:[C.jsx("span",{className:"google-icon",children:"G"})," Login with Google"]}),C.jsxs("p",{className:"auth-footer",children:["New here? ",C.jsx("button",{className:"btn-link",onClick:()=>r("signup"),children:"Create Account"})]})]}),C.jsx("style",{children:`
  .auth - container {
  position: relative;
  overflow: hidden;
}
        
        .background - blobs {
  position: absolute;
  top: 0;
  left: 0;
  width: 100 %;
  height: 100 %;
  z - index: -1;
  pointer - events: none;
}
        
        .blob {
  position: absolute;
  border - radius: 50 %;
  filter: blur(80px);
  opacity: 0.4;
}
        
        .blob - 1 {
  width: 300px;
  height: 300px;
  background: var(--primary);
  top: -100px;
  left: -100px;
  animation: float 10s infinite ease -in -out;
}
        
        .blob - 2 {
  width: 250px;
  height: 250px;
  background: var(--secondary);
  bottom: -50px;
  right: -50px;
  animation: float 8s infinite ease -in -out reverse;
}

@keyframes float {
  0 %, 100 % { transform: translate(0, 0); }
  50 % { transform: translate(20px, 20px); }
}

        .auth - card {
  width: 100 %;
  max - width: 400px;
  margin: 0 auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box - shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

        .auth - header {
  text - align: center;
  margin - bottom: 32px;
}
        
        .auth - subtitle {
  color: var(--text - muted);
  margin - top: 8px;
}

        .form - group {
  margin - bottom: 20px;
}

        .btn - full {
  width: 100 %;
  justify - content: center;
}
        
        .mt - 2 { margin - top: 16px; }

        .error - msg {
  color: var(--error);
  font - size: 12px;
  margin - top: 5px;
  text - align: center;
}

        .divider {
  margin: 24px 0;
  text - align: center;
  position: relative;
}

        .divider::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50 %;
  width: 100 %;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

        .divider span {
  background: var(--bg - card);
  padding: 0 10px;
  color: var(--text - muted);
  font - size: 12px;
  position: relative;
}

        .btn - google {
  background: white;
  color: #333;
  display: flex;
  align - items: center;
  justify - content: center;
  gap: 10px;
  font - weight: 600;
  padding: 12px;
  border - radius: var(--radius - full);
  transition: filter 0.2s;
}

        .btn - google:hover {
  filter: brightness(0.9);
}

        .google - icon {
  font - weight: 900;
  color: #4285F4;
}
        
        .auth - footer {
  text - align: center;
  margin - top: 24px;
  font - size: 0.9rem;
  color: var(--text - muted);
}
        
        .btn - link {
  background: none;
  color: var(--primary);
  padding: 0;
  font - weight: 600;
  text - decoration: underline;
}
`})]})},rD=({onNavigate:r})=>{const[t,i]=Ne.useState(""),[s,l]=Ne.useState(""),[u,d]=Ne.useState(""),{signup:g,loginWithGoogle:_}=ki(),y=b=>{if(b.preventDefault(),t.trim()&&s.trim()){const S=g(t,s);S.success?r("dashboard"):d(S.error)}else d("Please fill in all fields")};return C.jsxs("div",{className:"auth-container full-screen-center",children:[C.jsxs("div",{className:"background-blobs",children:[C.jsx("div",{className:"blob blob-1"}),C.jsx("div",{className:"blob blob-2"})]}),C.jsxs("div",{className:"card auth-card glass-panel",children:[C.jsxs("div",{className:"auth-header",children:[C.jsx("h2",{children:"Begin Your Journey"}),C.jsx("p",{className:"auth-subtitle",children:"Create a unique username to track your progress."})]}),C.jsxs("form",{onSubmit:y,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Choose Username"}),C.jsx("input",{type:"text",value:t,onChange:b=>{i(b.target.value),d("")},placeholder:"Choose a username",autoFocus:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Password"}),C.jsx("input",{type:"password",value:s,onChange:b=>{l(b.target.value),d("")},placeholder:"Create a password"})]}),u&&C.jsx("p",{className:"error-msg",children:u}),C.jsx("button",{type:"submit",className:"btn-primary btn-full mt-2",children:"Start Adventure"})]}),C.jsx("div",{className:"divider",children:C.jsx("span",{children:"OR"})}),C.jsxs("button",{className:"btn-google btn-full",onClick:handleGoogleLogin,children:[C.jsx("span",{className:"google-icon",children:"G"})," Sign up with Google"]}),C.jsxs("p",{className:"auth-footer",children:["Already have an account? ",C.jsx("button",{className:"btn-link",onClick:()=>r("login"),children:"Login"})]})]}),C.jsx("style",{children:`
  .auth - container {
  position: relative;
  overflow: hidden;
}
        
        .background - blobs {
  position: absolute;
  top: 0;
  left: 0;
  width: 100 %;
  height: 100 %;
  z - index: -1;
  pointer - events: none;
}
        
        .blob {
  position: absolute;
  border - radius: 50 %;
  filter: blur(80px);
  opacity: 0.4;
}
        
        .blob - 1 {
  width: 300px;
  height: 300px;
  background: var(--primary);
  top: -100px;
  right: -100px;
  animation: float 10s infinite ease -in -out;
}
        
        .blob - 2 {
  width: 250px;
  height: 250px;
  background: var(--secondary);
  bottom: -50px;
  left: -50px;
  animation: float 8s infinite ease -in -out reverse;
}

@keyframes float {
  0 %, 100 % { transform: translate(0, 0); }
  50 % { transform: translate(20px, 20px); }
}

        .auth - card {
  width: 100 %;
  max - width: 400px;
  margin: 0 auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box - shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

        .auth - header {
  text - align: center;
  margin - bottom: 32px;
}
        
        .auth - subtitle {
  color: var(--text - muted);
  margin - top: 8px;
}

        .form - group {
  margin - bottom: 20px;
}

        .btn - full {
  width: 100 %;
  justify - content: center;
}
        
        .mt - 2 { margin - top: 16px; }

        .error - msg {
  color: var(--error);
  font - size: 12px;
  margin - top: 5px;
  text - align: center;
}

        .divider {
  margin: 24px 0;
  text - align: center;
  position: relative;
}

        .divider::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50 %;
  width: 100 %;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
}

        .divider span {
  background: var(--bg - card);
  padding: 0 10px;
  color: var(--text - muted);
  font - size: 12px;
  position: relative;
}

        .btn - google {
  background: white;
  color: #333;
  display: flex;
  align - items: center;
  justify - content: center;
  gap: 10px;
  font - weight: 600;
  padding: 12px;
  border - radius: var(--radius - full);
  transition: filter 0.2s;
}

        .btn - google:hover {
  filter: brightness(0.9);
}

        .google - icon {
  font - weight: 900;
  color: #4285F4;
}
        
        .auth - footer {
  text - align: center;
  margin - top: 24px;
  font - size: 0.9rem;
  color: var(--text - muted);
}
        
        .btn - link {
  background: none;
  color: var(--primary);
  padding: 0;
  font - weight: 600;
  text - decoration: underline;
}
`})]})},sD=()=>{const{isAuthenticated:r}=ki(),[t,i]=Ne.useState("dashboard"),[s,l]=Ne.useState("landing");if(!r)return s==="login"?C.jsx(iD,{onNavigate:l}):s==="signup"?C.jsx(rD,{onNavigate:l}):C.jsx(nD,{onGetStarted:l});const u=()=>{switch(t){case"dashboard":return C.jsx(M0,{onStartWorkout:()=>i("workout")});case"workout":return C.jsx(WN,{onFinish:()=>i("dashboard")});case"history":return C.jsx(tD,{});case"badges":return C.jsx(eD,{});default:return C.jsx(M0,{})}};return C.jsx(QN,{activeTab:t,onTabChange:i,children:u()})};function aD(){return C.jsx(GN,{children:C.jsx(sD,{})})}fA.createRoot(document.getElementById("root")).render(C.jsx(Ne.StrictMode,{children:C.jsx(aD,{})}));
